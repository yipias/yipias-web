(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function uE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Tm={exports:{}},zl={};var av;function rS(){if(av)return zl;av=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:c}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var ov;function sS(){return ov||(ov=1,Tm.exports=rS()),Tm.exports}var m=sS(),bm={exports:{}},Ne={};var lv;function aS(){if(lv)return Ne;lv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function L(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,V={};function X(j,Q,ae){this.props=j,this.context=Q,this.refs=V,this.updater=ae||U}X.prototype.isReactComponent={},X.prototype.setState=function(j,Q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Q,"setState")},X.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function J(){}J.prototype=X.prototype;function ie(j,Q,ae){this.props=j,this.context=Q,this.refs=V,this.updater=ae||U}var oe=ie.prototype=new J;oe.constructor=ie,B(oe,X.prototype),oe.isPureReactComponent=!0;var ce=Array.isArray;function ve(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(j,Q,ae){var ue=ae.ref;return{$$typeof:i,type:j,key:Q,ref:ue!==void 0?ue:null,props:ae}}function k(j,Q){return I(j.type,Q,j.props)}function D(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function P(j){var Q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ae){return Q[ae]})}var C=/\/+/g;function Oe(j,Q){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):Q.toString(36)}function Ve(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ve,ve):(j.status="pending",j.then(function(Q){j.status==="pending"&&(j.status="fulfilled",j.value=Q)},function(Q){j.status==="pending"&&(j.status="rejected",j.reason=Q)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function K(j,Q,ae,ue,Ae){var Te=typeof j;(Te==="undefined"||Te==="boolean")&&(j=null);var Be=!1;if(j===null)Be=!0;else switch(Te){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(j.$$typeof){case i:case e:Be=!0;break;case E:return Be=j._init,K(Be(j._payload),Q,ae,ue,Ae)}}if(Be)return Ae=Ae(j),Be=ue===""?"."+Oe(j,0):ue,ce(Ae)?(ae="",Be!=null&&(ae=Be.replace(C,"$&/")+"/"),K(Ae,Q,ae,"",function(vi){return vi})):Ae!=null&&(D(Ae)&&(Ae=k(Ae,ae+(Ae.key==null||j&&j.key===Ae.key?"":(""+Ae.key).replace(C,"$&/")+"/")+Be)),Q.push(Ae)),1;Be=0;var St=ue===""?".":ue+":";if(ce(j))for(var ut=0;ut<j.length;ut++)ue=j[ut],Te=St+Oe(ue,ut),Be+=K(ue,Q,ae,Te,Ae);else if(ut=L(j),typeof ut=="function")for(j=ut.call(j),ut=0;!(ue=j.next()).done;)ue=ue.value,Te=St+Oe(ue,ut++),Be+=K(ue,Q,ae,Te,Ae);else if(Te==="object"){if(typeof j.then=="function")return K(Ve(j),Q,ae,ue,Ae);throw Q=String(j),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Be}function se(j,Q,ae){if(j==null)return j;var ue=[],Ae=0;return K(j,ue,"","",function(Te){return Q.call(ae,Te,Ae++)}),ue}function ge(j){if(j._status===-1){var Q=j._result;Q=Q(),Q.then(function(ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=ae)},function(ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=ae)}),j._status===-1&&(j._status=0,j._result=Q)}if(j._status===1)return j._result.default;throw j._result}var Le=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},je={map:se,forEach:function(j,Q,ae){se(j,function(){Q.apply(this,arguments)},ae)},count:function(j){var Q=0;return se(j,function(){Q++}),Q},toArray:function(j){return se(j,function(Q){return Q})||[]},only:function(j){if(!D(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ne.Activity=b,Ne.Children=je,Ne.Component=X,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=ie,Ne.StrictMode=s,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(j){return x.H.useMemoCache(j)}},Ne.cache=function(j){return function(){return j.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(j,Q,ae){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ue=B({},j.props),Ae=j.key;if(Q!=null)for(Te in Q.key!==void 0&&(Ae=""+Q.key),Q)!R.call(Q,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Q.ref===void 0||(ue[Te]=Q[Te]);var Te=arguments.length-2;if(Te===1)ue.children=ae;else if(1<Te){for(var Be=Array(Te),St=0;St<Te;St++)Be[St]=arguments[St+2];ue.children=Be}return I(j.type,Ae,ue)},Ne.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},Ne.createElement=function(j,Q,ae){var ue,Ae={},Te=null;if(Q!=null)for(ue in Q.key!==void 0&&(Te=""+Q.key),Q)R.call(Q,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ae[ue]=Q[ue]);var Be=arguments.length-2;if(Be===1)Ae.children=ae;else if(1<Be){for(var St=Array(Be),ut=0;ut<Be;ut++)St[ut]=arguments[ut+2];Ae.children=St}if(j&&j.defaultProps)for(ue in Be=j.defaultProps,Be)Ae[ue]===void 0&&(Ae[ue]=Be[ue]);return I(j,Te,Ae)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(j){return{$$typeof:p,render:j}},Ne.isValidElement=D,Ne.lazy=function(j){return{$$typeof:E,_payload:{_status:-1,_result:j},_init:ge}},Ne.memo=function(j,Q){return{$$typeof:y,type:j,compare:Q===void 0?null:Q}},Ne.startTransition=function(j){var Q=x.T,ae={};x.T=ae;try{var ue=j(),Ae=x.S;Ae!==null&&Ae(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ve,Le)}catch(Te){Le(Te)}finally{Q!==null&&ae.types!==null&&(Q.types=ae.types),x.T=Q}},Ne.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ne.use=function(j){return x.H.use(j)},Ne.useActionState=function(j,Q,ae){return x.H.useActionState(j,Q,ae)},Ne.useCallback=function(j,Q){return x.H.useCallback(j,Q)},Ne.useContext=function(j){return x.H.useContext(j)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(j,Q){return x.H.useDeferredValue(j,Q)},Ne.useEffect=function(j,Q){return x.H.useEffect(j,Q)},Ne.useEffectEvent=function(j){return x.H.useEffectEvent(j)},Ne.useId=function(){return x.H.useId()},Ne.useImperativeHandle=function(j,Q,ae){return x.H.useImperativeHandle(j,Q,ae)},Ne.useInsertionEffect=function(j,Q){return x.H.useInsertionEffect(j,Q)},Ne.useLayoutEffect=function(j,Q){return x.H.useLayoutEffect(j,Q)},Ne.useMemo=function(j,Q){return x.H.useMemo(j,Q)},Ne.useOptimistic=function(j,Q){return x.H.useOptimistic(j,Q)},Ne.useReducer=function(j,Q,ae){return x.H.useReducer(j,Q,ae)},Ne.useRef=function(j){return x.H.useRef(j)},Ne.useState=function(j){return x.H.useState(j)},Ne.useSyncExternalStore=function(j,Q,ae){return x.H.useSyncExternalStore(j,Q,ae)},Ne.useTransition=function(){return x.H.useTransition()},Ne.version="19.2.4",Ne}var cv;function Cp(){return cv||(cv=1,bm.exports=aS()),bm.exports}var O=Cp();const oS=uE(O);var Am={exports:{}},Bl={},Sm={exports:{}},wm={};var uv;function lS(){return uv||(uv=1,(function(i){function e(K,se){var ge=K.length;K.push(se);e:for(;0<ge;){var Le=ge-1>>>1,je=K[Le];if(0<o(je,se))K[Le]=se,K[ge]=je,ge=Le;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var se=K[0],ge=K.pop();if(ge!==se){K[0]=ge;e:for(var Le=0,je=K.length,j=je>>>1;Le<j;){var Q=2*(Le+1)-1,ae=K[Q],ue=Q+1,Ae=K[ue];if(0>o(ae,ge))ue<je&&0>o(Ae,ae)?(K[Le]=Ae,K[ue]=ge,Le=ue):(K[Le]=ae,K[Q]=ge,Le=Q);else if(ue<je&&0>o(Ae,ge))K[Le]=Ae,K[ue]=ge,Le=ue;else break e}}return se}function o(K,se){var ge=K.sortIndex-se.sortIndex;return ge!==0?ge:K.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],y=[],E=1,b=null,w=3,L=!1,U=!1,B=!1,V=!1,X=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function oe(K){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=K)s(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(y)}}function ce(K){if(B=!1,oe(K),!U)if(n(g)!==null)U=!0,ve||(ve=!0,P());else{var se=n(y);se!==null&&Ve(ce,se.startTime-K)}}var ve=!1,x=-1,R=5,I=-1;function k(){return V?!0:!(i.unstable_now()-I<R)}function D(){if(V=!1,ve){var K=i.unstable_now();I=K;var se=!0;try{e:{U=!1,B&&(B=!1,J(x),x=-1),L=!0;var ge=w;try{t:{for(oe(K),b=n(g);b!==null&&!(b.expirationTime>K&&k());){var Le=b.callback;if(typeof Le=="function"){b.callback=null,w=b.priorityLevel;var je=Le(b.expirationTime<=K);if(K=i.unstable_now(),typeof je=="function"){b.callback=je,oe(K),se=!0;break t}b===n(g)&&s(g),oe(K)}else s(g);b=n(g)}if(b!==null)se=!0;else{var j=n(y);j!==null&&Ve(ce,j.startTime-K),se=!1}}break e}finally{b=null,w=ge,L=!1}se=void 0}}finally{se?P():ve=!1}}}var P;if(typeof ie=="function")P=function(){ie(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Oe=C.port2;C.port1.onmessage=D,P=function(){Oe.postMessage(null)}}else P=function(){X(D,0)};function Ve(K,se){x=X(function(){K(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(K){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var ge=w;w=se;try{return K()}finally{w=ge}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ge=w;w=K;try{return se()}finally{w=ge}},i.unstable_scheduleCallback=function(K,se,ge){var Le=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Le+ge:Le):ge=Le,K){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=ge+je,K={id:E++,callback:se,priorityLevel:K,startTime:ge,expirationTime:je,sortIndex:-1},ge>Le?(K.sortIndex=ge,e(y,K),n(g)===null&&K===n(y)&&(B?(J(x),x=-1):B=!0,Ve(ce,ge-Le))):(K.sortIndex=je,e(g,K),U||L||(U=!0,ve||(ve=!0,P()))),K},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(K){var se=w;return function(){var ge=w;w=se;try{return K.apply(this,arguments)}finally{w=ge}}}})(wm)),wm}var hv;function cS(){return hv||(hv=1,Sm.exports=lS()),Sm.exports}var Rm={exports:{}},an={};var dv;function uS(){if(dv)return an;dv=1;var i=Cp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},an.flushSync=function(g){var y=h.T,E=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=E,s.d.f()}},an.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},an.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},an.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=p(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:L}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},an.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},an.requestFormReset=function(g){s.d.r(g)},an.unstable_batchedUpdates=function(g,y){return g(y)},an.useFormState=function(g,y,E){return h.H.useFormState(g,y,E)},an.useFormStatus=function(){return h.H.useHostTransitionStatus()},an.version="19.2.4",an}var fv;function hS(){if(fv)return Rm.exports;fv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rm.exports=uS(),Rm.exports}var mv;function dS(){if(mv)return Bl;mv=1;var i=cS(),e=Cp(),n=hS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function y(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),t;if(f===l)return g(d),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var v=!1,A=d.child;A;){if(A===a){v=!0,a=d,l=f;break}if(A===l){v=!0,l=d,a=f;break}A=A.sibling}if(!v){for(A=f.child;A;){if(A===a){v=!0,a=f,l=d;break}if(A===l){v=!0,l=f,a=d;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case X:return"Profiler";case V:return"StrictMode";case ce:return"Suspense";case ve:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case ie:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case oe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return r=t.displayName||null,r!==null?r:Oe(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return Oe(t(r))}catch{}}return null}var Ve=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Le=[],je=-1;function j(t){return{current:t}}function Q(t){0>je||(t.current=Le[je],Le[je]=null,je--)}function ae(t,r){je++,Le[je]=t.current,t.current=r}var ue=j(null),Ae=j(null),Te=j(null),Be=j(null);function St(t,r){switch(ae(Te,r),ae(Ae,t),ae(ue,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?I_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=I_(r),t=N_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ue),ae(ue,t)}function ut(){Q(ue),Q(Ae),Q(Te)}function vi(t){t.memoizedState!==null&&ae(Be,t);var r=ue.current,a=N_(r,t.type);r!==a&&(ae(Ae,t),ae(ue,a))}function Or(t){Ae.current===t&&(Q(ue),Q(Ae)),Be.current===t&&(Q(Be),Pl._currentValue=ge)}var jr,Mr;function kn(t){if(jr===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);jr=r&&r[1]||"",Mr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jr+t+Mr}var pe=!1;function Ce(t,r){if(!t||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var G=$}Reflect.construct(t,[],te)}else{try{te.call()}catch($){G=$}t.call(te.prototype)}}else{try{throw Error()}catch($){G=$}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],A=f[1];if(v&&A){var N=v.split(`
`),F=A.split(`
`);for(d=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===N.length||d===F.length)for(l=N.length-1,d=F.length-1;1<=l&&0<=d&&N[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(N[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||N[l]!==F[d]){var W=`
`+N[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=d);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?kn(a):""}function xe(t,r){switch(t.tag){case 26:case 27:case 5:return kn(t.type);case 16:return kn("Lazy");case 13:return t.child!==r&&r!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return Ce(t.type,!1);case 11:return Ce(t.type.render,!1);case 1:return Ce(t.type,!0);case 31:return kn("Activity");default:return""}}function Re(t){try{var r="",a=null;do r+=xe(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var fe=Object.prototype.hasOwnProperty,be=i.unstable_scheduleCallback,He=i.unstable_cancelCallback,Gt=i.unstable_shouldYield,hn=i.unstable_requestPaint,pt=i.unstable_now,Pn=i.unstable_getCurrentPriorityLevel,dn=i.unstable_ImmediatePriority,Zn=i.unstable_UserBlockingPriority,kr=i.unstable_NormalPriority,Ad=i.unstable_LowPriority,Pc=i.unstable_IdlePriority,Vc=i.log,Lc=i.unstable_setDisableYieldValue,ei=null,Xt=null;function Vn(t){if(typeof Vc=="function"&&Lc(t),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(ei,t)}catch{}}var wt=Math.clz32?Math.clz32:zc,Uc=Math.log,Na=Math.LN2;function zc(t){return t>>>=0,t===0?32:31-(Uc(t)/Na|0)|0}var Ei=256,Ps=262144,Ot=4194304;function Ti(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bi(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~f,l!==0?d=Ti(l):(v&=A,v!==0?d=Ti(v):a||(a=A&~t,a!==0&&(d=Ti(a))))):(A=l&~f,A!==0?d=Ti(A):v!==0?d=Ti(v):a||(a=l&~t,a!==0&&(d=Ti(a)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:d}function ti(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Sd(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bc(){var t=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),t}function Ai(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Vs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wd(t,r,a,l,d,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,N=t.expirationTimes,F=t.hiddenUpdates;for(a=v&~a;0<a;){var W=31-wt(a),te=1<<W;A[W]=0,N[W]=-1;var G=F[W];if(G!==null)for(F[W]=null,W=0;W<G.length;W++){var $=G[W];$!==null&&($.lane&=-536870913)}a&=~te}l!==0&&Ls(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~r))}function Ls(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-wt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Bo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-wt(a),d=1<<l;d&r|t[l]&r&&(t[l]|=r),a&=~d}}function Ho(t,r){var a=r&-r;return a=(a&42)!==0?1:Us(a),(a&(t.suspendedLanes|r))!==0?0:a}function Us(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function er(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hc(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Z_(t.type))}function ni(t,r){var a=se.p;try{return se.p=t,r()}finally{se.p=a}}var ii=Math.random().toString(36).slice(2),jt="__reactFiber$"+ii,Yt="__reactProps$"+ii,Si="__reactContainer$"+ii,Da="__reactEvents$"+ii,Rd="__reactListeners$"+ii,qc="__reactHandles$"+ii,Fc="__reactResources$"+ii,wi="__reactMarker$"+ii;function Oa(t){delete t[jt],delete t[Yt],delete t[Da],delete t[Rd],delete t[qc]}function Ri(t){var r=t[jt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Si]||a[jt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=V_(t);t!==null;){if(a=t[jt])return a;t=V_(t)}return r}t=a,a=t.parentNode}return null}function Ln(t){if(t=t[jt]||t[Si]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Sn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ci(t){var r=t[Fc];return r||(r=t[Fc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Mt(t){t[wi]=!0}var qo=new Set,Fo={};function xi(t,r){Ii(t,r),Ii(t+"Capture",r)}function Ii(t,r){for(Fo[t]=r,t=0;t<r.length;t++)qo.add(r[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},$o={};function Gc(t){return fe.call($o,t)?!0:fe.call(Yo,t)?!1:Go.test(t)?$o[t]=!0:(Yo[t]=!0,!1)}function ja(t,r,a){if(Gc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function wn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function kt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ko(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function nt(t){if(!t._valueTracker){var r=Pr(t)?"checked":"value";t._valueTracker=Ko(t,r,""+t[r])}}function zs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Pr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Bs=/[\n"\\]/g;function gn(t){return t.replace(Bs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ma(t,r,a,l,d,f,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+$t(r)):t.value!==""+$t(r)&&(t.value=""+$t(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Qo(t,v,$t(r)):a!=null?Qo(t,v,$t(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+$t(A):t.removeAttribute("name")}function Yc(t,r,a,l,d,f,v,A){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){nt(t);return}a=a!=null?""+$t(a):"",r=r!=null?""+$t(r):a,A||r===t.value||(t.value=r),t.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),nt(t)}function Qo(t,r,a){r==="number"&&Ni(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Vr(t,r,a,l){if(t=t.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=r.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+$t(a),r=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function $c(t,r,a){if(r!=null&&(r=""+$t(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+$t(a):""}function Lr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ve(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=$t(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),nt(t)}function yn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Kc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Kc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Wo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&Xo(t,d,l)}else for(var f in r)r.hasOwnProperty(f)&&Xo(t,f,r[f])}function ka(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(t){return Ur.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ri(){}var Jo=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zr=null,Di=null;function Hs(t){var r=Ln(t);if(r&&(t=r.stateNode)){var a=t[Yt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ma(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var d=l[Yt]||null;if(!d)throw Error(s(90));Ma(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&zs(l)}break e;case"textarea":$c(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Vr(t,!!a.multiple,r,!1)}}}var Va=!1;function Br(t,r,a){if(Va)return t(r,a);Va=!0;try{var l=t(r);return l}finally{if(Va=!1,(zr!==null||Di!==null)&&(Hu(),zr&&(r=zr,t=Di,Di=zr=null,Hs(r),t)))for(r=0;r<t.length;r++)Hs(t[r])}}function si(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(zn)try{var st={};Object.defineProperty(st,"passive",{get:function(){qs=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{qs=!1}var Oi=null,Zo=null,Fs=null;function el(){if(Fs)return Fs;var t,r=Zo,a=r.length,l,d="value"in Oi?Oi.value:Oi.textContent,f=d.length;for(t=0;t<a&&r[t]===d[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===d[f-l];l++);return Fs=d.slice(t,1<l?1-l:void 0)}function Gs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function tr(){return!0}function ai(){return!1}function Wt(t){function r(a,l,d,f,v){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(f):f[A]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?tr:ai,this.isPropagationStopped=ai,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),r}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=Wt(nr),Hr=b({},nr,{view:0,detail:0}),tl=Wt(Hr),qr,La,Mi,Ua=b({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(qr=t.screenX-Mi.screenX,La=t.screenY-Mi.screenY):La=qr=0,Mi=t),qr)},movementY:function(t){return"movementY"in t?t.movementY:La}}),nl=Wt(Ua),Ys=b({},Ua,{dataTransfer:0}),Xc=Wt(Ys),Wc=b({},Hr,{relatedTarget:0}),$s=Wt(Wc),il=b({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jc=Wt(il),za=b({},nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zc=Wt(za),eu=b({},nr,{data:0}),ki=Wt(eu),tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=iu[t])?!!r[t]:!1}function Fr(){return ru}var fn=b({},Hr,{key:function(t){if(t.key){var r=tu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Gs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?Gs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),su=Wt(fn),au=b({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ir=Wt(au),u=b({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),_=Wt(u),T=b({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Wt(T),H=b({},Ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Wt(H),re=b({},nr,{newState:0,oldState:0}),Me=Wt(re),Rt=[9,13,27,32],Ze=zn&&"CompositionEvent"in window,gt=null;zn&&"documentMode"in document&&(gt=document.documentMode);var Bn=zn&&"TextEvent"in window&&!gt,Pi=zn&&(!Ze||gt&&8<gt&&11>=gt),oi=" ",li=!1;function Ks(t,r){switch(t){case"keyup":return Rt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ha=!1;function xb(t,r){switch(t){case"compositionend":return Ba(r);case"keypress":return r.which!==32?null:(li=!0,oi);case"textInput":return t=r.data,t===oi&&li?null:t;default:return null}}function Ib(t,r){if(Ha)return t==="compositionend"||!Ze&&Ks(t,r)?(t=el(),Fs=Zo=Oi=null,Ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Pi&&r.locale!=="ko"?null:r.data;default:return null}}var Nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Nb[t.type]:r==="textarea"}function Bg(t,r,a,l){zr?Di?Di.push(l):Di=[l]:zr=l,r=Qu(r,"onChange"),0<r.length&&(a=new ji("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var rl=null,sl=null;function Db(t){A_(t,0)}function ou(t){var r=Sn(t);if(zs(r))return t}function Hg(t,r){if(t==="change")return r}var qg=!1;if(zn){var Cd;if(zn){var xd="oninput"in document;if(!xd){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),xd=typeof Fg.oninput=="function"}Cd=xd}else Cd=!1;qg=Cd&&(!document.documentMode||9<document.documentMode)}function Gg(){rl&&(rl.detachEvent("onpropertychange",Yg),sl=rl=null)}function Yg(t){if(t.propertyName==="value"&&ou(sl)){var r=[];Bg(r,sl,t,Un(t)),Br(Db,r)}}function Ob(t,r,a){t==="focusin"?(Gg(),rl=r,sl=a,rl.attachEvent("onpropertychange",Yg)):t==="focusout"&&Gg()}function jb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ou(sl)}function Mb(t,r){if(t==="click")return ou(r)}function kb(t,r){if(t==="input"||t==="change")return ou(r)}function Pb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Rn=typeof Object.is=="function"?Object.is:Pb;function al(t,r){if(Rn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!fe.call(r,d)||!Rn(t[d],r[d]))return!1}return!0}function $g(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kg(t,r){var a=$g(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$g(a)}}function Qg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Qg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ni(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ni(t.document)}return r}function Id(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Vb=zn&&"documentMode"in document&&11>=document.documentMode,qa=null,Nd=null,ol=null,Dd=!1;function Wg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Dd||qa==null||qa!==Ni(l)||(l=qa,"selectionStart"in l&&Id(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Qu(Nd,"onSelect"),0<l.length&&(r=new ji("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=qa)))}function Qs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Fa={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},Od={},Jg={};zn&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Xs(t){if(Od[t])return Od[t];if(!Fa[t])return t;var r=Fa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Jg)return Od[t]=r[a];return t}var Zg=Xs("animationend"),e1=Xs("animationiteration"),t1=Xs("animationstart"),Lb=Xs("transitionrun"),Ub=Xs("transitionstart"),zb=Xs("transitioncancel"),n1=Xs("transitionend"),i1=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jd.push("scrollEnd");function ci(t,r){i1.set(t,r),xi(r,[t])}var lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],Ga=0,Md=0;function cu(){for(var t=Ga,r=Md=Ga=0;r<t;){var a=Hn[r];Hn[r++]=null;var l=Hn[r];Hn[r++]=null;var d=Hn[r];Hn[r++]=null;var f=Hn[r];if(Hn[r++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}f!==0&&r1(a,d,f)}}function uu(t,r,a,l){Hn[Ga++]=t,Hn[Ga++]=r,Hn[Ga++]=a,Hn[Ga++]=l,Md|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function kd(t,r,a,l){return uu(t,r,a,l),hu(t)}function Ws(t,r){return uu(t,null,null,r),hu(t)}function r1(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&r!==null&&(d=31-wt(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[r]:l.push(r),r.lane=a|536870912),f):null}function hu(t){if(50<Il)throw Il=0,Gf=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ya={};function Bb(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,r,a,l){return new Bb(t,r,a,l)}function Pd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rr(t,r){var a=t.alternate;return a===null?(a=Cn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function s1(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function du(t,r,a,l,d,f){var v=0;if(l=t,typeof t=="function")Pd(t)&&(v=1);else if(typeof t=="string")v=YA(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Cn(31,a,r,d),t.elementType=I,t.lanes=f,t;case B:return Js(a.children,d,f,r);case V:v=8,d|=24;break;case X:return t=Cn(12,a,r,d|2),t.elementType=X,t.lanes=f,t;case ce:return t=Cn(13,a,r,d),t.elementType=ce,t.lanes=f,t;case ve:return t=Cn(19,a,r,d),t.elementType=ve,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:v=10;break e;case J:v=9;break e;case oe:v=11;break e;case x:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Cn(v,a,r,d),r.elementType=t,r.type=l,r.lanes=f,r}function Js(t,r,a,l){return t=Cn(7,t,l,r),t.lanes=a,t}function Vd(t,r,a){return t=Cn(6,t,null,r),t.lanes=a,t}function a1(t){var r=Cn(18,null,null,0);return r.stateNode=t,r}function Ld(t,r,a){return r=Cn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var o1=new WeakMap;function qn(t,r){if(typeof t=="object"&&t!==null){var a=o1.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Re(r)},o1.set(t,r),r)}return{value:t,source:r,stack:Re(r)}}var $a=[],Ka=0,fu=null,ll=0,Fn=[],Gn=0,Gr=null,Vi=1,Li="";function sr(t,r){$a[Ka++]=ll,$a[Ka++]=fu,fu=t,ll=r}function l1(t,r,a){Fn[Gn++]=Vi,Fn[Gn++]=Li,Fn[Gn++]=Gr,Gr=t;var l=Vi;t=Li;var d=32-wt(l)-1;l&=~(1<<d),a+=1;var f=32-wt(r)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Vi=1<<32-wt(r)+d|a<<d|l,Li=f+t}else Vi=1<<f|a<<d|l,Li=t}function Ud(t){t.return!==null&&(sr(t,1),l1(t,1,0))}function zd(t){for(;t===fu;)fu=$a[--Ka],$a[Ka]=null,ll=$a[--Ka],$a[Ka]=null;for(;t===Gr;)Gr=Fn[--Gn],Fn[Gn]=null,Li=Fn[--Gn],Fn[Gn]=null,Vi=Fn[--Gn],Fn[Gn]=null}function c1(t,r){Fn[Gn++]=Vi,Fn[Gn++]=Li,Fn[Gn++]=Gr,Vi=r.id,Li=r.overflow,Gr=t}var Jt=null,dt=null,Ke=!1,Yr=null,Yn=!1,Bd=Error(s(519));function $r(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(qn(r,t)),Bd}function u1(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[jt]=t,r[Yt]=l,a){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(a=0;a<Dl.length;a++)ze(Dl[a],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),Yc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),Lr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||C_(r.textContent,a)?(l.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),l.onScroll!=null&&ze("scroll",r),l.onScrollEnd!=null&&ze("scrollend",r),l.onClick!=null&&(r.onclick=ri),r=!0):r=!1,r||$r(t,!0)}function h1(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Jt=Jt.return}}function Qa(t){if(t!==Jt)return!1;if(!Ke)return h1(t),Ke=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||am(t.type,t.memoizedProps)),a=!a),a&&dt&&$r(t),h1(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));dt=P_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));dt=P_(t)}else r===27?(r=dt,os(t.type)?(t=hm,hm=null,dt=t):dt=r):dt=Jt?Kn(t.stateNode.nextSibling):null;return!0}function Zs(){dt=Jt=null,Ke=!1}function Hd(){var t=Yr;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),Yr=null),t}function cl(t){Yr===null?Yr=[t]:Yr.push(t)}var qd=j(null),ea=null,ar=null;function Kr(t,r,a){ae(qd,r._currentValue),r._currentValue=a}function or(t){t._currentValue=qd.current,Q(qd)}function Fd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Gd(t,r,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var A=f;f=d;for(var N=0;N<r.length;N++)if(A.context===r[N]){f.lanes|=a,A=f.alternate,A!==null&&(A.lanes|=a),Fd(f.return,a,t),l||(v=null);break e}f=A.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Fd(v,a,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Xa(t,r,a,l){t=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=d.type;Rn(d.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(d===Be.current){if(v=d.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}d=d.return}t!==null&&Gd(r,t,a,l),r.flags|=262144}function mu(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){ea=t,ar=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return d1(ea,t)}function pu(t,r){return ea===null&&ta(t),d1(t,r)}function d1(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ar===null){if(t===null)throw Error(s(308));ar=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ar=ar.next=r;return a}var Hb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},qb=i.unstable_scheduleCallback,Fb=i.unstable_NormalPriority,Pt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yd(){return{controller:new Hb,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&qb(Fb,function(){t.controller.abort()})}var hl=null,$d=0,Wa=0,Ja=null;function Gb(t,r){if(hl===null){var a=hl=[];$d=0,Wa=Wf(),Ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $d++,r.then(f1,f1),r}function f1(){if(--$d===0&&hl!==null){Ja!==null&&(Ja.status="fulfilled");var t=hl;hl=null,Wa=0,Ja=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Yb(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var m1=K.S;K.S=function(t,r){Wy=pt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Gb(t,r),m1!==null&&m1(t,r)};var na=j(null);function Kd(){var t=na.current;return t!==null?t:ct.pooledCache}function gu(t,r){r===null?ae(na,na.current):ae(na,r.pool)}function p1(){var t=Kd();return t===null?null:{parent:Pt._currentValue,pool:t}}var Za=Error(s(460)),Qd=Error(s(474)),yu=Error(s(542)),_u={then:function(){}};function g1(t){return t=t.status,t==="fulfilled"||t==="rejected"}function y1(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ri,ri),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,v1(t),t;default:if(typeof r.status=="string")r.then(ri,ri);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,v1(t),t}throw ra=r,Za}}function ia(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ra=a,Za):a}}var ra=null;function _1(){if(ra===null)throw Error(s(459));var t=ra;return ra=null,t}function v1(t){if(t===Za||t===yu)throw Error(s(483))}var eo=null,dl=0;function vu(t){var r=dl;return dl+=1,eo===null&&(eo=[]),y1(eo,t,r)}function fl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Eu(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function E1(t){function r(z,M){if(t){var q=z.deletions;q===null?(z.deletions=[M],z.flags|=16):q.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)r(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function d(z,M){return z=rr(z,M),z.index=0,z.sibling=null,z}function f(z,M,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<M?(z.flags|=67108866,M):q):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function A(z,M,q,Z){return M===null||M.tag!==6?(M=Vd(q,z.mode,Z),M.return=z,M):(M=d(M,q),M.return=z,M)}function N(z,M,q,Z){var ye=q.type;return ye===B?W(z,M,q.props.children,Z,q.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&ia(ye)===M.type)?(M=d(M,q.props),fl(M,q),M.return=z,M):(M=du(q.type,q.key,q.props,null,z.mode,Z),fl(M,q),M.return=z,M)}function F(z,M,q,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Ld(q,z.mode,Z),M.return=z,M):(M=d(M,q.children||[]),M.return=z,M)}function W(z,M,q,Z,ye){return M===null||M.tag!==7?(M=Js(q,z.mode,Z,ye),M.return=z,M):(M=d(M,q),M.return=z,M)}function te(z,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Vd(""+M,z.mode,q),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return q=du(M.type,M.key,M.props,null,z.mode,q),fl(q,M),q.return=z,q;case U:return M=Ld(M,z.mode,q),M.return=z,M;case R:return M=ia(M),te(z,M,q)}if(Ve(M)||P(M))return M=Js(M,z.mode,q,null),M.return=z,M;if(typeof M.then=="function")return te(z,vu(M),q);if(M.$$typeof===ie)return te(z,pu(z,M),q);Eu(z,M)}return null}function G(z,M,q,Z){var ye=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ye!==null?null:A(z,M,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case L:return q.key===ye?N(z,M,q,Z):null;case U:return q.key===ye?F(z,M,q,Z):null;case R:return q=ia(q),G(z,M,q,Z)}if(Ve(q)||P(q))return ye!==null?null:W(z,M,q,Z,null);if(typeof q.then=="function")return G(z,M,vu(q),Z);if(q.$$typeof===ie)return G(z,M,pu(z,q),Z);Eu(z,q)}return null}function $(z,M,q,Z,ye){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(q)||null,A(M,z,""+Z,ye);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case L:return z=z.get(Z.key===null?q:Z.key)||null,N(M,z,Z,ye);case U:return z=z.get(Z.key===null?q:Z.key)||null,F(M,z,Z,ye);case R:return Z=ia(Z),$(z,M,q,Z,ye)}if(Ve(Z)||P(Z))return z=z.get(q)||null,W(M,z,Z,ye,null);if(typeof Z.then=="function")return $(z,M,q,vu(Z),ye);if(Z.$$typeof===ie)return $(z,M,q,pu(M,Z),ye);Eu(M,Z)}return null}function de(z,M,q,Z){for(var ye=null,Xe=null,me=M,Pe=M=0,Fe=null;me!==null&&Pe<q.length;Pe++){me.index>Pe?(Fe=me,me=null):Fe=me.sibling;var We=G(z,me,q[Pe],Z);if(We===null){me===null&&(me=Fe);break}t&&me&&We.alternate===null&&r(z,me),M=f(We,M,Pe),Xe===null?ye=We:Xe.sibling=We,Xe=We,me=Fe}if(Pe===q.length)return a(z,me),Ke&&sr(z,Pe),ye;if(me===null){for(;Pe<q.length;Pe++)me=te(z,q[Pe],Z),me!==null&&(M=f(me,M,Pe),Xe===null?ye=me:Xe.sibling=me,Xe=me);return Ke&&sr(z,Pe),ye}for(me=l(me);Pe<q.length;Pe++)Fe=$(me,z,Pe,q[Pe],Z),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?Pe:Fe.key),M=f(Fe,M,Pe),Xe===null?ye=Fe:Xe.sibling=Fe,Xe=Fe);return t&&me.forEach(function(ds){return r(z,ds)}),Ke&&sr(z,Pe),ye}function Ee(z,M,q,Z){if(q==null)throw Error(s(151));for(var ye=null,Xe=null,me=M,Pe=M=0,Fe=null,We=q.next();me!==null&&!We.done;Pe++,We=q.next()){me.index>Pe?(Fe=me,me=null):Fe=me.sibling;var ds=G(z,me,We.value,Z);if(ds===null){me===null&&(me=Fe);break}t&&me&&ds.alternate===null&&r(z,me),M=f(ds,M,Pe),Xe===null?ye=ds:Xe.sibling=ds,Xe=ds,me=Fe}if(We.done)return a(z,me),Ke&&sr(z,Pe),ye;if(me===null){for(;!We.done;Pe++,We=q.next())We=te(z,We.value,Z),We!==null&&(M=f(We,M,Pe),Xe===null?ye=We:Xe.sibling=We,Xe=We);return Ke&&sr(z,Pe),ye}for(me=l(me);!We.done;Pe++,We=q.next())We=$(me,z,Pe,We.value,Z),We!==null&&(t&&We.alternate!==null&&me.delete(We.key===null?Pe:We.key),M=f(We,M,Pe),Xe===null?ye=We:Xe.sibling=We,Xe=We);return t&&me.forEach(function(iS){return r(z,iS)}),Ke&&sr(z,Pe),ye}function lt(z,M,q,Z){if(typeof q=="object"&&q!==null&&q.type===B&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case L:e:{for(var ye=q.key;M!==null;){if(M.key===ye){if(ye=q.type,ye===B){if(M.tag===7){a(z,M.sibling),Z=d(M,q.props.children),Z.return=z,z=Z;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&ia(ye)===M.type){a(z,M.sibling),Z=d(M,q.props),fl(Z,q),Z.return=z,z=Z;break e}a(z,M);break}else r(z,M);M=M.sibling}q.type===B?(Z=Js(q.props.children,z.mode,Z,q.key),Z.return=z,z=Z):(Z=du(q.type,q.key,q.props,null,z.mode,Z),fl(Z,q),Z.return=z,z=Z)}return v(z);case U:e:{for(ye=q.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(z,M.sibling),Z=d(M,q.children||[]),Z.return=z,z=Z;break e}else{a(z,M);break}else r(z,M);M=M.sibling}Z=Ld(q,z.mode,Z),Z.return=z,z=Z}return v(z);case R:return q=ia(q),lt(z,M,q,Z)}if(Ve(q))return de(z,M,q,Z);if(P(q)){if(ye=P(q),typeof ye!="function")throw Error(s(150));return q=ye.call(q),Ee(z,M,q,Z)}if(typeof q.then=="function")return lt(z,M,vu(q),Z);if(q.$$typeof===ie)return lt(z,M,pu(z,q),Z);Eu(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(z,M.sibling),Z=d(M,q),Z.return=z,z=Z):(a(z,M),Z=Vd(q,z.mode,Z),Z.return=z,z=Z),v(z)):a(z,M)}return function(z,M,q,Z){try{dl=0;var ye=lt(z,M,q,Z);return eo=null,ye}catch(me){if(me===Za||me===yu)throw me;var Xe=Cn(29,me,null,z.mode);return Xe.lanes=Z,Xe.return=z,Xe}}}var sa=E1(!0),T1=E1(!1),Qr=!1;function Xd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=hu(t),r1(t,null,a),r}return uu(t,l,r,a),hu(t)}function ml(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Bo(t,a)}}function Jd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Zd=!1;function pl(){if(Zd){var t=Ja;if(t!==null)throw t}}function gl(t,r,a,l){Zd=!1;var d=t.updateQueue;Qr=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var N=A,F=N.next;N.next=null,v===null?f=F:v.next=F,v=N;var W=t.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==v&&(A===null?W.firstBaseUpdate=F:A.next=F,W.lastBaseUpdate=N))}if(f!==null){var te=d.baseState;v=0,W=F=N=null,A=f;do{var G=A.lane&-536870913,$=G!==A.lane;if($?(qe&G)===G:(l&G)===G){G!==0&&G===Wa&&(Zd=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var de=t,Ee=A;G=r;var lt=a;switch(Ee.tag){case 1:if(de=Ee.payload,typeof de=="function"){te=de.call(lt,te,G);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Ee.payload,G=typeof de=="function"?de.call(lt,te,G):de,G==null)break e;te=b({},te,G);break e;case 2:Qr=!0}}G=A.callback,G!==null&&(t.flags|=64,$&&(t.flags|=8192),$=d.callbacks,$===null?d.callbacks=[G]:$.push(G))}else $={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(F=W=$,N=te):W=W.next=$,v|=G;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;$=A,A=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);W===null&&(N=te),d.baseState=N,d.firstBaseUpdate=F,d.lastBaseUpdate=W,f===null&&(d.shared.lanes=0),ns|=v,t.lanes=v,t.memoizedState=te}}function b1(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function A1(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)b1(a[t],r)}var to=j(null),Tu=j(0);function S1(t,r){t=gr,ae(Tu,t),ae(to,r),gr=t|r.baseLanes}function ef(){ae(Tu,gr),ae(to,to.current)}function tf(){gr=Tu.current,Q(to),Q(Tu)}var xn=j(null),$n=null;function Jr(t){var r=t.alternate;ae(Ct,Ct.current&1),ae(xn,t),$n===null&&(r===null||to.current!==null||r.memoizedState!==null)&&($n=t)}function nf(t){ae(Ct,Ct.current),ae(xn,t),$n===null&&($n=t)}function w1(t){t.tag===22?(ae(Ct,Ct.current),ae(xn,t),$n===null&&($n=t)):Zr()}function Zr(){ae(Ct,Ct.current),ae(xn,xn.current)}function In(t){Q(xn),$n===t&&($n=null),Q(Ct)}var Ct=j(0);function bu(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||cm(a)||um(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var lr=0,ke=null,at=null,Vt=null,Au=!1,no=!1,aa=!1,Su=0,yl=0,io=null,$b=0;function Et(){throw Error(s(321))}function rf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Rn(t[a],r[a]))return!1;return!0}function sf(t,r,a,l,d,f){return lr=f,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=t===null||t.memoizedState===null?ly:Ef,aa=!1,f=a(l,d),aa=!1,no&&(f=C1(r,a,l,d)),R1(t),f}function R1(t){K.H=El;var r=at!==null&&at.next!==null;if(lr=0,Vt=at=ke=null,Au=!1,yl=0,io=null,r)throw Error(s(300));t===null||Lt||(t=t.dependencies,t!==null&&mu(t)&&(Lt=!0))}function C1(t,r,a,l){ke=t;var d=0;do{if(no&&(io=null),yl=0,no=!1,25<=d)throw Error(s(301));if(d+=1,Vt=at=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=cy,f=r(a,l)}while(no);return f}function Kb(){var t=K.H,r=t.useState()[0];return r=typeof r.then=="function"?_l(r):r,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(ke.flags|=1024),r}function af(){var t=Su!==0;return Su=0,t}function of(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function lf(t){if(Au){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Au=!1}lr=0,Vt=at=ke=null,no=!1,yl=Su=0,io=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ke.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function xt(){if(at===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var r=Vt===null?ke.memoizedState:Vt.next;if(r!==null)Vt=r,at=t;else{if(t===null)throw ke.alternate===null?Error(s(467)):Error(s(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Vt===null?ke.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var r=yl;return yl+=1,io===null&&(io=[]),t=y1(io,t,r),r=ke,(Vt===null?r.memoizedState:Vt.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?ly:Ef),t}function Ru(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===ie)return Zt(t)}throw Error(s(438,String(t)))}function cf(t){var r=null,a=ke.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=wu(),ke.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=k;return r.index++,a}function cr(t,r){return typeof r=="function"?r(t):r}function Cu(t){var r=xt();return uf(r,at,t)}function uf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}r.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{r=d.next;var A=v=null,N=null,F=r,W=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(qe&te)===te:(lr&te)===te){var G=F.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===Wa&&(W=!0);else if((lr&G)===G){F=F.next,G===Wa&&(W=!0);continue}else te={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(A=N=te,v=f):N=N.next=te,ke.lanes|=G,ns|=G;te=F.action,aa&&a(f,te),f=F.hasEagerState?F.eagerState:a(f,te)}else G={lane:te,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(A=N=G,v=f):N=N.next=G,ke.lanes|=te,ns|=te;F=F.next}while(F!==null&&F!==r);if(N===null?v=f:N.next=A,!Rn(f,t.memoizedState)&&(Lt=!0,W&&(a=Ja,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=N,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function hf(t){var r=xt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=t(f,v.action),v=v.next;while(v!==d);Rn(f,r.memoizedState)||(Lt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function x1(t,r,a){var l=ke,d=xt(),f=Ke;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Rn((at||d).memoizedState,a);if(v&&(d.memoizedState=a,Lt=!0),d=d.queue,mf(D1.bind(null,l,d,t),[t]),d.getSnapshot!==r||v||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,ro(9,{destroy:void 0},N1.bind(null,l,d,a,r),null),ct===null)throw Error(s(349));f||(lr&127)!==0||I1(l,r,a)}return a}function I1(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=ke.updateQueue,r===null?(r=wu(),ke.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function N1(t,r,a,l){r.value=a,r.getSnapshot=l,O1(r)&&j1(t)}function D1(t,r,a){return a(function(){O1(r)&&j1(t)})}function O1(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Rn(t,a)}catch{return!0}}function j1(t){var r=Ws(t,2);r!==null&&bn(r,t,2)}function df(t){var r=mn();if(typeof t=="function"){var a=t;if(t=a(),aa){Vn(!0);try{a()}finally{Vn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:t},r}function M1(t,r,a,l){return t.baseState=a,uf(t,at,typeof l=="function"?l:cr)}function Qb(t,r,a,l,d){if(Nu(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};K.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,k1(r,f)):(f.next=a.next,r.pending=a.next=f)}}function k1(t,r){var a=r.action,l=r.payload,d=t.state;if(r.isTransition){var f=K.T,v={};K.T=v;try{var A=a(d,l),N=K.S;N!==null&&N(v,A),P1(t,r,A)}catch(F){ff(t,r,F)}finally{f!==null&&v.types!==null&&(f.types=v.types),K.T=f}}else try{f=a(d,l),P1(t,r,f)}catch(F){ff(t,r,F)}}function P1(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){V1(t,r,l)},function(l){return ff(t,r,l)}):V1(t,r,a)}function V1(t,r,a){r.status="fulfilled",r.value=a,L1(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,k1(t,a)))}function ff(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,L1(r),r=r.next;while(r!==l)}t.action=null}function L1(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function U1(t,r){return r}function z1(t,r){if(Ke){var a=ct.formState;if(a!==null){e:{var l=ke;if(Ke){if(dt){t:{for(var d=dt,f=Yn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Kn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){dt=Kn(d.nextSibling),l=d.data==="F!";break e}}$r(l)}l=!1}l&&(r=a[0])}}return a=mn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U1,lastRenderedState:r},a.queue=l,a=sy.bind(null,ke,l),l.dispatch=a,l=df(!1),f=vf.bind(null,ke,!1,l.queue),l=mn(),d={state:r,dispatch:null,action:t,pending:null},l.queue=d,a=Qb.bind(null,ke,d,f,a),d.dispatch=a,l.memoizedState=t,[r,a,!1]}function B1(t){var r=xt();return H1(r,at,t)}function H1(t,r,a){if(r=uf(t,r,U1)[0],t=Cu(cr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=_l(r)}catch(v){throw v===Za?yu:v}else l=r;r=xt();var d=r.queue,f=d.dispatch;return a!==r.memoizedState&&(ke.flags|=2048,ro(9,{destroy:void 0},Xb.bind(null,d,a),null)),[l,f,t]}function Xb(t,r){t.action=r}function q1(t){var r=xt(),a=at;if(a!==null)return H1(r,a,t);xt(),r=r.memoizedState,a=xt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function ro(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=ke.updateQueue,r===null&&(r=wu(),ke.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function F1(){return xt().memoizedState}function xu(t,r,a,l){var d=mn();ke.flags|=t,d.memoizedState=ro(1|r,{destroy:void 0},a,l===void 0?null:l)}function Iu(t,r,a,l){var d=xt();l=l===void 0?null:l;var f=d.memoizedState.inst;at!==null&&l!==null&&rf(l,at.memoizedState.deps)?d.memoizedState=ro(r,f,a,l):(ke.flags|=t,d.memoizedState=ro(1|r,f,a,l))}function G1(t,r){xu(8390656,8,t,r)}function mf(t,r){Iu(2048,8,t,r)}function Wb(t){ke.flags|=4;var r=ke.updateQueue;if(r===null)r=wu(),ke.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Y1(t){var r=xt().memoizedState;return Wb({ref:r,nextImpl:t}),function(){if((et&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function $1(t,r){return Iu(4,2,t,r)}function K1(t,r){return Iu(4,4,t,r)}function Q1(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function X1(t,r,a){a=a!=null?a.concat([t]):null,Iu(4,4,Q1.bind(null,r,t),a)}function pf(){}function W1(t,r){var a=xt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&rf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function J1(t,r){var a=xt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&rf(r,l[1]))return l[0];if(l=t(),aa){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,r],l}function gf(t,r,a){return a===void 0||(lr&1073741824)!==0&&(qe&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=Zy(),ke.lanes|=t,ns|=t,a)}function Z1(t,r,a,l){return Rn(a,r)?a:to.current!==null?(t=gf(t,a,l),Rn(t,r)||(Lt=!0),t):(lr&42)===0||(lr&1073741824)!==0&&(qe&261930)===0?(Lt=!0,t.memoizedState=a):(t=Zy(),ke.lanes|=t,ns|=t,r)}function ey(t,r,a,l,d){var f=se.p;se.p=f!==0&&8>f?f:8;var v=K.T,A={};K.T=A,vf(t,!1,r,a);try{var N=d(),F=K.S;if(F!==null&&F(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=Yb(N,l);vl(t,r,W,On(t))}else vl(t,r,l,On(t))}catch(te){vl(t,r,{then:function(){},status:"rejected",reason:te},On())}finally{se.p=f,v!==null&&A.types!==null&&(v.types=A.types),K.T=v}}function Jb(){}function yf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var d=ty(t).queue;ey(t,d,r,ge,a===null?Jb:function(){return ny(t),a(l)})}function ty(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function ny(t){var r=ty(t);r.next===null&&(r=t.alternate.memoizedState),vl(t,r.next.queue,{},On())}function _f(){return Zt(Pl)}function iy(){return xt().memoizedState}function ry(){return xt().memoizedState}function Zb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=On();t=Xr(a);var l=Wr(r,t,a);l!==null&&(bn(l,r,a),ml(l,r,a)),r={cache:Yd()},t.payload=r;return}r=r.return}}function eA(t,r,a){var l=On();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Nu(t)?ay(r,a):(a=kd(t,r,a,l),a!==null&&(bn(a,t,l),oy(a,r,l)))}function sy(t,r,a){var l=On();vl(t,r,a,l)}function vl(t,r,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nu(t))ay(r,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,A=f(v,a);if(d.hasEagerState=!0,d.eagerState=A,Rn(A,v))return uu(t,r,d,0),ct===null&&cu(),!1}catch{}if(a=kd(t,r,d,l),a!==null)return bn(a,t,l),oy(a,r,l),!0}return!1}function vf(t,r,a,l){if(l={lane:2,revertLane:Wf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nu(t)){if(r)throw Error(s(479))}else r=kd(t,a,l,2),r!==null&&bn(r,t,2)}function Nu(t){var r=t.alternate;return t===ke||r!==null&&r===ke}function ay(t,r){no=Au=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function oy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Bo(t,a)}}var El={readContext:Zt,use:Ru,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};El.useEffectEvent=Et;var ly={readContext:Zt,use:Ru,useCallback:function(t,r){return mn().memoizedState=[t,r===void 0?null:r],t},useContext:Zt,useEffect:G1,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,xu(4194308,4,Q1.bind(null,r,t),a)},useLayoutEffect:function(t,r){return xu(4194308,4,t,r)},useInsertionEffect:function(t,r){xu(4,2,t,r)},useMemo:function(t,r){var a=mn();r=r===void 0?null:r;var l=t();if(aa){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=mn();if(a!==void 0){var d=a(r);if(aa){Vn(!0);try{a(r)}finally{Vn(!1)}}}else d=r;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=eA.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var r=mn();return t={current:t},r.memoizedState=t},useState:function(t){t=df(t);var r=t.queue,a=sy.bind(null,ke,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:pf,useDeferredValue:function(t,r){var a=mn();return gf(a,t,r)},useTransition:function(){var t=df(!1);return t=ey.bind(null,ke,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=ke,d=mn();if(Ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ct===null)throw Error(s(349));(qe&127)!==0||I1(l,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,G1(D1.bind(null,l,f,t),[t]),l.flags|=2048,ro(9,{destroy:void 0},N1.bind(null,l,f,a,r),null),a},useId:function(){var t=mn(),r=ct.identifierPrefix;if(Ke){var a=Li,l=Vi;a=(l&~(1<<32-wt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Su++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=$b++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:_f,useFormState:z1,useActionState:z1,useOptimistic:function(t){var r=mn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=vf.bind(null,ke,!0,a),a.dispatch=r,[t,r]},useMemoCache:cf,useCacheRefresh:function(){return mn().memoizedState=Zb.bind(null,ke)},useEffectEvent:function(t){var r=mn(),a={impl:t};return r.memoizedState=a,function(){if((et&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ef={readContext:Zt,use:Ru,useCallback:W1,useContext:Zt,useEffect:mf,useImperativeHandle:X1,useInsertionEffect:$1,useLayoutEffect:K1,useMemo:J1,useReducer:Cu,useRef:F1,useState:function(){return Cu(cr)},useDebugValue:pf,useDeferredValue:function(t,r){var a=xt();return Z1(a,at.memoizedState,t,r)},useTransition:function(){var t=Cu(cr)[0],r=xt().memoizedState;return[typeof t=="boolean"?t:_l(t),r]},useSyncExternalStore:x1,useId:iy,useHostTransitionStatus:_f,useFormState:B1,useActionState:B1,useOptimistic:function(t,r){var a=xt();return M1(a,at,t,r)},useMemoCache:cf,useCacheRefresh:ry};Ef.useEffectEvent=Y1;var cy={readContext:Zt,use:Ru,useCallback:W1,useContext:Zt,useEffect:mf,useImperativeHandle:X1,useInsertionEffect:$1,useLayoutEffect:K1,useMemo:J1,useReducer:hf,useRef:F1,useState:function(){return hf(cr)},useDebugValue:pf,useDeferredValue:function(t,r){var a=xt();return at===null?gf(a,t,r):Z1(a,at.memoizedState,t,r)},useTransition:function(){var t=hf(cr)[0],r=xt().memoizedState;return[typeof t=="boolean"?t:_l(t),r]},useSyncExternalStore:x1,useId:iy,useHostTransitionStatus:_f,useFormState:q1,useActionState:q1,useOptimistic:function(t,r){var a=xt();return at!==null?M1(a,at,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:cf,useCacheRefresh:ry};cy.useEffectEvent=Y1;function Tf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var bf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=On(),d=Xr(l);d.payload=r,a!=null&&(d.callback=a),r=Wr(t,d,l),r!==null&&(bn(r,t,l),ml(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=On(),d=Xr(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=Wr(t,d,l),r!==null&&(bn(r,t,l),ml(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=On(),l=Xr(a);l.tag=2,r!=null&&(l.callback=r),r=Wr(t,l,a),r!==null&&(bn(r,t,a),ml(r,t,a))}};function uy(t,r,a,l,d,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):r.prototype&&r.prototype.isPureReactComponent?!al(a,l)||!al(d,f):!0}function hy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&bf.enqueueReplaceState(r,r.state,null)}function oa(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function dy(t){lu(t)}function fy(t){console.error(t)}function my(t){lu(t)}function Du(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function py(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Af(t,r,a){return a=Xr(a),a.tag=3,a.payload={element:null},a.callback=function(){Du(t,r)},a}function gy(t){return t=Xr(t),t.tag=3,t}function yy(t,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){py(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){py(r,a,l),typeof d!="function"&&(is===null?is=new Set([this]):is.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function tA(t,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Xa(r,a,d,!0),a=xn.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?qu():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===_u?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Kf(t,l,d)),!1;case 22:return a.flags|=65536,l===_u?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Kf(t,l,d)),!1}throw Error(s(435,a.tag))}return Kf(t,l,d),qu(),!1}if(Ke)return r=xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==Bd&&(t=Error(s(422),{cause:l}),cl(qn(t,a)))):(l!==Bd&&(r=Error(s(423),{cause:l}),cl(qn(r,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=qn(l,a),d=Af(t.stateNode,l,d),Jd(t,d),Tt!==4&&(Tt=2)),!1;var f=Error(s(520),{cause:l});if(f=qn(f,a),xl===null?xl=[f]:xl.push(f),Tt!==4&&(Tt=2),r===null)return!0;l=qn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Af(a.stateNode,l,t),Jd(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(is===null||!is.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=gy(d),yy(d,t,a,l),Jd(a,d),!1}a=a.return}while(a!==null);return!1}var Sf=Error(s(461)),Lt=!1;function en(t,r,a,l){r.child=t===null?T1(r,null,a,l):sa(r,t.child,a,l)}function _y(t,r,a,l,d){a=a.render;var f=r.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return ta(r),l=sf(t,r,a,v,f,d),A=af(),t!==null&&!Lt?(of(t,r,d),ur(t,r,d)):(Ke&&A&&Ud(r),r.flags|=1,en(t,r,l,d),r.child)}function vy(t,r,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!Pd(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Ey(t,r,f,l,d)):(t=du(a.type,null,l,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Of(t,d)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(v,l)&&t.ref===r.ref)return ur(t,r,d)}return r.flags|=1,t=rr(f,l),t.ref=r.ref,t.return=r,r.child=t}function Ey(t,r,a,l,d){if(t!==null){var f=t.memoizedProps;if(al(f,l)&&t.ref===r.ref)if(Lt=!1,r.pendingProps=l=f,Of(t,d))(t.flags&131072)!==0&&(Lt=!0);else return r.lanes=t.lanes,ur(t,r,d)}return wf(t,r,a,l,d)}function Ty(t,r,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=r.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,r.child=null;return by(t,r,f,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&gu(r,f!==null?f.cachePool:null),f!==null?S1(r,f):ef(),w1(r);else return l=r.lanes=536870912,by(t,r,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(gu(r,f.cachePool),S1(r,f),Zr(),r.memoizedState=null):(t!==null&&gu(r,null),ef(),Zr());return en(t,r,d,a),r.child}function Tl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function by(t,r,a,l,d){var f=Kd();return f=f===null?null:{parent:Pt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&gu(r,null),ef(),w1(r),t!==null&&Xa(t,r,l,!0),r.childLanes=d,null}function Ou(t,r){return r=Mu({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Ay(t,r,a){return sa(r,t.child,null,a),t=Ou(r,r.pendingProps),t.flags|=2,In(r),r.memoizedState=null,t}function nA(t,r,a){var l=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Ke){if(l.mode==="hidden")return t=Ou(r,l),r.lanes=536870912,Tl(null,t);if(nf(r),(t=dt)?(t=k_(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Gr!==null?{id:Vi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=a1(t),a.return=r,r.child=a,Jt=r,dt=null)):t=null,t===null)throw $r(r);return r.lanes=536870912,null}return Ou(r,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(nf(r),d)if(r.flags&256)r.flags&=-257,r=Ay(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Lt||Xa(t,r,a,!1),d=(a&t.childLanes)!==0,Lt||d){if(l=ct,l!==null&&(v=Ho(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Ws(t,v),bn(l,t,v),Sf;qu(),r=Ay(t,r,a)}else t=f.treeContext,dt=Kn(v.nextSibling),Jt=r,Ke=!0,Yr=null,Yn=!1,t!==null&&c1(r,t),r=Ou(r,l),r.flags|=4096;return r}return t=rr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function ju(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function wf(t,r,a,l,d){return ta(r),a=sf(t,r,a,l,void 0,d),l=af(),t!==null&&!Lt?(of(t,r,d),ur(t,r,d)):(Ke&&l&&Ud(r),r.flags|=1,en(t,r,a,d),r.child)}function Sy(t,r,a,l,d,f){return ta(r),r.updateQueue=null,a=C1(r,l,a,d),R1(t),l=af(),t!==null&&!Lt?(of(t,r,f),ur(t,r,f)):(Ke&&l&&Ud(r),r.flags|=1,en(t,r,a,f),r.child)}function wy(t,r,a,l,d){if(ta(r),r.stateNode===null){var f=Ya,v=a.contextType;typeof v=="object"&&v!==null&&(f=Zt(v)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Xd(r),v=a.contextType,f.context=typeof v=="object"&&v!==null?Zt(v):Ya,f.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Tf(r,a,v,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&bf.enqueueReplaceState(f,f.state,null),gl(r,l,f,d),pl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var A=r.memoizedProps,N=oa(a,A);f.props=N;var F=f.context,W=a.contextType;v=Ya,typeof W=="object"&&W!==null&&(v=Zt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(A||F!==v)&&hy(r,f,l,v),Qr=!1;var G=r.memoizedState;f.state=G,gl(r,l,f,d),pl(),F=r.memoizedState,A||G!==F||Qr?(typeof te=="function"&&(Tf(r,a,te,l),F=r.memoizedState),(N=Qr||uy(r,a,N,l,G,F,v))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),f.props=l,f.state=F,f.context=v,l=N):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,Wd(t,r),v=r.memoizedProps,W=oa(a,v),f.props=W,te=r.pendingProps,G=f.context,F=a.contextType,N=Ya,typeof F=="object"&&F!==null&&(N=Zt(F)),A=a.getDerivedStateFromProps,(F=typeof A=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==te||G!==N)&&hy(r,f,l,N),Qr=!1,G=r.memoizedState,f.state=G,gl(r,l,f,d),pl();var $=r.memoizedState;v!==te||G!==$||Qr||t!==null&&t.dependencies!==null&&mu(t.dependencies)?(typeof A=="function"&&(Tf(r,a,A,l),$=r.memoizedState),(W=Qr||uy(r,a,W,l,G,$,N)||t!==null&&t.dependencies!==null&&mu(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,$,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,$,N)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),f.props=l,f.state=$,f.context=N,l=W):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,ju(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=sa(r,t.child,null,d),r.child=sa(r,null,a,d)):en(t,r,a,d),r.memoizedState=f.state,t=r.child):t=ur(t,r,d),t}function Ry(t,r,a,l){return Zs(),r.flags|=256,en(t,r,a,l),r.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(t){return{baseLanes:t,cachePool:p1()}}function xf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Dn),t}function Cy(t,r,a){var l=r.pendingProps,d=!1,f=(r.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),v&&(d=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ke){if(d?Jr(r):Zr(),(t=dt)?(t=k_(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Gr!==null?{id:Vi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=a1(t),a.return=r,r.child=a,Jt=r,dt=null)):t=null,t===null)throw $r(r);return um(t)?r.lanes=32:r.lanes=536870912,null}var A=l.children;return l=l.fallback,d?(Zr(),d=r.mode,A=Mu({mode:"hidden",children:A},d),l=Js(l,d,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,l=r.child,l.memoizedState=Cf(a),l.childLanes=xf(t,v,a),r.memoizedState=Rf,Tl(null,l)):(Jr(r),If(r,A))}var N=t.memoizedState;if(N!==null&&(A=N.dehydrated,A!==null)){if(f)r.flags&256?(Jr(r),r.flags&=-257,r=Nf(t,r,a)):r.memoizedState!==null?(Zr(),r.child=t.child,r.flags|=128,r=null):(Zr(),A=l.fallback,d=r.mode,l=Mu({mode:"visible",children:l.children},d),A=Js(A,d,a,null),A.flags|=2,l.return=r,A.return=r,l.sibling=A,r.child=l,sa(r,t.child,null,a),l=r.child,l.memoizedState=Cf(a),l.childLanes=xf(t,v,a),r.memoizedState=Rf,r=Tl(null,l));else if(Jr(r),um(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(s(419)),l.stack="",l.digest=v,cl({value:l,source:null,stack:null}),r=Nf(t,r,a)}else if(Lt||Xa(t,r,a,!1),v=(a&t.childLanes)!==0,Lt||v){if(v=ct,v!==null&&(l=Ho(v,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ws(t,l),bn(v,t,l),Sf;cm(A)||qu(),r=Nf(t,r,a)}else cm(A)?(r.flags|=192,r.child=t.child,r=null):(t=N.treeContext,dt=Kn(A.nextSibling),Jt=r,Ke=!0,Yr=null,Yn=!1,t!==null&&c1(r,t),r=If(r,l.children),r.flags|=4096);return r}return d?(Zr(),A=l.fallback,d=r.mode,N=t.child,F=N.sibling,l=rr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?A=rr(F,A):(A=Js(A,d,a,null),A.flags|=2),A.return=r,l.return=r,l.sibling=A,r.child=l,Tl(null,l),l=r.child,A=t.child.memoizedState,A===null?A=Cf(a):(d=A.cachePool,d!==null?(N=Pt._currentValue,d=d.parent!==N?{parent:N,pool:N}:d):d=p1(),A={baseLanes:A.baseLanes|a,cachePool:d}),l.memoizedState=A,l.childLanes=xf(t,v,a),r.memoizedState=Rf,Tl(t.child,l)):(Jr(r),a=t.child,t=a.sibling,a=rr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function If(t,r){return r=Mu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Mu(t,r){return t=Cn(22,t,null,r),t.lanes=0,t}function Nf(t,r,a){return sa(r,t.child,null,a),t=If(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function xy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Fd(t.return,r,a)}function Df(t,r,a,l,d,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=d,v.treeForkCount=f)}function Iy(t,r,a){var l=r.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var v=Ct.current,A=(v&2)!==0;if(A?(v=v&1|2,r.flags|=128):v&=1,ae(Ct,v),en(t,r,l,a),l=Ke?ll:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xy(t,a,r);else if(t.tag===19)xy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=r.child,d=null;a!==null;)t=a.alternate,t!==null&&bu(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),Df(r,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&bu(t)===null){r.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Df(r,!0,a,null,f,l);break;case"together":Df(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ur(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),ns|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Xa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=rr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=rr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Of(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&mu(t)))}function iA(t,r,a){switch(r.tag){case 3:St(r,r.stateNode.containerInfo),Kr(r,Pt,t.memoizedState.cache),Zs();break;case 27:case 5:vi(r);break;case 4:St(r,r.stateNode.containerInfo);break;case 10:Kr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,nf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Jr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Cy(t,r,a):(Jr(r),t=ur(t,r,a),t!==null?t.sibling:null);Jr(r);break;case 19:var d=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Xa(t,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return Iy(t,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ae(Ct,Ct.current),l)break;return null;case 22:return r.lanes=0,Ty(t,r,a,r.pendingProps);case 24:Kr(r,Pt,t.memoizedState.cache)}return ur(t,r,a)}function Ny(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Lt=!0;else{if(!Of(t,a)&&(r.flags&128)===0)return Lt=!1,iA(t,r,a);Lt=(t.flags&131072)!==0}else Lt=!1,Ke&&(r.flags&1048576)!==0&&l1(r,ll,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ia(r.elementType),r.type=t,typeof t=="function")Pd(t)?(l=oa(t,l),r.tag=1,r=wy(null,r,t,l,a)):(r.tag=0,r=wf(null,r,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===oe){r.tag=11,r=_y(null,r,t,l,a);break e}else if(d===x){r.tag=14,r=vy(null,r,t,l,a);break e}}throw r=Oe(t)||t,Error(s(306,r,""))}}return r;case 0:return wf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=oa(l,r.pendingProps),wy(t,r,l,d,a);case 3:e:{if(St(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;d=f.element,Wd(t,r),gl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Kr(r,Pt,l),l!==f.cache&&Gd(r,[Pt],a,!0),pl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Ry(t,r,l,a);break e}else if(l!==d){d=qn(Error(s(424)),r),cl(d),r=Ry(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,dt=Kn(t.firstChild),Jt=r,Ke=!0,Yr=null,Yn=!0,a=T1(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Zs(),l===d){r=ur(t,r,a);break e}en(t,r,l,a)}r=r.child}return r;case 26:return ju(t,r),t===null?(a=B_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ke||(a=r.type,t=r.pendingProps,l=Xu(Te.current).createElement(a),l[jt]=r,l[Yt]=t,tn(l,a,t),Mt(l),r.stateNode=l):r.memoizedState=B_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return vi(r),t===null&&Ke&&(l=r.stateNode=L_(r.type,r.pendingProps,Te.current),Jt=r,Yn=!0,d=dt,os(r.type)?(hm=d,dt=Kn(l.firstChild)):dt=d),en(t,r,r.pendingProps.children,a),ju(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ke&&((d=l=dt)&&(l=jA(l,r.type,r.pendingProps,Yn),l!==null?(r.stateNode=l,Jt=r,dt=Kn(l.firstChild),Yn=!1,d=!0):d=!1),d||$r(r)),vi(r),d=r.type,f=r.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,am(d,f)?l=null:v!==null&&am(d,v)&&(r.flags|=32),r.memoizedState!==null&&(d=sf(t,r,Kb,null,null,a),Pl._currentValue=d),ju(t,r),en(t,r,l,a),r.child;case 6:return t===null&&Ke&&((t=a=dt)&&(a=MA(a,r.pendingProps,Yn),a!==null?(r.stateNode=a,Jt=r,dt=null,t=!0):t=!1),t||$r(r)),null;case 13:return Cy(t,r,a);case 4:return St(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=sa(r,null,l,a):en(t,r,l,a),r.child;case 11:return _y(t,r,r.type,r.pendingProps,a);case 7:return en(t,r,r.pendingProps,a),r.child;case 8:return en(t,r,r.pendingProps.children,a),r.child;case 12:return en(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Kr(r,r.type,l.value),en(t,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,ta(r),d=Zt(d),l=l(d),r.flags|=1,en(t,r,l,a),r.child;case 14:return vy(t,r,r.type,r.pendingProps,a);case 15:return Ey(t,r,r.type,r.pendingProps,a);case 19:return Iy(t,r,a);case 31:return nA(t,r,a);case 22:return Ty(t,r,a,r.pendingProps);case 24:return ta(r),l=Zt(Pt),t===null?(d=Kd(),d===null&&(d=ct,f=Yd(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),r.memoizedState={parent:l,cache:d},Xd(r),Kr(r,Pt,d)):((t.lanes&a)!==0&&(Wd(t,r),gl(r,null,null,a),pl()),d=t.memoizedState,f=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Kr(r,Pt,l)):(l=f.cache,Kr(r,Pt,l),l!==d.cache&&Gd(r,[Pt],a,!0))),en(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function hr(t){t.flags|=4}function jf(t,r,a,l,d){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(i_())t.flags|=8192;else throw ra=_u,Qd}else t.flags&=-16777217}function Dy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Y_(r))if(i_())t.flags|=8192;else throw ra=_u,Qd}function ku(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Bc():536870912,t.lanes|=r,lo|=r)}function bl(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ft(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function rA(t,r,a){var l=r.pendingProps;switch(zd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),or(Pt),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qa(r)?hr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Hd())),ft(r),null;case 26:var d=r.type,f=r.memoizedState;return t===null?(hr(r),f!==null?(ft(r),Dy(r,f)):(ft(r),jf(r,d,null,l,a))):f?f!==t.memoizedState?(hr(r),ft(r),Dy(r,f)):(ft(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&hr(r),ft(r),jf(r,d,t,l,a)),null;case 27:if(Or(r),a=Te.current,d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&hr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ft(r),null}t=ue.current,Qa(r)?u1(r):(t=L_(d,l,a),r.stateNode=t,hr(r))}return ft(r),null;case 5:if(Or(r),d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&hr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ft(r),null}if(f=ue.current,Qa(r))u1(r);else{var v=Xu(Te.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}f[jt]=r,f[Yt]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=f;e:switch(tn(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&hr(r)}}return ft(r),jf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&hr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Te.current,Qa(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,d=Jt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[jt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||C_(t.nodeValue,a)),t||$r(r,!0)}else t=Xu(t).createTextNode(l),t[jt]=r,r.stateNode=t}return ft(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Qa(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[jt]=r}else Zs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),t=!1}else a=Hd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(In(r),r):(In(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ft(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Qa(r),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[jt]=r}else Zs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),d=!1}else d=Hd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(In(r),r):(In(r),null)}return In(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),ku(r,r.updateQueue),ft(r),null);case 4:return ut(),t===null&&tm(r.stateNode.containerInfo),ft(r),null;case 10:return or(r.type),ft(r),null;case 19:if(Q(Ct),l=r.memoizedState,l===null)return ft(r),null;if(d=(r.flags&128)!==0,f=l.rendering,f===null)if(d)bl(l,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=bu(t),f!==null){for(r.flags|=128,bl(l,!1),t=f.updateQueue,r.updateQueue=t,ku(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)s1(a,t),a=a.sibling;return ae(Ct,Ct.current&1|2),Ke&&sr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&pt()>zu&&(r.flags|=128,d=!0,bl(l,!1),r.lanes=4194304)}else{if(!d)if(t=bu(f),t!==null){if(r.flags|=128,d=!0,t=t.updateQueue,r.updateQueue=t,ku(r,t),bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ke)return ft(r),null}else 2*pt()-l.renderingStartTime>zu&&a!==536870912&&(r.flags|=128,d=!0,bl(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(t=l.last,t!==null?t.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=pt(),t.sibling=null,a=Ct.current,ae(Ct,d?a&1|2:a&1),Ke&&sr(r,l.treeForkCount),t):(ft(r),null);case 22:case 23:return In(r),tf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),a=r.updateQueue,a!==null&&ku(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&Q(na),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),or(Pt),ft(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function sA(t,r){switch(zd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return or(Pt),ut(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Or(r),null;case 31:if(r.memoizedState!==null){if(In(r),r.alternate===null)throw Error(s(340));Zs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(In(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Zs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Q(Ct),null;case 4:return ut(),null;case 10:return or(r.type),null;case 22:case 23:return In(r),tf(),t!==null&&Q(na),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return or(Pt),null;case 25:return null;default:return null}}function Oy(t,r){switch(zd(r),r.tag){case 3:or(Pt),ut();break;case 26:case 27:case 5:Or(r);break;case 4:ut();break;case 31:r.memoizedState!==null&&In(r);break;case 13:In(r);break;case 19:Q(Ct);break;case 10:or(r.type);break;case 22:case 23:In(r),tf(),t!==null&&Q(na);break;case 24:or(Pt)}}function Al(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==d)}}catch(A){rt(r,r.return,A)}}function es(t,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,d=r;var N=a,F=A;try{F()}catch(W){rt(d,N,W)}}}l=l.next}while(l!==f)}}catch(W){rt(r,r.return,W)}}function jy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{A1(r,a)}catch(l){rt(t,t.return,l)}}}function My(t,r,a){a.props=oa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){rt(t,r,l)}}function Sl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){rt(t,r,d)}}function Ui(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){rt(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){rt(t,r,d)}else a.current=null}function ky(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){rt(t,t.return,d)}}function Mf(t,r,a){try{var l=t.stateNode;CA(l,t.type,a,r),l[Yt]=r}catch(d){rt(t,t.return,d)}}function Py(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&os(t.type)||t.tag===4}function kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Py(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&os(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ri));else if(l!==4&&(l===27&&os(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Pf(t,r,a),t=t.sibling;t!==null;)Pf(t,r,a),t=t.sibling}function Pu(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&os(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Pu(t,r,a),t=t.sibling;t!==null;)Pu(t,r,a),t=t.sibling}function Vy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);tn(r,l,a),r[jt]=t,r[Yt]=a}catch(f){rt(t,t.return,f)}}var dr=!1,Ut=!1,Vf=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function aA(t,r){if(t=t.containerInfo,rm=ih,t=Xg(t),Id(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,A=-1,N=-1,F=0,W=0,te=t,G=null;t:for(;;){for(var $;te!==a||d!==0&&te.nodeType!==3||(A=v+d),te!==f||l!==0&&te.nodeType!==3||(N=v+l),te.nodeType===3&&(v+=te.nodeValue.length),($=te.firstChild)!==null;)G=te,te=$;for(;;){if(te===t)break t;if(G===a&&++F===d&&(A=v),G===f&&++W===l&&(N=v),($=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=$}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(sm={focusedElem:t,selectionRange:a},ih=!1,Kt=r;Kt!==null;)if(r=Kt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Kt=t;else for(;Kt!==null;){switch(r=Kt,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var de=oa(a.type,d);t=l.getSnapshotBeforeUpdate(de,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){rt(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)lm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Kt=t;break}Kt=r.return}}function Uy(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:mr(t,a),l&4&&Al(5,a);break;case 1:if(mr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){rt(a,a.return,v)}else{var d=oa(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){rt(a,a.return,v)}}l&64&&jy(a),l&512&&Sl(a,a.return);break;case 3:if(mr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{A1(t,r)}catch(v){rt(a,a.return,v)}}break;case 27:r===null&&l&4&&Vy(a);case 26:case 5:mr(t,a),r===null&&l&4&&ky(a),l&512&&Sl(a,a.return);break;case 12:mr(t,a);break;case 31:mr(t,a),l&4&&Hy(t,a);break;case 13:mr(t,a),l&4&&qy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=pA.bind(null,a),kA(t,a))));break;case 22:if(l=a.memoizedState!==null||dr,!l){r=r!==null&&r.memoizedState!==null||Ut,d=dr;var f=Ut;dr=l,(Ut=r)&&!f?pr(t,a,(a.subtreeFlags&8772)!==0):mr(t,a),dr=d,Ut=f}break;case 30:break;default:mr(t,a)}}function zy(t){var r=t.alternate;r!==null&&(t.alternate=null,zy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Oa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,_n=!1;function fr(t,r,a){for(a=a.child;a!==null;)By(t,r,a),a=a.sibling}function By(t,r,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ei,a)}catch{}switch(a.tag){case 26:Ut||Ui(a,r),fr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ut||Ui(a,r);var l=yt,d=_n;os(a.type)&&(yt=a.stateNode,_n=!1),fr(t,r,a),jl(a.stateNode),yt=l,_n=d;break;case 5:Ut||Ui(a,r);case 6:if(l=yt,d=_n,yt=null,fr(t,r,a),yt=l,_n=d,yt!==null)if(_n)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(f){rt(a,r,f)}else try{yt.removeChild(a.stateNode)}catch(f){rt(a,r,f)}break;case 18:yt!==null&&(_n?(t=yt,j_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yo(t)):j_(yt,a.stateNode));break;case 4:l=yt,d=_n,yt=a.stateNode.containerInfo,_n=!0,fr(t,r,a),yt=l,_n=d;break;case 0:case 11:case 14:case 15:es(2,a,r),Ut||es(4,a,r),fr(t,r,a);break;case 1:Ut||(Ui(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&My(a,r,l)),fr(t,r,a);break;case 21:fr(t,r,a);break;case 22:Ut=(l=Ut)||a.memoizedState!==null,fr(t,r,a),Ut=l;break;default:fr(t,r,a)}}function Hy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yo(t)}catch(a){rt(r,r.return,a)}}}function qy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yo(t)}catch(a){rt(r,r.return,a)}}function oA(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Ly),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Ly),r;default:throw Error(s(435,t.tag))}}function Vu(t,r){var a=oA(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var d=gA.bind(null,t,l);l.then(d,d)}})}function vn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,v=r,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(os(A.type)){yt=A.stateNode,_n=!1;break e}break;case 5:yt=A.stateNode,_n=!1;break e;case 3:case 4:yt=A.stateNode.containerInfo,_n=!0;break e}A=A.return}if(yt===null)throw Error(s(160));By(f,v,d),yt=null,_n=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Fy(r,t),r=r.sibling}var ui=null;function Fy(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(r,t),En(t),l&4&&(es(3,t,t.return),Al(3,t),es(5,t,t.return));break;case 1:vn(r,t),En(t),l&512&&(Ut||a===null||Ui(a,a.return)),l&64&&dr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ui;if(vn(r,t),En(t),l&512&&(Ut||a===null||Ui(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[wi]||f[jt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),tn(f,l,a),f[jt]=t,Mt(f),l=f;break e;case"link":var v=F_("link","href",d).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(f=v[A],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}f=d.createElement(l),tn(f,l,a),d.head.appendChild(f);break;case"meta":if(v=F_("meta","content",d).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(f=v[A],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}f=d.createElement(l),tn(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[jt]=t,Mt(f),l=f}t.stateNode=l}else G_(d,t.type,t.stateNode);else t.stateNode=q_(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?G_(d,t.type,t.stateNode):q_(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Mf(t,t.memoizedProps,a.memoizedProps)}break;case 27:vn(r,t),En(t),l&512&&(Ut||a===null||Ui(a,a.return)),a!==null&&l&4&&Mf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(vn(r,t),En(t),l&512&&(Ut||a===null||Ui(a,a.return)),t.flags&32){d=t.stateNode;try{yn(d,"")}catch(de){rt(t,t.return,de)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Mf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Vf=!0);break;case 6:if(vn(r,t),En(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){rt(t,t.return,de)}}break;case 3:if(Zu=null,d=ui,ui=Wu(r.containerInfo),vn(r,t),ui=d,En(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{yo(r.containerInfo)}catch(de){rt(t,t.return,de)}Vf&&(Vf=!1,Gy(t));break;case 4:l=ui,ui=Wu(t.stateNode.containerInfo),vn(r,t),En(t),ui=l;break;case 12:vn(r,t),En(t);break;case 31:vn(r,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 13:vn(r,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uu=pt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 22:d=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=dr,W=Ut;if(dr=F||d,Ut=W||N,vn(r,t),Ut=W,dr=F,En(t),l&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||N||dr||Ut||la(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(f=N.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=N.stateNode;var te=N.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(de){rt(N,N.return,de)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(de){rt(N,N.return,de)}}}else if(r.tag===18){if(a===null){N=r;try{var $=N.stateNode;d?M_($,!0):M_(N.stateNode,!1)}catch(de){rt(N,N.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vu(t,a))));break;case 19:vn(r,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 30:break;case 21:break;default:vn(r,t),En(t)}}function En(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Py(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=kf(t);Pu(t,f,d);break;case 5:var v=a.stateNode;a.flags&32&&(yn(v,""),a.flags&=-33);var A=kf(t);Pu(t,A,v);break;case 3:case 4:var N=a.stateNode.containerInfo,F=kf(t);Pf(t,F,N);break;default:throw Error(s(161))}}catch(W){rt(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Gy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function mr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Uy(t,r.alternate,r),r=r.sibling}function la(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:es(4,r,r.return),la(r);break;case 1:Ui(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&My(r,r.return,a),la(r);break;case 27:jl(r.stateNode);case 26:case 5:Ui(r,r.return),la(r);break;case 22:r.memoizedState===null&&la(r);break;case 30:la(r);break;default:la(r)}t=t.sibling}}function pr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=t,f=r,v=f.flags;switch(f.tag){case 0:case 11:case 15:pr(d,f,a),Al(4,f);break;case 1:if(pr(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){rt(l,l.return,F)}if(l=f,d=l.updateQueue,d!==null){var A=l.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)b1(N[d],A)}catch(F){rt(l,l.return,F)}}a&&v&64&&jy(f),Sl(f,f.return);break;case 27:Vy(f);case 26:case 5:pr(d,f,a),a&&l===null&&v&4&&ky(f),Sl(f,f.return);break;case 12:pr(d,f,a);break;case 31:pr(d,f,a),a&&v&4&&Hy(d,f);break;case 13:pr(d,f,a),a&&v&4&&qy(d,f);break;case 22:f.memoizedState===null&&pr(d,f,a),Sl(f,f.return);break;case 30:break;default:pr(d,f,a)}r=r.sibling}}function Lf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function Uf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ul(t))}function hi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Yy(t,r,a,l),r=r.sibling}function Yy(t,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:hi(t,r,a,l),d&2048&&Al(9,r);break;case 1:hi(t,r,a,l);break;case 3:hi(t,r,a,l),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ul(t)));break;case 12:if(d&2048){hi(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,v=f.id,A=f.onPostCommit;typeof A=="function"&&A(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){rt(r,r.return,N)}}else hi(t,r,a,l);break;case 31:hi(t,r,a,l);break;case 13:hi(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,v=r.alternate,r.memoizedState!==null?f._visibility&2?hi(t,r,a,l):wl(t,r):f._visibility&2?hi(t,r,a,l):(f._visibility|=2,so(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Lf(v,r);break;case 24:hi(t,r,a,l),d&2048&&Uf(r.alternate,r);break;default:hi(t,r,a,l)}}function so(t,r,a,l,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,v=r,A=a,N=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:so(f,v,A,N,d),Al(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?so(f,v,A,N,d):wl(f,v):(W._visibility|=2,so(f,v,A,N,d)),d&&F&2048&&Lf(v.alternate,v);break;case 24:so(f,v,A,N,d),d&&F&2048&&Uf(v.alternate,v);break;default:so(f,v,A,N,d)}r=r.sibling}}function wl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,d=l.flags;switch(l.tag){case 22:wl(a,l),d&2048&&Lf(l.alternate,l);break;case 24:wl(a,l),d&2048&&Uf(l.alternate,l);break;default:wl(a,l)}r=r.sibling}}var Rl=8192;function ao(t,r,a){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)$y(t,r,a),t=t.sibling}function $y(t,r,a){switch(t.tag){case 26:ao(t,r,a),t.flags&Rl&&t.memoizedState!==null&&$A(a,ui,t.memoizedState,t.memoizedProps);break;case 5:ao(t,r,a);break;case 3:case 4:var l=ui;ui=Wu(t.stateNode.containerInfo),ao(t,r,a),ui=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Rl,Rl=16777216,ao(t,r,a),Rl=l):ao(t,r,a));break;default:ao(t,r,a)}}function Ky(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Cl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Kt=l,Xy(l,t)}Ky(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qy(t),t=t.sibling}function Qy(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&es(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Lu(t)):Cl(t);break;default:Cl(t)}}function Lu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Kt=l,Xy(l,t)}Ky(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:es(8,r,r.return),Lu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Lu(r));break;default:Lu(r)}t=t.sibling}}function Xy(t,r){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:es(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Kt=l;else e:for(a=t;Kt!==null;){l=Kt;var d=l.sibling,f=l.return;if(zy(l),l===a){Kt=null;break e}if(d!==null){d.return=f,Kt=d;break e}Kt=f}}}var lA={getCacheForType:function(t){var r=Zt(Pt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Zt(Pt).controller.signal}},cA=typeof WeakMap=="function"?WeakMap:Map,et=0,ct=null,Ue=null,qe=0,it=0,Nn=null,ts=!1,oo=!1,zf=!1,gr=0,Tt=0,ns=0,ca=0,Bf=0,Dn=0,lo=0,xl=null,Tn=null,Hf=!1,Uu=0,Wy=0,zu=1/0,Bu=null,is=null,qt=0,rs=null,co=null,yr=0,qf=0,Ff=null,Jy=null,Il=0,Gf=null;function On(){return(et&2)!==0&&qe!==0?qe&-qe:K.T!==null?Wf():Hc()}function Zy(){if(Dn===0)if((qe&536870912)===0||Ke){var t=Ps;Ps<<=1,(Ps&3932160)===0&&(Ps=262144),Dn=t}else Dn=536870912;return t=xn.current,t!==null&&(t.flags|=32),Dn}function bn(t,r,a){(t===ct&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(uo(t,0),ss(t,qe,Dn,!1)),Vs(t,a),((et&2)===0||t!==ct)&&(t===ct&&((et&2)===0&&(ca|=a),Tt===4&&ss(t,qe,Dn,!1)),zi(t))}function e_(t,r,a){if((et&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||ti(t,r),d=l?dA(t,r):$f(t,r,!0),f=l;do{if(d===0){oo&&!l&&ss(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!uA(a)){d=$f(t,r,!1),f=!1;continue}if(d===2){if(f=r,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var A=t;d=xl;var N=A.current.memoizedState.isDehydrated;if(N&&(uo(A,v).flags|=256),v=$f(A,v,!1),v!==2){if(zf&&!N){A.errorRecoveryDisabledLanes|=f,ca|=f,d=4;break e}f=Tn,Tn=d,f!==null&&(Tn===null?Tn=f:Tn.push.apply(Tn,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){uo(t,0),ss(t,r,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ss(l,r,Dn,!ts);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Uu+300-pt(),10<d)){if(ss(l,r,Dn,!ts),bi(l,0,!0)!==0)break e;yr=r,l.timeoutHandle=D_(t_.bind(null,l,a,Tn,Bu,Hf,r,Dn,ca,lo,ts,f,"Throttled",-0,0),d);break e}t_(l,a,Tn,Bu,Hf,r,Dn,ca,lo,ts,f,null,-0,0)}}break}while(!0);zi(t)}function t_(t,r,a,l,d,f,v,A,N,F,W,te,G,$){if(t.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},$y(r,f,te);var de=(f&62914560)===f?Uu-pt():(f&4194048)===f?Wy-pt():0;if(de=KA(te,de),de!==null){yr=f,t.cancelPendingCommit=de(c_.bind(null,t,r,f,a,l,d,v,A,N,W,te,null,G,$)),ss(t,f,v,!F);return}}c_(t,r,f,a,l,d,v,A,N)}function uA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!Rn(f(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ss(t,r,a,l){r&=~Bf,r&=~ca,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var d=r;0<d;){var f=31-wt(d),v=1<<f;l[f]=-1,d&=~v}a!==0&&Ls(t,a,r)}function Hu(){return(et&6)===0?(Nl(0),!1):!0}function Yf(){if(Ue!==null){if(it===0)var t=Ue.return;else t=Ue,ar=ea=null,lf(t),eo=null,dl=0,t=Ue;for(;t!==null;)Oy(t.alternate,t),t=t.return;Ue=null}}function uo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,NA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),yr=0,Yf(),ct=t,Ue=a=rr(t.current,null),qe=r,it=0,Nn=null,ts=!1,oo=ti(t,r),zf=!1,lo=Dn=Bf=ca=ns=Tt=0,Tn=xl=null,Hf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var d=31-wt(l),f=1<<d;r|=t[d],l&=~f}return gr=r,cu(),a}function n_(t,r){ke=null,K.H=El,r===Za||r===yu?(r=_1(),it=3):r===Qd?(r=_1(),it=4):it=r===Sf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Nn=r,Ue===null&&(Tt=1,Du(t,qn(r,t.current)))}function i_(){var t=xn.current;return t===null?!0:(qe&4194048)===qe?$n===null:(qe&62914560)===qe||(qe&536870912)!==0?t===$n:!1}function r_(){var t=K.H;return K.H=El,t===null?El:t}function s_(){var t=K.A;return K.A=lA,t}function qu(){Tt=4,ts||(qe&4194048)!==qe&&xn.current!==null||(oo=!0),(ns&134217727)===0&&(ca&134217727)===0||ct===null||ss(ct,qe,Dn,!1)}function $f(t,r,a){var l=et;et|=2;var d=r_(),f=s_();(ct!==t||qe!==r)&&(Bu=null,uo(t,r)),r=!1;var v=Tt;e:do try{if(it!==0&&Ue!==null){var A=Ue,N=Nn;switch(it){case 8:Yf(),v=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(r=!0);var F=it;if(it=0,Nn=null,ho(t,A,N,F),a&&oo){v=0;break e}break;default:F=it,it=0,Nn=null,ho(t,A,N,F)}}hA(),v=Tt;break}catch(W){n_(t,W)}while(!0);return r&&t.shellSuspendCounter++,ar=ea=null,et=l,K.H=d,K.A=f,Ue===null&&(ct=null,qe=0,cu()),v}function hA(){for(;Ue!==null;)a_(Ue)}function dA(t,r){var a=et;et|=2;var l=r_(),d=s_();ct!==t||qe!==r?(Bu=null,zu=pt()+500,uo(t,r)):oo=ti(t,r);e:do try{if(it!==0&&Ue!==null){r=Ue;var f=Nn;t:switch(it){case 1:it=0,Nn=null,ho(t,r,f,1);break;case 2:case 9:if(g1(f)){it=0,Nn=null,o_(r);break}r=function(){it!==2&&it!==9||ct!==t||(it=7),zi(t)},f.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:g1(f)?(it=0,Nn=null,o_(r)):(it=0,Nn=null,ho(t,r,f,7));break;case 5:var v=null;switch(Ue.tag){case 26:v=Ue.memoizedState;case 5:case 27:var A=Ue;if(v?Y_(v):A.stateNode.complete){it=0,Nn=null;var N=A.sibling;if(N!==null)Ue=N;else{var F=A.return;F!==null?(Ue=F,Fu(F)):Ue=null}break t}}it=0,Nn=null,ho(t,r,f,5);break;case 6:it=0,Nn=null,ho(t,r,f,6);break;case 8:Yf(),Tt=6;break e;default:throw Error(s(462))}}fA();break}catch(W){n_(t,W)}while(!0);return ar=ea=null,K.H=l,K.A=d,et=a,Ue!==null?0:(ct=null,qe=0,cu(),Tt)}function fA(){for(;Ue!==null&&!Gt();)a_(Ue)}function a_(t){var r=Ny(t.alternate,t,gr);t.memoizedProps=t.pendingProps,r===null?Fu(t):Ue=r}function o_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Sy(a,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Sy(a,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:lf(r);default:Oy(a,r),r=Ue=s1(r,gr),r=Ny(a,r,gr)}t.memoizedProps=t.pendingProps,r===null?Fu(t):Ue=r}function ho(t,r,a,l){ar=ea=null,lf(r),eo=null,dl=0;var d=r.return;try{if(tA(t,d,r,a,qe)){Tt=1,Du(t,qn(a,t.current)),Ue=null;return}}catch(f){if(d!==null)throw Ue=d,f;Tt=1,Du(t,qn(a,t.current)),Ue=null;return}r.flags&32768?(Ke||l===1?t=!0:oo||(qe&536870912)!==0?t=!1:(ts=t=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),l_(r,t)):Fu(r)}function Fu(t){var r=t;do{if((r.flags&32768)!==0){l_(r,ts);return}t=r.return;var a=rA(r.alternate,r,gr);if(a!==null){Ue=a;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=t}while(r!==null);Tt===0&&(Tt=5)}function l_(t,r){do{var a=sA(t.alternate,t);if(a!==null){a.flags&=32767,Ue=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=a}while(t!==null);Tt=6,Ue=null}function c_(t,r,a,l,d,f,v,A,N){t.cancelPendingCommit=null;do Gu();while(qt!==0);if((et&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=Md,wd(t,a,f,v,A,N),t===ct&&(Ue=ct=null,qe=0),co=r,rs=t,yr=a,qf=f,Ff=d,Jy=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yA(kr,function(){return m_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,d=se.p,se.p=2,v=et,et|=4;try{aA(t,r,a)}finally{et=v,se.p=d,K.T=l}}qt=1,u_(),h_(),d_()}}function u_(){if(qt===1){qt=0;var t=rs,r=co,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var d=et;et|=4;try{Fy(r,t);var f=sm,v=Xg(t.containerInfo),A=f.focusedElem,N=f.selectionRange;if(v!==A&&A&&A.ownerDocument&&Qg(A.ownerDocument.documentElement,A)){if(N!==null&&Id(A)){var F=N.start,W=N.end;if(W===void 0&&(W=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min(W,A.value.length);else{var te=A.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var $=G.getSelection(),de=A.textContent.length,Ee=Math.min(N.start,de),lt=N.end===void 0?Ee:Math.min(N.end,de);!$.extend&&Ee>lt&&(v=lt,lt=Ee,Ee=v);var z=Kg(A,Ee),M=Kg(A,lt);if(z&&M&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==M.node||$.focusOffset!==M.offset)){var q=te.createRange();q.setStart(z.node,z.offset),$.removeAllRanges(),Ee>lt?($.addRange(q),$.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),$.addRange(q))}}}}for(te=[],$=A;$=$.parentNode;)$.nodeType===1&&te.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<te.length;A++){var Z=te[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}ih=!!rm,sm=rm=null}finally{et=d,se.p=l,K.T=a}}t.current=r,qt=2}}function h_(){if(qt===2){qt=0;var t=rs,r=co,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var d=et;et|=4;try{Uy(t,r.alternate,r)}finally{et=d,se.p=l,K.T=a}}qt=3}}function d_(){if(qt===4||qt===3){qt=0,hn();var t=rs,r=co,a=yr,l=Jy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,co=rs=null,f_(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(is=null),er(a),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ei,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,d=se.p,se.p=2,K.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var A=l[v];f(A.value,{componentStack:A.stack})}}finally{K.T=r,se.p=d}}(yr&3)!==0&&Gu(),zi(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Gf?Il++:(Il=0,Gf=t):Il=0,Nl(0)}}function f_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ul(r)))}function Gu(){return u_(),h_(),d_(),m_()}function m_(){if(qt!==5)return!1;var t=rs,r=qf;qf=0;var a=er(yr),l=K.T,d=se.p;try{se.p=32>a?32:a,K.T=null,a=Ff,Ff=null;var f=rs,v=yr;if(qt=0,co=rs=null,yr=0,(et&6)!==0)throw Error(s(331));var A=et;if(et|=4,Qy(f.current),Yy(f,f.current,v,a),et=A,Nl(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ei,f)}catch{}return!0}finally{se.p=d,K.T=l,f_(t,r)}}function p_(t,r,a){r=qn(a,r),r=Af(t.stateNode,r,2),t=Wr(t,r,2),t!==null&&(Vs(t,2),zi(t))}function rt(t,r,a){if(t.tag===3)p_(t,t,a);else for(;r!==null;){if(r.tag===3){p_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(is===null||!is.has(l))){t=qn(a,t),a=gy(2),l=Wr(r,a,2),l!==null&&(yy(a,l,r,t),Vs(l,2),zi(l));break}}r=r.return}}function Kf(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new cA;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(zf=!0,d.add(a),t=mA.bind(null,t,r,a),r.then(t,t))}function mA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ct===t&&(qe&a)===a&&(Tt===4||Tt===3&&(qe&62914560)===qe&&300>pt()-Uu?(et&2)===0&&uo(t,0):Bf|=a,lo===qe&&(lo=0)),zi(t)}function g_(t,r){r===0&&(r=Bc()),t=Ws(t,r),t!==null&&(Vs(t,r),zi(t))}function pA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),g_(t,a)}function gA(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),g_(t,a)}function yA(t,r){return be(t,r)}var Yu=null,fo=null,Qf=!1,$u=!1,Xf=!1,as=0;function zi(t){t!==fo&&t.next===null&&(fo===null?Yu=fo=t:fo=fo.next=t),$u=!0,Qf||(Qf=!0,vA())}function Nl(t,r){if(!Xf&&$u){Xf=!0;do for(var a=!1,l=Yu;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var v=l.suspendedLanes,A=l.pingedLanes;f=(1<<31-wt(42|t)+1)-1,f&=d&~(v&~A),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,E_(l,f))}else f=qe,f=bi(l,l===ct?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ti(l,f)||(a=!0,E_(l,f));l=l.next}while(a);Xf=!1}}function _A(){y_()}function y_(){$u=Qf=!1;var t=0;as!==0&&IA()&&(t=as);for(var r=pt(),a=null,l=Yu;l!==null;){var d=l.next,f=__(l,r);f===0?(l.next=null,a===null?Yu=d:a.next=d,d===null&&(fo=a)):(a=l,(t!==0||(f&3)!==0)&&($u=!0)),l=d}qt!==0&&qt!==5||Nl(t),as!==0&&(as=0)}function __(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-wt(f),A=1<<v,N=d[v];N===-1?((A&a)===0||(A&l)!==0)&&(d[v]=Sd(A,r)):N<=r&&(t.expiredLanes|=A),f&=~A}if(r=ct,a=qe,a=bi(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(it===2||it===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&He(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ti(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&He(l),er(a)){case 2:case 8:a=Zn;break;case 32:a=kr;break;case 268435456:a=Pc;break;default:a=kr}return l=v_.bind(null,t),a=be(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&He(l),t.callbackPriority=2,t.callbackNode=null,2}function v_(t,r){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Gu()&&t.callbackNode!==a)return null;var l=qe;return l=bi(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(e_(t,l,r),__(t,pt()),t.callbackNode!=null&&t.callbackNode===a?v_.bind(null,t):null)}function E_(t,r){if(Gu())return null;e_(t,r,!0)}function vA(){DA(function(){(et&6)!==0?be(dn,_A):y_()})}function Wf(){if(as===0){var t=Wa;t===0&&(t=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),as=t}return as}function T_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pa(""+t)}function b_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function EA(t,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var f=T_((d[Yt]||null).action),v=l.submitter;v&&(r=(r=v[Yt]||null)?T_(r.formAction):v.getAttribute("formAction"),r!==null&&(f=r,v=null));var A=new ji("action","action",null,l,d);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(as!==0){var N=v?b_(d,v):new FormData(d);yf(a,{pending:!0,data:N,method:d.method,action:f},null,N)}}else typeof f=="function"&&(A.preventDefault(),N=v?b_(d,v):new FormData(d),yf(a,{pending:!0,data:N,method:d.method,action:f},f,N))},currentTarget:d}]})}}for(var Jf=0;Jf<jd.length;Jf++){var Zf=jd[Jf],TA=Zf.toLowerCase(),bA=Zf[0].toUpperCase()+Zf.slice(1);ci(TA,"on"+bA)}ci(Zg,"onAnimationEnd"),ci(e1,"onAnimationIteration"),ci(t1,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(Lb,"onTransitionRun"),ci(Ub,"onTransitionStart"),ci(zb,"onTransitionCancel"),ci(n1,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function A_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var v=l.length-1;0<=v;v--){var A=l[v],N=A.instance,F=A.currentTarget;if(A=A.listener,N!==f&&d.isPropagationStopped())break e;f=A,d.currentTarget=F;try{f(d)}catch(W){lu(W)}d.currentTarget=null,f=N}else for(v=0;v<l.length;v++){if(A=l[v],N=A.instance,F=A.currentTarget,A=A.listener,N!==f&&d.isPropagationStopped())break e;f=A,d.currentTarget=F;try{f(d)}catch(W){lu(W)}d.currentTarget=null,f=N}}}}function ze(t,r){var a=r[Da];a===void 0&&(a=r[Da]=new Set);var l=t+"__bubble";a.has(l)||(S_(r,t,2,!1),a.add(l))}function em(t,r,a){var l=0;r&&(l|=4),S_(a,t,l,r)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function tm(t){if(!t[Ku]){t[Ku]=!0,qo.forEach(function(a){a!=="selectionchange"&&(AA.has(a)||em(a,!1,t),em(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ku]||(r[Ku]=!0,em("selectionchange",!1,r))}}function S_(t,r,a,l){switch(Z_(r)){case 2:var d=WA;break;case 8:d=JA;break;default:d=gm}a=d.bind(null,r,a,t),d=void 0,!qs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(r,a,{capture:!0,passive:d}):t.addEventListener(r,a,!0):d!==void 0?t.addEventListener(r,a,{passive:d}):t.addEventListener(r,a,!1)}function nm(t,r,a,l,d){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===d)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;A!==null;){if(v=Ri(A),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=f=v;continue e}A=A.parentNode}}l=l.return}Br(function(){var F=f,W=Un(a),te=[];e:{var G=i1.get(t);if(G!==void 0){var $=ji,de=t;switch(t){case"keypress":if(Gs(a)===0)break e;case"keydown":case"keyup":$=su;break;case"focusin":de="focus",$=$s;break;case"focusout":de="blur",$=$s;break;case"beforeblur":case"afterblur":$=$s;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Xc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=_;break;case Zg:case e1:case t1:$=Jc;break;case n1:$=S;break;case"scroll":case"scrollend":$=tl;break;case"wheel":$=Y;break;case"copy":case"cut":case"paste":$=Zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=ir;break;case"toggle":case"beforetoggle":$=Me}var Ee=(r&4)!==0,lt=!Ee&&(t==="scroll"||t==="scrollend"),z=Ee?G!==null?G+"Capture":null:G;Ee=[];for(var M=F,q;M!==null;){var Z=M;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||z===null||(Z=si(M,z),Z!=null&&Ee.push(Ol(M,Z,q))),lt)break;M=M.return}0<Ee.length&&(G=new $(G,de,null,a,W),te.push({event:G,listeners:Ee}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",G&&a!==Jo&&(de=a.relatedTarget||a.fromElement)&&(Ri(de)||de[Si]))break e;if(($||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,$?(de=a.relatedTarget||a.toElement,$=F,de=de?Ri(de):null,de!==null&&(lt=c(de),Ee=de.tag,de!==lt||Ee!==5&&Ee!==27&&Ee!==6)&&(de=null)):($=null,de=F),$!==de)){if(Ee=nl,Z="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=ir,Z="onPointerLeave",z="onPointerEnter",M="pointer"),lt=$==null?G:Sn($),q=de==null?G:Sn(de),G=new Ee(Z,M+"leave",$,a,W),G.target=lt,G.relatedTarget=q,Z=null,Ri(W)===F&&(Ee=new Ee(z,M+"enter",de,a,W),Ee.target=q,Ee.relatedTarget=lt,Z=Ee),lt=Z,$&&de)t:{for(Ee=SA,z=$,M=de,q=0,Z=z;Z;Z=Ee(Z))q++;Z=0;for(var ye=M;ye;ye=Ee(ye))Z++;for(;0<q-Z;)z=Ee(z),q--;for(;0<Z-q;)M=Ee(M),Z--;for(;q--;){if(z===M||M!==null&&z===M.alternate){Ee=z;break t}z=Ee(z),M=Ee(M)}Ee=null}else Ee=null;$!==null&&w_(te,G,$,Ee,!1),de!==null&&lt!==null&&w_(te,lt,de,Ee,!0)}}e:{if(G=F?Sn(F):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var Xe=Hg;else if(zg(G))if(qg)Xe=kb;else{Xe=jb;var me=Ob}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&ka(F.elementType)&&(Xe=Hg):Xe=Mb;if(Xe&&(Xe=Xe(t,F))){Bg(te,Xe,a,W);break e}me&&me(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Qo(G,"number",G.value)}switch(me=F?Sn(F):window,t){case"focusin":(zg(me)||me.contentEditable==="true")&&(qa=me,Nd=F,ol=null);break;case"focusout":ol=Nd=qa=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,Wg(te,a,W);break;case"selectionchange":if(Vb)break;case"keydown":case"keyup":Wg(te,a,W)}var Pe;if(Ze)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ha?Ks(t,a)&&(Fe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(Pi&&a.locale!=="ko"&&(Ha||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ha&&(Pe=el()):(Oi=W,Zo="value"in Oi?Oi.value:Oi.textContent,Ha=!0)),me=Qu(F,Fe),0<me.length&&(Fe=new ki(Fe,t,null,a,W),te.push({event:Fe,listeners:me}),Pe?Fe.data=Pe:(Pe=Ba(a),Pe!==null&&(Fe.data=Pe)))),(Pe=Bn?xb(t,a):Ib(t,a))&&(Fe=Qu(F,"onBeforeInput"),0<Fe.length&&(me=new ki("onBeforeInput","beforeinput",null,a,W),te.push({event:me,listeners:Fe}),me.data=Pe)),EA(te,t,F,a,W)}A_(te,r)})}function Ol(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Qu(t,r){for(var a=r+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=si(t,a),d!=null&&l.unshift(Ol(t,d,f)),d=si(t,r),d!=null&&l.push(Ol(t,d,f))),t.tag===3)return l;t=t.return}return[]}function SA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function w_(t,r,a,l,d){for(var f=r._reactName,v=[];a!==null&&a!==l;){var A=a,N=A.alternate,F=A.stateNode;if(A=A.tag,N!==null&&N===l)break;A!==5&&A!==26&&A!==27||F===null||(N=F,d?(F=si(a,f),F!=null&&v.unshift(Ol(a,F,N))):d||(F=si(a,f),F!=null&&v.push(Ol(a,F,N)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var wA=/\r\n?/g,RA=/\u0000|\uFFFD/g;function R_(t){return(typeof t=="string"?t:""+t).replace(wA,`
`).replace(RA,"")}function C_(t,r){return r=R_(r),R_(t)===r}function ot(t,r,a,l,d,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&yn(t,""+l);break;case"className":wn(t,"class",l);break;case"tabIndex":wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,l);break;case"style":Wo(t,l,f);break;case"data":if(r!=="object"){wn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&ot(t,r,"name",d.name,d,null),ot(t,r,"formEncType",d.formEncType,d,null),ot(t,r,"formMethod",d.formMethod,d,null),ot(t,r,"formTarget",d.formTarget,d,null)):(ot(t,r,"encType",d.encType,d,null),ot(t,r,"method",d.method,d,null),ot(t,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ri);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),ja(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ja(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qc.get(a)||a,ja(t,a,l))}}function im(t,r,a,l,d,f){switch(a){case"style":Wo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),f=t[Yt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ja(t,a,l)}}}function tn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ot(t,r,f,v,a,null)}}d&&ot(t,r,"srcSet",a.srcSet,a,null),l&&ot(t,r,"src",a.src,a,null);return;case"input":ze("invalid",t);var A=f=v=d=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":d=W;break;case"type":v=W;break;case"checked":N=W;break;case"defaultChecked":F=W;break;case"value":f=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:ot(t,r,l,W,a,null)}}Yc(t,f,A,N,F,v,d,!1);return;case"select":ze("invalid",t),l=v=f=null;for(d in a)if(a.hasOwnProperty(d)&&(A=a[d],A!=null))switch(d){case"value":f=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:ot(t,r,d,A,a,null)}r=f,a=v,t.multiple=!!l,r!=null?Vr(t,!!l,r,!1):a!=null&&Vr(t,!!l,a,!0);return;case"textarea":ze("invalid",t),f=d=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":d=A;break;case"children":f=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ot(t,r,v,A,a,null)}Lr(t,l,d,f);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ot(t,r,N,l,a,null));return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)ze(Dl[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ot(t,r,F,l,a,null)}return;default:if(ka(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&im(t,r,W,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&ot(t,r,A,l,a,null))}function CA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,A=null,N=null,F=null,W=null;for($ in a){var te=a[$];if(a.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty($)||ot(t,r,$,null,l,te)}}for(var G in l){var $=l[G];if(te=a[G],l.hasOwnProperty(G)&&($!=null||te!=null))switch(G){case"type":f=$;break;case"name":d=$;break;case"checked":F=$;break;case"defaultChecked":W=$;break;case"value":v=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==te&&ot(t,r,G,$,l,te)}}Ma(t,v,A,N,F,W,f,d);return;case"select":$=v=A=G=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":$=N;default:l.hasOwnProperty(f)||ot(t,r,f,null,l,N)}for(d in l)if(f=l[d],N=a[d],l.hasOwnProperty(d)&&(f!=null||N!=null))switch(d){case"value":G=f;break;case"defaultValue":A=f;break;case"multiple":v=f;default:f!==N&&ot(t,r,d,f,l,N)}r=A,a=v,l=$,G!=null?Vr(t,!!a,G,!1):!!l!=!!a&&(r!=null?Vr(t,!!a,r,!0):Vr(t,!!a,a?[]:"",!1));return;case"textarea":$=G=null;for(A in a)if(d=a[A],a.hasOwnProperty(A)&&d!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ot(t,r,A,null,l,d)}for(v in l)if(d=l[v],f=a[v],l.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":G=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&ot(t,r,v,d,l,f)}$c(t,G,$);return;case"option":for(var de in a)G=a[de],a.hasOwnProperty(de)&&G!=null&&!l.hasOwnProperty(de)&&(de==="selected"?t.selected=!1:ot(t,r,de,null,l,G));for(N in l)G=l[N],$=a[N],l.hasOwnProperty(N)&&G!==$&&(G!=null||$!=null)&&(N==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":ot(t,r,N,G,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)G=a[Ee],a.hasOwnProperty(Ee)&&G!=null&&!l.hasOwnProperty(Ee)&&ot(t,r,Ee,null,l,G);for(F in l)if(G=l[F],$=a[F],l.hasOwnProperty(F)&&G!==$&&(G!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:ot(t,r,F,G,l,$)}return;default:if(ka(r)){for(var lt in a)G=a[lt],a.hasOwnProperty(lt)&&G!==void 0&&!l.hasOwnProperty(lt)&&im(t,r,lt,void 0,l,G);for(W in l)G=l[W],$=a[W],!l.hasOwnProperty(W)||G===$||G===void 0&&$===void 0||im(t,r,W,G,l,$);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&ot(t,r,z,null,l,G);for(te in l)G=l[te],$=a[te],!l.hasOwnProperty(te)||G===$||G==null&&$==null||ot(t,r,te,G,l,$)}function x_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,v=d.initiatorType,A=d.duration;if(f&&A&&x_(v)){for(v=0,A=d.responseEnd,l+=1;l<a.length;l++){var N=a[l],F=N.startTime;if(F>A)break;var W=N.transferSize,te=N.initiatorType;W&&x_(te)&&(N=N.responseEnd,v+=W*(N<A?1:(A-F)/(N-F)))}if(--l,r+=8*(f+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var rm=null,sm=null;function Xu(t){return t.nodeType===9?t:t.ownerDocument}function I_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function am(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var om=null;function IA(){var t=window.event;return t&&t.type==="popstate"?t===om?!1:(om=t,!0):(om=null,!1)}var D_=typeof setTimeout=="function"?setTimeout:void 0,NA=typeof clearTimeout=="function"?clearTimeout:void 0,O_=typeof Promise=="function"?Promise:void 0,DA=typeof queueMicrotask=="function"?queueMicrotask:typeof O_<"u"?function(t){return O_.resolve(null).then(t).catch(OA)}:D_;function OA(t){setTimeout(function(){throw t})}function os(t){return t==="head"}function j_(t,r){var a=r,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),yo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")jl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,jl(a);for(var f=a.firstChild;f;){var v=f.nextSibling,A=f.nodeName;f[wi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&jl(t.ownerDocument.body);a=d}while(a);yo(r)}function M_(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function lm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":lm(a),Oa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jA(t,r,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function MA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function k_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Kn(t.nextSibling),t===null))return null;return t}function cm(t){return t.data==="$?"||t.data==="$~"}function um(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kA(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var hm=null;function P_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Kn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function V_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function L_(t,r,a){switch(r=Xu(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function jl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Oa(t)}var Qn=new Map,U_=new Set;function Wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _r=se.d;se.d={f:PA,r:VA,D:LA,C:UA,L:zA,m:BA,X:qA,S:HA,M:FA};function PA(){var t=_r.f(),r=Hu();return t||r}function VA(t){var r=Ln(t);r!==null&&r.tag===5&&r.type==="form"?ny(r):_r.r(t)}var mo=typeof document>"u"?null:document;function z_(t,r,a){var l=mo;if(l&&typeof r=="string"&&r){var d=gn(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),U_.has(d)||(U_.add(d),t={rel:t,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),tn(r,"link",t),Mt(r),l.head.appendChild(r)))}}function LA(t){_r.D(t),z_("dns-prefetch",t,null)}function UA(t,r){_r.C(t,r),z_("preconnect",t,r)}function zA(t,r,a){_r.L(t,r,a);var l=mo;if(l&&t&&r){var d='link[rel="preload"][as="'+gn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+gn(a.imageSizes)+'"]')):d+='[href="'+gn(t)+'"]';var f=d;switch(r){case"style":f=po(t);break;case"script":f=go(t)}Qn.has(f)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Qn.set(f,t),l.querySelector(d)!==null||r==="style"&&l.querySelector(Ml(f))||r==="script"&&l.querySelector(kl(f))||(r=l.createElement("link"),tn(r,"link",t),Mt(r),l.head.appendChild(r)))}}function BA(t,r){_r.m(t,r);var a=mo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=go(t)}if(!Qn.has(f)&&(t=b({rel:"modulepreload",href:t},r),Qn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(f)))return}l=a.createElement("link"),tn(l,"link",t),Mt(l),a.head.appendChild(l)}}}function HA(t,r,a){_r.S(t,r,a);var l=mo;if(l&&t){var d=Ci(l).hoistableStyles,f=po(t);r=r||"default";var v=d.get(f);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(Ml(f)))A.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Qn.get(f))&&dm(t,a);var N=v=l.createElement("link");Mt(N),tn(N,"link",t),N._p=new Promise(function(F,W){N.onload=F,N.onerror=W}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ju(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:A},d.set(f,v)}}}function qA(t,r){_r.X(t,r);var a=mo;if(a&&t){var l=Ci(a).hoistableScripts,d=go(t),f=l.get(d);f||(f=a.querySelector(kl(d)),f||(t=b({src:t,async:!0},r),(r=Qn.get(d))&&fm(t,r),f=a.createElement("script"),Mt(f),tn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function FA(t,r){_r.M(t,r);var a=mo;if(a&&t){var l=Ci(a).hoistableScripts,d=go(t),f=l.get(d);f||(f=a.querySelector(kl(d)),f||(t=b({src:t,async:!0,type:"module"},r),(r=Qn.get(d))&&fm(t,r),f=a.createElement("script"),Mt(f),tn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function B_(t,r,a,l){var d=(d=Te.current)?Wu(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=po(a.href),a=Ci(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=po(a.href);var f=Ci(d).hoistableStyles,v=f.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=d.querySelector(Ml(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),f||GA(d,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=go(a),a=Ci(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function po(t){return'href="'+gn(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function H_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function GA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),tn(r,"link",a),Mt(r),t.head.appendChild(r))}function go(t){return'[src="'+gn(t)+'"]'}function kl(t){return"script[async]"+t}function q_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+gn(a.href)+'"]');if(l)return r.instance=l,Mt(l),l;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Mt(l),tn(l,"style",d),Ju(l,a.precedence,t),r.instance=l;case"stylesheet":d=po(a.href);var f=t.querySelector(Ml(d));if(f)return r.state.loading|=4,r.instance=f,Mt(f),f;l=H_(a),(d=Qn.get(d))&&dm(l,d),f=(t.ownerDocument||t).createElement("link"),Mt(f);var v=f;return v._p=new Promise(function(A,N){v.onload=A,v.onerror=N}),tn(f,"link",l),r.state.loading|=4,Ju(f,a.precedence,t),r.instance=f;case"script":return f=go(a.src),(d=t.querySelector(kl(f)))?(r.instance=d,Mt(d),d):(l=a,(d=Qn.get(f))&&(l=b({},a),fm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Mt(d),tn(d,"link",l),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Ju(l,a.precedence,t));return r.instance}function Ju(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===r)f=A;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function dm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function fm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Zu=null;function F_(t,r,a){if(Zu===null){var l=new Map,d=Zu=new Map;d.set(a,l)}else d=Zu,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[wi]||f[jt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(r)||"";v=t+v;var A=l.get(v);A?A.push(f):l.set(v,[f])}}return l}function G_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function YA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Y_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $A(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=po(l.href),f=r.querySelector(Ml(d));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=eh.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=f,Mt(f);return}f=r.ownerDocument||r,l=H_(l),(d=Qn.get(d))&&dm(l,d),f=f.createElement("link"),Mt(f);var v=f;v._p=new Promise(function(A,N){v.onload=A,v.onerror=N}),tn(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=eh.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var mm=0;function KA(t,r){return t.stylesheets&&t.count===0&&nh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&mm===0&&(mm=62500*xA());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>mm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var th=null;function nh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,th=new Map,r.forEach(QA,t),th=null,eh.call(t))}function QA(t,r){if(!(r.state.loading&4)){var a=th.get(t);if(a)var l=a.get(null);else{a=new Map,th.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}d=r.instance,v=d.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,d),a.set(v,d),this.count++,l=eh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var Pl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function XA(t,r,a,l,d,f,v,A,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function $_(t,r,a,l,d,f,v,A,N,F,W,te){return t=new XA(t,r,a,v,N,F,W,te,A),r=1,f===!0&&(r|=24),f=Cn(3,null,null,r),t.current=f,f.stateNode=t,r=Yd(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Xd(f),t}function K_(t){return t?(t=Ya,t):Ya}function Q_(t,r,a,l,d,f){d=K_(d),l.context===null?l.context=d:l.pendingContext=d,l=Xr(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Wr(t,l,r),a!==null&&(bn(a,t,r),ml(a,t,r))}function X_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function pm(t,r){X_(t,r),(t=t.alternate)&&X_(t,r)}function W_(t){if(t.tag===13||t.tag===31){var r=Ws(t,67108864);r!==null&&bn(r,t,67108864),pm(t,67108864)}}function J_(t){if(t.tag===13||t.tag===31){var r=On();r=Us(r);var a=Ws(t,r);a!==null&&bn(a,t,r),pm(t,r)}}var ih=!0;function WA(t,r,a,l){var d=K.T;K.T=null;var f=se.p;try{se.p=2,gm(t,r,a,l)}finally{se.p=f,K.T=d}}function JA(t,r,a,l){var d=K.T;K.T=null;var f=se.p;try{se.p=8,gm(t,r,a,l)}finally{se.p=f,K.T=d}}function gm(t,r,a,l){if(ih){var d=ym(l);if(d===null)nm(t,r,l,rh,a),ev(t,l);else if(eS(d,t,r,a,l))l.stopPropagation();else if(ev(t,l),r&4&&-1<ZA.indexOf(t)){for(;d!==null;){var f=Ln(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Ti(f.pendingLanes);if(v!==0){var A=f;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var N=1<<31-wt(v);A.entanglements[1]|=N,v&=~N}zi(f),(et&6)===0&&(zu=pt()+500,Nl(0))}}break;case 31:case 13:A=Ws(f,2),A!==null&&bn(A,f,2),Hu(),pm(f,2)}if(f=ym(l),f===null&&nm(t,r,l,rh,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else nm(t,r,l,null,a)}}function ym(t){return t=Un(t),_m(t)}var rh=null;function _m(t){if(rh=null,t=Ri(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=p(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return rh=t,null}function Z_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pn()){case dn:return 2;case Zn:return 8;case kr:case Ad:return 32;case Pc:return 268435456;default:return 32}default:return 32}}var vm=!1,ls=null,cs=null,us=null,Vl=new Map,Ll=new Map,hs=[],ZA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(t,r){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(r.pointerId)}}function Ul(t,r,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},r!==null&&(r=Ln(r),r!==null&&W_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function eS(t,r,a,l,d){switch(r){case"focusin":return ls=Ul(ls,t,r,a,l,d),!0;case"dragenter":return cs=Ul(cs,t,r,a,l,d),!0;case"mouseover":return us=Ul(us,t,r,a,l,d),!0;case"pointerover":var f=d.pointerId;return Vl.set(f,Ul(Vl.get(f)||null,t,r,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Ll.set(f,Ul(Ll.get(f)||null,t,r,a,l,d)),!0}return!1}function tv(t){var r=Ri(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,ni(t.priority,function(){J_(a)});return}}else if(r===31){if(r=p(a),r!==null){t.blockedOn=r,ni(t.priority,function(){J_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=ym(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Jo=l,a.target.dispatchEvent(l),Jo=null}else return r=Ln(a),r!==null&&W_(r),t.blockedOn=a,!1;r.shift()}return!0}function nv(t,r,a){sh(t)&&a.delete(r)}function tS(){vm=!1,ls!==null&&sh(ls)&&(ls=null),cs!==null&&sh(cs)&&(cs=null),us!==null&&sh(us)&&(us=null),Vl.forEach(nv),Ll.forEach(nv)}function ah(t,r){t.blockedOn===r&&(t.blockedOn=null,vm||(vm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,tS)))}var oh=null;function iv(t){oh!==t&&(oh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){oh===t&&(oh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],d=t[r+2];if(typeof l!="function"){if(_m(l||a)===null)continue;break}var f=Ln(a);f!==null&&(t.splice(r,3),r-=3,yf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function yo(t){function r(N){return ah(N,t)}ls!==null&&ah(ls,t),cs!==null&&ah(cs,t),us!==null&&ah(us,t),Vl.forEach(r),Ll.forEach(r);for(var a=0;a<hs.length;a++){var l=hs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hs.length&&(a=hs[0],a.blockedOn===null);)tv(a),a.blockedOn===null&&hs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],v=d[Yt]||null;if(typeof f=="function")v||iv(a);else if(v){var A=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[Yt]||null)A=v.formAction;else if(_m(d)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),iv(a)}}}function rv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Em(t){this._internalRoot=t}lh.prototype.render=Em.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=On();Q_(a,l,t,r,null,null)},lh.prototype.unmount=Em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Q_(t.current,2,null,t,null,null),Hu(),r[Si]=null}};function lh(t){this._internalRoot=t}lh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Hc();t={blockedOn:null,target:t,priority:r};for(var a=0;a<hs.length&&r!==0&&r<hs[a].priority;a++);hs.splice(a,0,t),a===0&&tv(t)}};var sv=e.version;if(sv!=="19.2.4")throw Error(s(527,sv,"19.2.4"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var nS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{ei=ch.inject(nS),Xt=ch}catch{}}return Bl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",d=dy,f=fy,v=my;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=$_(t,1,!1,null,null,a,l,null,d,f,v,rv),t[Si]=r.current,tm(t),new Em(r)},Bl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=dy,v=fy,A=my,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=$_(t,1,!0,r,a??null,l,d,N,f,v,A,rv),r.context=K_(null),a=r.current,l=On(),l=Us(l),d=Xr(l),d.callback=null,Wr(a,d,l),a=l,r.current.lanes=a,Vs(r,a),zi(r),t[Si]=r.current,tm(t),new lh(r)},Bl.version="19.2.4",Bl}var pv;function fS(){if(pv)return Am.exports;pv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Am.exports=dS(),Am.exports}var mS=fS();const pS=uE(mS);var gv="popstate";function yv(i){return typeof i=="object"&&i!=null&&"pathname"in i&&"search"in i&&"hash"in i&&"state"in i&&"key"in i}function gS(i={}){function e(o,c){let{pathname:h="/",search:p="",hash:g=""}=Sa(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Xm("",{pathname:h,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let h=o.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof c=="string"?c:oc(c))}function s(o,c){gi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return _S(e,n,s,i)}function _t(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function gi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yS(){return Math.random().toString(36).substring(2,10)}function _v(i,e){return{usr:i.state,key:i.key,idx:e,masked:i.unstable_mask?{pathname:i.pathname,search:i.search,hash:i.hash}:void 0}}function Xm(i,e,n=null,s,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Sa(e):e,state:n,key:e&&e.key||s||yS(),unstable_mask:o}}function oc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Sa(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function _S(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,h=o.history,p="POP",g=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function b(){p="POP";let V=E(),X=V==null?null:V-y;y=V,g&&g({action:p,location:B.location,delta:X})}function w(V,X){p="PUSH";let J=yv(V)?V:Xm(B.location,V,X);n&&n(J,V),y=E()+1;let ie=_v(J,y),oe=B.createHref(J.unstable_mask||J);try{h.pushState(ie,"",oe)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(oe)}c&&g&&g({action:p,location:B.location,delta:1})}function L(V,X){p="REPLACE";let J=yv(V)?V:Xm(B.location,V,X);n&&n(J,V),y=E();let ie=_v(J,y),oe=B.createHref(J.unstable_mask||J);h.replaceState(ie,"",oe),c&&g&&g({action:p,location:B.location,delta:0})}function U(V){return vS(V)}let B={get action(){return p},get location(){return i(o,h)},listen(V){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(gv,b),g=V,()=>{o.removeEventListener(gv,b),g=null}},createHref(V){return e(o,V)},createURL:U,encodeLocation(V){let X=U(V);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:w,replace:L,go(V){return h.go(V)}};return B}function vS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:oc(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function hE(i,e,n="/"){return ES(i,e,n,!1)}function ES(i,e,n,s){let o=typeof e=="string"?Sa(e):e,c=Ar(o.pathname||"/",n);if(c==null)return null;let h=dE(i);TS(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=OS(c);p=NS(h[g],y,s)}return p}function dE(i,e=[],n=[],s="",o=!1){let c=(h,p,g=o,y)=>{let E={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;_t(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=Fi([s,E.relativePath]),w=n.concat(E);h.children&&h.children.length>0&&(_t(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),dE(h.children,e,w,b,g)),!(h.path==null&&!h.index)&&e.push({path:b,score:xS(b,h.index),routesMeta:w})};return i.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))c(h,p);else for(let g of fE(h.path))c(h,p,!0,g)}),e}function fE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let h=fE(s.join("/")),p=[];return p.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...h),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function TS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:IS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var bS=/^:[\w-]+$/,AS=3,SS=2,wS=1,RS=10,CS=-2,vv=i=>i==="*";function xS(i,e){let n=i.split("/"),s=n.length;return n.some(vv)&&(s+=CS),e&&(s+=SS),n.filter(o=>!vv(o)).reduce((o,c)=>o+(bS.test(c)?AS:c===""?wS:RS),s)}function IS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function NS(i,e,n=!1){let{routesMeta:s}=i,o={},c="/",h=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",b=jh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=jh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:Fi([c,b.pathname]),pathnameBase:PS(Fi([c,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(c=Fi([c,b.pathnameBase]))}return h}function jh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=DS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},w)=>{if(E==="*"){let U=p[w]||"";h=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const L=p[w];return b&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:i}}function DS(i,e=!1,n=!0){gi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g,y,E)=>{if(s.push({paramName:p,isOptional:g!=null}),g){let b=E.charAt(y+h.length);return b&&b!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function OS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ar(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var jS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function MS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Sa(i):i,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=Ev(n.substring(1),"/"):c=Ev(n,e)):c=e,{pathname:c,search:VS(s),hash:LS(o)}}function Ev(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Cm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mE(i){let e=kS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function xp(i,e,n,s=!1){let o;typeof i=="string"?o=Sa(i):(o={...i},_t(!o.pathname||!o.pathname.includes("?"),Cm("?","pathname","search",o)),_t(!o.pathname||!o.pathname.includes("#"),Cm("#","pathname","hash",o)),_t(!o.search||!o.search.includes("#"),Cm("#","search","hash",o)));let c=i===""||o.pathname==="",h=c?"/":o.pathname,p;if(h==null)p=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}p=b>=0?e[b]:"/"}let g=MS(o,p),y=h&&h!=="/"&&h.endsWith("/"),E=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Fi=i=>i.join("/").replace(/\/\/+/g,"/"),PS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),VS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,LS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,US=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function zS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function BS(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var pE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gE(i,e){let n=i;if(typeof n!="string"||!jS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(pE)try{let c=new URL(window.location.href),h=n.startsWith("//")?new URL(c.protocol+n):new URL(n),p=Ar(h.pathname,e);h.origin===c.origin&&p!=null?n=p+h.search+h.hash:o=!0}catch{gi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yE=["POST","PUT","PATCH","DELETE"];new Set(yE);var HS=["GET",...yE];new Set(HS);var Mo=O.createContext(null);Mo.displayName="DataRouter";var ed=O.createContext(null);ed.displayName="DataRouterState";var qS=O.createContext(!1),_E=O.createContext({isTransitioning:!1});_E.displayName="ViewTransition";var FS=O.createContext(new Map);FS.displayName="Fetchers";var GS=O.createContext(null);GS.displayName="Await";var Jn=O.createContext(null);Jn.displayName="Navigation";var vc=O.createContext(null);vc.displayName="Location";var xr=O.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var Ip=O.createContext(null);Ip.displayName="RouteError";var vE="REACT_ROUTER_ERROR",YS="REDIRECT",$S="ROUTE_ERROR_RESPONSE";function KS(i){if(i.startsWith(`${vE}:${YS}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function QS(i){if(i.startsWith(`${vE}:${$S}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new US(e.status,e.statusText,e.data)}catch{}}function XS(i,{relative:e}={}){_t(Ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(Jn),{hash:o,pathname:c,search:h}=bc(i,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:Fi([n,c])),s.createHref({pathname:p,search:h,hash:o})}function Ec(){return O.useContext(vc)!=null}function Ir(){return _t(Ec(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(vc).location}var EE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TE(i){O.useContext(Jn).static||O.useLayoutEffect(i)}function Tc(){let{isDataRoute:i}=O.useContext(xr);return i?cw():WS()}function WS(){_t(Ec(),"useNavigate() may be used only in the context of a <Router> component.");let i=O.useContext(Mo),{basename:e,navigator:n}=O.useContext(Jn),{matches:s}=O.useContext(xr),{pathname:o}=Ir(),c=JSON.stringify(mE(s)),h=O.useRef(!1);return TE(()=>{h.current=!0}),O.useCallback((g,y={})=>{if(gi(h.current,EE),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=xp(g,JSON.parse(c),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Fi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,c,o,i])}O.createContext(null);function bc(i,{relative:e}={}){let{matches:n}=O.useContext(xr),{pathname:s}=Ir(),o=JSON.stringify(mE(n));return O.useMemo(()=>xp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function JS(i,e){return bE(i,e)}function bE(i,e,n){_t(Ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(Jn),{matches:o}=O.useContext(xr),c=o[o.length-1],h=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let V=y&&y.path||"";SE(p,!y||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let E=Ir(),b;if(e){let V=typeof e=="string"?Sa(e):e;_t(g==="/"||V.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${V.pathname}" was given in the \`location\` prop.`),b=V}else b=E;let w=b.pathname||"/",L=w;if(g!=="/"){let V=g.replace(/^\//,"").split("/");L="/"+w.replace(/^\//,"").split("/").slice(V.length).join("/")}let U=hE(i,{pathname:L});gi(y||U!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),gi(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=iw(U&&U.map(V=>Object.assign({},V,{params:Object.assign({},h,V.params),pathname:Fi([g,s.encodeLocation?s.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:Fi([g,s.encodeLocation?s.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),o,n);return e&&B?O.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...b},navigationType:"POP"}},B):B}function ZS(){let i=lw(),e=zS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:c},"ErrorBoundary")," or"," ",O.createElement("code",{style:c},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:o},n):null,h)}var ew=O.createElement(ZS,null),AE=class extends O.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=QS(i.digest);n&&(i=n)}let e=i!==void 0?O.createElement(xr.Provider,{value:this.props.routeContext},O.createElement(Ip.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?O.createElement(tw,{error:i},e):e}};AE.contextType=qS;var xm=new WeakMap;function tw({children:i,error:e}){let{basename:n}=O.useContext(Jn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=KS(e.digest);if(s){let o=xm.get(e);if(o)throw o;let c=gE(s.location,n);if(pE&&!xm.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw xm.set(e,h),h}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return i}function nw({routeContext:i,match:e,children:n}){let s=O.useContext(Mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(xr.Provider,{value:i},n)}function iw(i,e=[],n){let s=n?.state;if(i==null){if(!s)return null;if(s.errors)i=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let o=i,c=s?.errors;if(c!=null){let E=o.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);_t(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,E+1))}let h=!1,p=-1;if(n&&s){h=s.renderFallback;for(let E=0;E<o.length;E++){let b=o[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=E),b.route.id){let{loaderData:w,errors:L}=s,U=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!L||L[b.route.id]===void 0);if(b.route.lazy||U){n.isStatic&&(h=!0),p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}}let g=n?.onError,y=s&&g?(E,b)=>{g(E,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:BS(s.matches),errorInfo:b})}:void 0;return o.reduceRight((E,b,w)=>{let L,U=!1,B=null,V=null;s&&(L=c&&b.route.id?c[b.route.id]:void 0,B=b.route.errorElement||ew,h&&(p<0&&w===0?(SE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,V=null):p===w&&(U=!0,V=b.route.hydrateFallbackElement||null)));let X=e.concat(o.slice(0,w+1)),J=()=>{let ie;return L?ie=B:U?ie=V:b.route.Component?ie=O.createElement(b.route.Component,null):b.route.element?ie=b.route.element:ie=E,O.createElement(nw,{match:b,routeContext:{outlet:E,matches:X,isDataRoute:s!=null},children:ie})};return s&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?O.createElement(AE,{location:s.location,revalidation:s.revalidation,component:B,error:L,children:J(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:y}):J()},null)}function Np(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rw(i){let e=O.useContext(Mo);return _t(e,Np(i)),e}function sw(i){let e=O.useContext(ed);return _t(e,Np(i)),e}function aw(i){let e=O.useContext(xr);return _t(e,Np(i)),e}function Dp(i){let e=aw(i),n=e.matches[e.matches.length-1];return _t(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function ow(){return Dp("useRouteId")}function lw(){let i=O.useContext(Ip),e=sw("useRouteError"),n=Dp("useRouteError");return i!==void 0?i:e.errors?.[n]}function cw(){let{router:i}=rw("useNavigate"),e=Dp("useNavigate"),n=O.useRef(!1);return TE(()=>{n.current=!0}),O.useCallback(async(o,c={})=>{gi(n.current,EE),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var Tv={};function SE(i,e,n){!e&&!Tv[i]&&(Tv[i]=!0,gi(!1,n))}O.memo(uw);function uw({routes:i,future:e,state:n,isStatic:s,onError:o}){return bE(i,void 0,{state:n,isStatic:s,onError:o})}function _o(i){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:h}){_t(!Ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),g=O.useMemo(()=>({basename:p,navigator:o,static:c,unstable_useTransitions:h,future:{}}),[p,o,c,h]);typeof n=="string"&&(n=Sa(n));let{pathname:y="/",search:E="",hash:b="",state:w=null,key:L="default",unstable_mask:U}=n,B=O.useMemo(()=>{let V=Ar(y,p);return V==null?null:{location:{pathname:V,search:E,hash:b,state:w,key:L,unstable_mask:U},navigationType:s}},[p,y,E,b,w,L,s,U]);return gi(B!=null,`<Router basename="${p}"> is not able to match the URL "${y}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:O.createElement(Jn.Provider,{value:g},O.createElement(vc.Provider,{children:e,value:B}))}function dw({children:i,location:e}){return JS(Wm(i),e)}function Wm(i,e=[]){let n=[];return O.Children.forEach(i,(s,o)=>{if(!O.isValidElement(s))return;let c=[...e,o];if(s.type===O.Fragment){n.push.apply(n,Wm(s.props.children,c));return}_t(s.type===_o,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Wm(s.props.children,c)),n.push(h)}),n}var Th="get",bh="application/x-www-form-urlencoded";function td(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function fw(i){return td(i)&&i.tagName.toLowerCase()==="button"}function mw(i){return td(i)&&i.tagName.toLowerCase()==="form"}function pw(i){return td(i)&&i.tagName.toLowerCase()==="input"}function gw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function yw(i,e){return i.button===0&&(!e||e==="_self")&&!gw(i)}var uh=null;function _w(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var vw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Im(i){return i!=null&&!vw.has(i)?(gi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bh}"`),null):i}function Ew(i,e){let n,s,o,c,h;if(mw(i)){let p=i.getAttribute("action");s=p?Ar(p,e):null,n=i.getAttribute("method")||Th,o=Im(i.getAttribute("enctype"))||bh,c=new FormData(i)}else if(fw(i)||pw(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(s=g?Ar(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||Th,o=Im(i.getAttribute("formenctype"))||Im(p.getAttribute("enctype"))||bh,c=new FormData(p,i),!_w()){let{name:y,type:E,value:b}=i;if(E==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,b)}}else{if(td(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Th,s=null,o=bh,h=i}return c&&o==="text/plain"&&(h=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Op(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Tw(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Ar(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function bw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Aw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Sw(i,e,n){let s=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await bw(c,n);return h.links?h.links():[]}return[]}));return xw(s.flat(1).filter(Aw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bv(i,e,n,s,o,c){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function ww(i,e,{includeHydrateFallback:n}={}){return Rw(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Rw(i){return[...new Set(i)]}function Cw(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function xw(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let c=JSON.stringify(Cw(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function wE(){let i=O.useContext(Mo);return Op(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Iw(){let i=O.useContext(ed);return Op(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var jp=O.createContext(void 0);jp.displayName="FrameworkContext";function RE(){let i=O.useContext(jp);return Op(i,"You must render this element inside a <HydratedRouter> element"),i}function Nw(i,e){let n=O.useContext(jp),[s,o]=O.useState(!1),[c,h]=O.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,w=O.useRef(null);O.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let B=X=>{X.forEach(J=>{h(J.isIntersecting)})},V=new IntersectionObserver(B,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[i]),O.useEffect(()=>{if(s){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[s]);let L=()=>{o(!0)},U=()=>{o(!1),h(!1)};return n?i!=="intent"?[c,w,{}]:[c,w,{onFocus:Hl(p,L),onBlur:Hl(g,U),onMouseEnter:Hl(y,L),onMouseLeave:Hl(E,U),onTouchStart:Hl(b,L)}]:[!1,w,{}]}function Hl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Dw({page:i,...e}){let{router:n}=wE(),s=O.useMemo(()=>hE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?O.createElement(jw,{page:i,matches:s,...e}):null}function Ow(i){let{manifest:e,routeModules:n}=RE(),[s,o]=O.useState([]);return O.useEffect(()=>{let c=!1;return Sw(i,e,n).then(h=>{c||o(h)}),()=>{c=!0}},[i,e,n]),s}function jw({page:i,matches:e,...n}){let s=Ir(),{future:o,manifest:c,routeModules:h}=RE(),{basename:p}=wE(),{loaderData:g,matches:y}=Iw(),E=O.useMemo(()=>bv(i,e,y,c,s,"data"),[i,e,y,c,s]),b=O.useMemo(()=>bv(i,e,y,c,s,"assets"),[i,e,y,c,s]),w=O.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let B=new Set,V=!1;if(e.forEach(J=>{let ie=c.routes[J.route.id];!ie||!ie.hasLoader||(!E.some(oe=>oe.route.id===J.route.id)&&J.route.id in g&&h[J.route.id]?.shouldRevalidate||ie.hasClientLoader?V=!0:B.add(J.route.id))}),B.size===0)return[];let X=Tw(i,p,o.unstable_trailingSlashAwareDataRequests,"data");return V&&B.size>0&&X.searchParams.set("_routes",e.filter(J=>B.has(J.route.id)).map(J=>J.route.id).join(",")),[X.pathname+X.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,s,c,E,e,i,h]),L=O.useMemo(()=>ww(b,c),[b,c]),U=Ow(b);return O.createElement(O.Fragment,null,w.map(B=>O.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),L.map(B=>O.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),U.map(({key:B,link:V})=>O.createElement("link",{key:B,nonce:n.nonce,...V,crossOrigin:V.crossOrigin??n.crossOrigin})))}function Mw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kw&&(window.__reactRouterVersion="7.13.1")}catch{}function Pw({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=O.useRef();o.current==null&&(o.current=gS({window:s,v5Compat:!0}));let c=o.current,[h,p]=O.useState({action:c.action,location:c.location}),g=O.useCallback(y=>{n===!1?p(y):O.startTransition(()=>p(y))},[n]);return O.useLayoutEffect(()=>c.listen(g),[c,g]),O.createElement(hw,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:n})}var CE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ts=O.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:h,unstable_mask:p,state:g,target:y,to:E,preventScrollReset:b,viewTransition:w,unstable_defaultShouldRevalidate:L,...U},B){let{basename:V,navigator:X,unstable_useTransitions:J}=O.useContext(Jn),ie=typeof E=="string"&&CE.test(E),oe=gE(E,V);E=oe.to;let ce=XS(E,{relative:o}),ve=Ir(),x=null;if(p){let Ve=xp(p,[],ve.unstable_mask?ve.unstable_mask.pathname:"/",!0);V!=="/"&&(Ve.pathname=Ve.pathname==="/"?V:Fi([V,Ve.pathname])),x=X.createHref(Ve)}let[R,I,k]=Nw(s,U),D=zw(E,{replace:h,unstable_mask:p,state:g,target:y,preventScrollReset:b,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:L,unstable_useTransitions:J});function P(Ve){e&&e(Ve),Ve.defaultPrevented||D(Ve)}let C=!(oe.isExternal||c),Oe=O.createElement("a",{...U,...k,href:(C?x:void 0)||oe.absoluteURL||ce,onClick:C?P:e,ref:Mw(B,I),target:y,"data-discover":!ie&&n==="render"?"true":void 0});return R&&!ie?O.createElement(O.Fragment,null,Oe,O.createElement(Dw,{page:ce})):Oe});Ts.displayName="Link";var Vw=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:h,viewTransition:p,children:g,...y},E){let b=bc(h,{relative:y.relative}),w=Ir(),L=O.useContext(ed),{navigator:U,basename:B}=O.useContext(Jn),V=L!=null&&Gw(b)&&p===!0,X=U.encodeLocation?U.encodeLocation(b).pathname:b.pathname,J=w.pathname,ie=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(J=J.toLowerCase(),ie=ie?ie.toLowerCase():null,X=X.toLowerCase()),ie&&B&&(ie=Ar(ie,B)||ie);const oe=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ce=J===X||!o&&J.startsWith(X)&&J.charAt(oe)==="/",ve=ie!=null&&(ie===X||!o&&ie.startsWith(X)&&ie.charAt(X.length)==="/"),x={isActive:ce,isPending:ve,isTransitioning:V},R=ce?e:void 0,I;typeof s=="function"?I=s(x):I=[s,ce?"active":null,ve?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(x):c;return O.createElement(Ts,{...y,"aria-current":R,className:I,ref:E,style:k,to:h,viewTransition:p},typeof g=="function"?g(x):g)});Vw.displayName="NavLink";var Lw=O.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:h=Th,action:p,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:w,...L},U)=>{let{unstable_useTransitions:B}=O.useContext(Jn),V=qw(),X=Fw(p,{relative:y}),J=h.toLowerCase()==="get"?"get":"post",ie=typeof p=="string"&&CE.test(p),oe=ce=>{if(g&&g(ce),ce.defaultPrevented)return;ce.preventDefault();let ve=ce.nativeEvent.submitter,x=ve?.getAttribute("formmethod")||h,R=()=>V(ve||ce.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:w});B&&n!==!1?O.startTransition(()=>R()):R()};return O.createElement("form",{ref:U,method:J,action:X,onSubmit:s?g:oe,...L,"data-discover":!ie&&i==="render"?"true":void 0})});Lw.displayName="Form";function Uw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xE(i){let e=O.useContext(Mo);return _t(e,Uw(i)),e}function zw(i,{target:e,replace:n,unstable_mask:s,state:o,preventScrollReset:c,relative:h,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:y}={}){let E=Tc(),b=Ir(),w=bc(i,{relative:h});return O.useCallback(L=>{if(yw(L,e)){L.preventDefault();let U=n!==void 0?n:oc(b)===oc(w),B=()=>E(i,{replace:U,unstable_mask:s,state:o,preventScrollReset:c,relative:h,viewTransition:p,unstable_defaultShouldRevalidate:g});y?O.startTransition(()=>B()):B()}},[b,E,w,n,s,o,e,i,c,h,p,g,y])}var Bw=0,Hw=()=>`__${String(++Bw)}__`;function qw(){let{router:i}=xE("useSubmit"),{basename:e}=O.useContext(Jn),n=ow(),s=i.fetch,o=i.navigate;return O.useCallback(async(c,h={})=>{let{action:p,method:g,encType:y,formData:E,body:b}=Ew(c,e);if(h.navigate===!1){let w=h.fetcherKey||Hw();await s(w,n,h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:b,formMethod:h.method||g,formEncType:h.encType||y,flushSync:h.flushSync})}else await o(h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:b,formMethod:h.method||g,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function Fw(i,{relative:e}={}){let{basename:n}=O.useContext(Jn),s=O.useContext(xr);_t(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...bc(i||".",{relative:e})},h=Ir();if(i==null){c.search=h.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let E=p.toString();c.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Fi([n,c.pathname])),oc(c)}function Gw(i,{relative:e}={}){let n=O.useContext(_E);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xE("useViewTransitionState"),o=bc(i,{relative:e});if(!n.isTransitioning)return!1;let c=Ar(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Ar(n.nextLocation.pathname,s)||n.nextLocation.pathname;return jh(o.pathname,h)!=null||jh(o.pathname,c)!=null}const IE=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const Yw=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const $w=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const Av=i=>{const e=$w(i);return e.charAt(0).toUpperCase()+e.slice(1)};var Kw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Qw=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const Xw=O.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:h,...p},g)=>O.createElement("svg",{ref:g,...Kw,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:IE("lucide",o),...!c&&!Qw(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,E])=>O.createElement(y,E)),...Array.isArray(c)?c:[c]]));const Je=(i,e)=>{const n=O.forwardRef(({className:s,...o},c)=>O.createElement(Xw,{ref:c,iconNode:e,className:IE(`lucide-${Yw(Av(i))}`,`lucide-${i}`,s),...o}));return n.displayName=Av(i),n};const Ww=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Jw=Je("briefcase",Ww);const Zw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],e4=Je("calendar-days",Zw);const t4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],n4=Je("calendar",t4);const i4=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],r4=Je("camera",i4);const s4=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],NE=Je("car",s4);const a4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hh=Je("check",a4);const o4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Nm=Je("circle-alert",o4);const l4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mp=Je("circle-check-big",l4);const c4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],u4=Je("circle-question-mark",c4);const h4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Sv=Je("circle-user",h4);const d4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],wv=Je("clock",d4);const f4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],m4=Je("credit-card",f4);const p4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],g4=Je("dollar-sign",p4);const y4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Dm=Je("eye-off",y4);const _4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Om=Je("eye",_4);const v4=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Rv=Je("hash",v4);const E4=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],T4=Je("headphones",E4);const b4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],DE=Je("history",b4);const A4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],S4=Je("house",A4);const w4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],jm=Je("lock",w4);const R4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],C4=Je("log-out",R4);const x4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Mm=Je("mail",x4);const I4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Jm=Je("map-pin",I4);const N4=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],OE=Je("message-circle",N4);const D4=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],O4=Je("palette",D4);const j4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],jE=Je("phone",j4);const M4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],k4=Je("shield-check",M4);const P4=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],V4=Je("user-check",P4);const L4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ME=Je("user",L4);const U4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],z4=Je("users",U4);const B4=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],H4=Je("wifi",B4);const q4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],F4=Je("x",q4),G4=()=>{};var Cv={};const kE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Y4=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],h=i[n++],p=i[n++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},PE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],h=o+1<i.length,p=h?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,E=c>>2,b=(c&3)<<4|p>>4;let w=(p&15)<<2|y>>6,L=y&63;g||(L=64,h||(w=64)),s.push(n[E],n[b],n[w],n[L])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(kE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Y4(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],p=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||p==null||y==null||b==null)throw new $4;const w=c<<2|p>>4;if(s.push(w),y!==64){const L=p<<4&240|y>>2;if(s.push(L),b!==64){const U=y<<6&192|b;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class $4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K4=function(i){const e=kE(i);return PE.encodeByteArray(e,!0)},Mh=function(i){return K4(i).replace(/\./g,"")},VE=function(i){try{return PE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Q4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const X4=()=>Q4().__FIREBASE_DEFAULTS__,W4=()=>{if(typeof process>"u"||typeof Cv>"u")return;const i=Cv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},J4=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&VE(i[1]);return e&&JSON.parse(e)},nd=()=>{try{return G4()||X4()||W4()||J4()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},LE=i=>nd()?.emulatorHosts?.[i],UE=i=>{const e=LE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},zE=()=>nd()?.config,BE=i=>nd()?.[`_${i}`];class Z4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function js(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kp(i){return(await fetch(i,{credentials:"include"})).ok}function HE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Mh(JSON.stringify(n)),Mh(JSON.stringify(h)),""].join(".")}const Zl={};function eR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?i.emulator.push(e):i.prod.push(e);return i}function tR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let xv=!1;function Pp(i,e){if(typeof window>"u"||typeof document>"u"||!js(window.location.host)||Zl[i]===e||Zl[i]||xv)return;Zl[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=eR().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,L){w.setAttribute("width","24"),w.setAttribute("id",L),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{xv=!0,h()},w}function E(w,L){w.setAttribute("id",L),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=tR(s),L=n("text"),U=document.getElementById(L)||document.createElement("span"),B=n("learnmore"),V=document.getElementById(B)||document.createElement("a"),X=n("preprendIcon"),J=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ie=w.element;p(ie),E(V,B);const oe=y();g(J,X),ie.append(J,U,V,oe),document.body.appendChild(ie)}c?(U.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function iR(){const i=nd()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function aR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oR(){const i=un();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function lR(){return!iR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cR(){try{return typeof indexedDB=="object"}catch{return!1}}function uR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const hR="FirebaseError";class Zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=hR,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ac.prototype.create)}}class Ac{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?dR(c,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Zi(o,p,s)}}function dR(i,e){return i.replace(fR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fR=/\{\$([^}]+)}/g;function mR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function pa(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=i[o],h=e[o];if(Iv(c)&&Iv(h)){if(!pa(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Iv(i){return i!==null&&typeof i=="object"}function Sc(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Yl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function pR(i,e){const n=new gR(i,e);return n.subscribe.bind(n)}class gR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");yR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=km),o.error===void 0&&(o.error=km),o.complete===void 0&&(o.complete=km);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function km(){}function Dt(i){return i&&i._delegate?i._delegate:i}class Rs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ua="[DEFAULT]";class _R{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Z4;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ER(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vR(i){return i===ua?void 0:i}function ER(i){return i.instantiationMode==="EAGER"}class TR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _R(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ge||(Ge={}));const bR={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},AR=Ge.INFO,SR={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},wR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=SR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vp{constructor(e){this.name=e,this._logLevel=AR,this._logHandler=wR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const RR=(i,e)=>e.some(n=>i instanceof n);let Nv,Dv;function CR(){return Nv||(Nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xR(){return Dv||(Dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qE=new WeakMap,Zm=new WeakMap,FE=new WeakMap,Pm=new WeakMap,Lp=new WeakMap;function IR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{n(bs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&qE.set(n,i)}).catch(()=>{}),Lp.set(e,i),e}function NR(i){if(Zm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});Zm.set(i,e)}let ep={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Zm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||FE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function DR(i){ep=i(ep)}function OR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Vm(this),e,...n);return FE.set(s,e.sort?e.sort():[e]),bs(s)}:xR().includes(i)?function(...e){return i.apply(Vm(this),e),bs(qE.get(this))}:function(...e){return bs(i.apply(Vm(this),e))}}function jR(i){return typeof i=="function"?OR(i):(i instanceof IDBTransaction&&NR(i),RR(i,CR())?new Proxy(i,ep):i)}function bs(i){if(i instanceof IDBRequest)return IR(i);if(Pm.has(i))return Pm.get(i);const e=jR(i);return e!==i&&(Pm.set(i,e),Lp.set(e,i)),e}const Vm=i=>Lp.get(i);function MR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(i,e),p=bs(h);return s&&h.addEventListener("upgradeneeded",g=>{s(bs(h.result),g.oldVersion,g.newVersion,bs(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const kR=["get","getKey","getAll","getAllKeys","count"],PR=["put","add","delete","clear"],Lm=new Map;function Ov(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Lm.get(e))return Lm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=PR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||kR.includes(n)))return;const c=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Lm.set(e,c),c}DR(i=>({...i,get:(e,n,s)=>Ov(e,n)||i.get(e,n,s),has:(e,n)=>!!Ov(e,n)||i.has(e,n)}));class VR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function LR(i){return i.getComponent()?.type==="VERSION"}const tp="@firebase/app",jv="0.14.8";const Sr=new Vp("@firebase/app"),UR="@firebase/app-compat",zR="@firebase/analytics-compat",BR="@firebase/analytics",HR="@firebase/app-check-compat",qR="@firebase/app-check",FR="@firebase/auth",GR="@firebase/auth-compat",YR="@firebase/database",$R="@firebase/data-connect",KR="@firebase/database-compat",QR="@firebase/functions",XR="@firebase/functions-compat",WR="@firebase/installations",JR="@firebase/installations-compat",ZR="@firebase/messaging",e3="@firebase/messaging-compat",t3="@firebase/performance",n3="@firebase/performance-compat",i3="@firebase/remote-config",r3="@firebase/remote-config-compat",s3="@firebase/storage",a3="@firebase/storage-compat",o3="@firebase/firestore",l3="@firebase/ai",c3="@firebase/firestore-compat",u3="firebase",h3="12.9.0";const np="[DEFAULT]",d3={[tp]:"fire-core",[UR]:"fire-core-compat",[BR]:"fire-analytics",[zR]:"fire-analytics-compat",[qR]:"fire-app-check",[HR]:"fire-app-check-compat",[FR]:"fire-auth",[GR]:"fire-auth-compat",[YR]:"fire-rtdb",[$R]:"fire-data-connect",[KR]:"fire-rtdb-compat",[QR]:"fire-fn",[XR]:"fire-fn-compat",[WR]:"fire-iid",[JR]:"fire-iid-compat",[ZR]:"fire-fcm",[e3]:"fire-fcm-compat",[t3]:"fire-perf",[n3]:"fire-perf-compat",[i3]:"fire-rc",[r3]:"fire-rc-compat",[s3]:"fire-gcs",[a3]:"fire-gcs-compat",[o3]:"fire-fst",[c3]:"fire-fst-compat",[l3]:"fire-vertex","fire-js":"fire-js",[u3]:"fire-js-all"};const kh=new Map,f3=new Map,ip=new Map;function Mv(i,e){try{i.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ga(i){const e=i.name;if(ip.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;ip.set(e,i);for(const n of kh.values())Mv(n,i);for(const n of f3.values())Mv(n,i);return!0}function id(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function jn(i){return i==null?!1:i.settings!==void 0}const m3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new Ac("app","Firebase",m3);class p3{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}const wa=h3;function GE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:np,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw As.create("bad-app-name",{appName:String(o)});if(n||(n=zE()),!n)throw As.create("no-options");const c=kh.get(o);if(c){if(pa(n,c.options)&&pa(s,c.config))return c;throw As.create("duplicate-app",{appName:o})}const h=new TR(o);for(const g of ip.values())h.addComponent(g);const p=new p3(n,s,h);return kh.set(o,p),p}function Up(i=np){const e=kh.get(i);if(!e&&i===np&&zE())return GE();if(!e)throw As.create("no-app",{appName:i});return e}function Gi(i,e,n){let s=d3[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(h.join(" "));return}ga(new Rs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const g3="firebase-heartbeat-database",y3=1,lc="firebase-heartbeat-store";let Um=null;function YE(){return Um||(Um=MR(g3,y3,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(lc)}catch(n){console.warn(n)}}}}).catch(i=>{throw As.create("idb-open",{originalErrorMessage:i.message})})),Um}async function _3(i){try{const n=(await YE()).transaction(lc),s=await n.objectStore(lc).get($E(i));return await n.done,s}catch(e){if(e instanceof Zi)Sr.warn(e.message);else{const n=As.create("idb-get",{originalErrorMessage:e?.message});Sr.warn(n.message)}}}async function kv(i,e){try{const s=(await YE()).transaction(lc,"readwrite");await s.objectStore(lc).put(e,$E(i)),await s.done}catch(n){if(n instanceof Zi)Sr.warn(n.message);else{const s=As.create("idb-set",{originalErrorMessage:n?.message});Sr.warn(s.message)}}}function $E(i){return`${i.name}!${i.options.appId}`}const v3=1024,E3=30;class T3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new A3(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Pv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>E3){const o=S3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Sr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Pv(),{heartbeatsToSend:n,unsentEntries:s}=b3(this._heartbeatsCache.heartbeats),o=Mh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Sr.warn(e),""}}}function Pv(){return new Date().toISOString().substring(0,10)}function b3(i,e=v3){const n=[];let s=i.slice();for(const o of i){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),Vv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Vv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class A3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cR()?uR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Vv(i){return Mh(JSON.stringify({version:2,heartbeats:i})).length}function S3(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function w3(i){ga(new Rs("platform-logger",e=>new VR(e),"PRIVATE")),ga(new Rs("heartbeat",e=>new T3(e),"PRIVATE")),Gi(tp,jv,i),Gi(tp,jv,"esm2020"),Gi("fire-js","")}w3("");var R3="firebase",C3="12.9.0";Gi(R3,C3,"app");var Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ss,KE;(function(){var i;function e(x,R){function I(){}I.prototype=R.prototype,x.F=R.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(k,D,P){for(var C=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)C[Oe-2]=arguments[Oe];return R.prototype[D].apply(k,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,I){I||(I=0);const k=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)k[D]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(D=0;D<16;++D)k[D]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=x.g[0],I=x.g[1],D=x.g[2];let P=x.g[3],C;C=R+(P^I&(D^P))+k[0]+3614090360&4294967295,R=I+(C<<7&4294967295|C>>>25),C=P+(D^R&(I^D))+k[1]+3905402710&4294967295,P=R+(C<<12&4294967295|C>>>20),C=D+(I^P&(R^I))+k[2]+606105819&4294967295,D=P+(C<<17&4294967295|C>>>15),C=I+(R^D&(P^R))+k[3]+3250441966&4294967295,I=D+(C<<22&4294967295|C>>>10),C=R+(P^I&(D^P))+k[4]+4118548399&4294967295,R=I+(C<<7&4294967295|C>>>25),C=P+(D^R&(I^D))+k[5]+1200080426&4294967295,P=R+(C<<12&4294967295|C>>>20),C=D+(I^P&(R^I))+k[6]+2821735955&4294967295,D=P+(C<<17&4294967295|C>>>15),C=I+(R^D&(P^R))+k[7]+4249261313&4294967295,I=D+(C<<22&4294967295|C>>>10),C=R+(P^I&(D^P))+k[8]+1770035416&4294967295,R=I+(C<<7&4294967295|C>>>25),C=P+(D^R&(I^D))+k[9]+2336552879&4294967295,P=R+(C<<12&4294967295|C>>>20),C=D+(I^P&(R^I))+k[10]+4294925233&4294967295,D=P+(C<<17&4294967295|C>>>15),C=I+(R^D&(P^R))+k[11]+2304563134&4294967295,I=D+(C<<22&4294967295|C>>>10),C=R+(P^I&(D^P))+k[12]+1804603682&4294967295,R=I+(C<<7&4294967295|C>>>25),C=P+(D^R&(I^D))+k[13]+4254626195&4294967295,P=R+(C<<12&4294967295|C>>>20),C=D+(I^P&(R^I))+k[14]+2792965006&4294967295,D=P+(C<<17&4294967295|C>>>15),C=I+(R^D&(P^R))+k[15]+1236535329&4294967295,I=D+(C<<22&4294967295|C>>>10),C=R+(D^P&(I^D))+k[1]+4129170786&4294967295,R=I+(C<<5&4294967295|C>>>27),C=P+(I^D&(R^I))+k[6]+3225465664&4294967295,P=R+(C<<9&4294967295|C>>>23),C=D+(R^I&(P^R))+k[11]+643717713&4294967295,D=P+(C<<14&4294967295|C>>>18),C=I+(P^R&(D^P))+k[0]+3921069994&4294967295,I=D+(C<<20&4294967295|C>>>12),C=R+(D^P&(I^D))+k[5]+3593408605&4294967295,R=I+(C<<5&4294967295|C>>>27),C=P+(I^D&(R^I))+k[10]+38016083&4294967295,P=R+(C<<9&4294967295|C>>>23),C=D+(R^I&(P^R))+k[15]+3634488961&4294967295,D=P+(C<<14&4294967295|C>>>18),C=I+(P^R&(D^P))+k[4]+3889429448&4294967295,I=D+(C<<20&4294967295|C>>>12),C=R+(D^P&(I^D))+k[9]+568446438&4294967295,R=I+(C<<5&4294967295|C>>>27),C=P+(I^D&(R^I))+k[14]+3275163606&4294967295,P=R+(C<<9&4294967295|C>>>23),C=D+(R^I&(P^R))+k[3]+4107603335&4294967295,D=P+(C<<14&4294967295|C>>>18),C=I+(P^R&(D^P))+k[8]+1163531501&4294967295,I=D+(C<<20&4294967295|C>>>12),C=R+(D^P&(I^D))+k[13]+2850285829&4294967295,R=I+(C<<5&4294967295|C>>>27),C=P+(I^D&(R^I))+k[2]+4243563512&4294967295,P=R+(C<<9&4294967295|C>>>23),C=D+(R^I&(P^R))+k[7]+1735328473&4294967295,D=P+(C<<14&4294967295|C>>>18),C=I+(P^R&(D^P))+k[12]+2368359562&4294967295,I=D+(C<<20&4294967295|C>>>12),C=R+(I^D^P)+k[5]+4294588738&4294967295,R=I+(C<<4&4294967295|C>>>28),C=P+(R^I^D)+k[8]+2272392833&4294967295,P=R+(C<<11&4294967295|C>>>21),C=D+(P^R^I)+k[11]+1839030562&4294967295,D=P+(C<<16&4294967295|C>>>16),C=I+(D^P^R)+k[14]+4259657740&4294967295,I=D+(C<<23&4294967295|C>>>9),C=R+(I^D^P)+k[1]+2763975236&4294967295,R=I+(C<<4&4294967295|C>>>28),C=P+(R^I^D)+k[4]+1272893353&4294967295,P=R+(C<<11&4294967295|C>>>21),C=D+(P^R^I)+k[7]+4139469664&4294967295,D=P+(C<<16&4294967295|C>>>16),C=I+(D^P^R)+k[10]+3200236656&4294967295,I=D+(C<<23&4294967295|C>>>9),C=R+(I^D^P)+k[13]+681279174&4294967295,R=I+(C<<4&4294967295|C>>>28),C=P+(R^I^D)+k[0]+3936430074&4294967295,P=R+(C<<11&4294967295|C>>>21),C=D+(P^R^I)+k[3]+3572445317&4294967295,D=P+(C<<16&4294967295|C>>>16),C=I+(D^P^R)+k[6]+76029189&4294967295,I=D+(C<<23&4294967295|C>>>9),C=R+(I^D^P)+k[9]+3654602809&4294967295,R=I+(C<<4&4294967295|C>>>28),C=P+(R^I^D)+k[12]+3873151461&4294967295,P=R+(C<<11&4294967295|C>>>21),C=D+(P^R^I)+k[15]+530742520&4294967295,D=P+(C<<16&4294967295|C>>>16),C=I+(D^P^R)+k[2]+3299628645&4294967295,I=D+(C<<23&4294967295|C>>>9),C=R+(D^(I|~P))+k[0]+4096336452&4294967295,R=I+(C<<6&4294967295|C>>>26),C=P+(I^(R|~D))+k[7]+1126891415&4294967295,P=R+(C<<10&4294967295|C>>>22),C=D+(R^(P|~I))+k[14]+2878612391&4294967295,D=P+(C<<15&4294967295|C>>>17),C=I+(P^(D|~R))+k[5]+4237533241&4294967295,I=D+(C<<21&4294967295|C>>>11),C=R+(D^(I|~P))+k[12]+1700485571&4294967295,R=I+(C<<6&4294967295|C>>>26),C=P+(I^(R|~D))+k[3]+2399980690&4294967295,P=R+(C<<10&4294967295|C>>>22),C=D+(R^(P|~I))+k[10]+4293915773&4294967295,D=P+(C<<15&4294967295|C>>>17),C=I+(P^(D|~R))+k[1]+2240044497&4294967295,I=D+(C<<21&4294967295|C>>>11),C=R+(D^(I|~P))+k[8]+1873313359&4294967295,R=I+(C<<6&4294967295|C>>>26),C=P+(I^(R|~D))+k[15]+4264355552&4294967295,P=R+(C<<10&4294967295|C>>>22),C=D+(R^(P|~I))+k[6]+2734768916&4294967295,D=P+(C<<15&4294967295|C>>>17),C=I+(P^(D|~R))+k[13]+1309151649&4294967295,I=D+(C<<21&4294967295|C>>>11),C=R+(D^(I|~P))+k[4]+4149444226&4294967295,R=I+(C<<6&4294967295|C>>>26),C=P+(I^(R|~D))+k[11]+3174756917&4294967295,P=R+(C<<10&4294967295|C>>>22),C=D+(R^(P|~I))+k[2]+718787259&4294967295,D=P+(C<<15&4294967295|C>>>17),C=I+(P^(D|~R))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.v=function(x,R){R===void 0&&(R=x.length);const I=R-this.blockSize,k=this.C;let D=this.h,P=0;for(;P<R;){if(D==0)for(;P<=I;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<R;)if(k[D++]=x.charCodeAt(P++),D==this.blockSize){o(this,k),D=0;break}}else for(;P<R;)if(k[D++]=x[P++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)x[R++]=this.g[I]>>>k&255;return x};function c(x,R){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=R(x)}function h(x,R){this.h=R;const I=[];let k=!0;for(let D=x.length-1;D>=0;D--){const P=x[D]|0;k&&P==R||(I[D]=P,k=!1)}this.g=I}var p={};function g(x){return-128<=x&&x<128?c(x,function(R){return new h([R|0],R<0?-1:0)}):new h([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return b;if(x<0)return V(y(-x));const R=[];let I=1;for(let k=0;x>=I;k++)R[k]=x/I|0,I*=4294967296;return new h(R,0)}function E(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return V(E(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(R,8));let k=b;for(let P=0;P<x.length;P+=8){var D=Math.min(8,x.length-P);const C=parseInt(x.substring(P,P+D),R);D<8?(D=y(Math.pow(R,D)),k=k.j(D).add(y(C))):(k=k.j(I),k=k.add(y(C)))}return k}var b=g(0),w=g(1),L=g(16777216);i=h.prototype,i.m=function(){if(B(this))return-V(this).m();let x=0,R=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);x+=(k>=0?k:4294967296+k)*R,R*=4294967296}return x},i.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(U(this))return"0";if(B(this))return"-"+V(this).toString(x);const R=y(Math.pow(x,6));var I=this;let k="";for(;;){const D=oe(I,R).g;I=X(I,D.j(R));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=D,U(I))return P+k;for(;P.length<6;)P="0"+P;k=P+k}},i.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function U(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function B(x){return x.h==-1}i.l=function(x){return x=X(this,x),B(x)?-1:U(x)?0:1};function V(x){const R=x.g.length,I=[];for(let k=0;k<R;k++)I[k]=~x.g[k];return new h(I,~x.h).add(w)}i.abs=function(){return B(this)?V(this):this},i.add=function(x){const R=Math.max(this.g.length,x.g.length),I=[];let k=0;for(let D=0;D<=R;D++){let P=k+(this.i(D)&65535)+(x.i(D)&65535),C=(P>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);k=C>>>16,P&=65535,C&=65535,I[D]=C<<16|P}return new h(I,I[I.length-1]&-2147483648?-1:0)};function X(x,R){return x.add(V(R))}i.j=function(x){if(U(this)||U(x))return b;if(B(this))return B(x)?V(this).j(V(x)):V(V(this).j(x));if(B(x))return V(this.j(V(x)));if(this.l(L)<0&&x.l(L)<0)return y(this.m()*x.m());const R=this.g.length+x.g.length,I=[];for(var k=0;k<2*R;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<x.g.length;D++){const P=this.i(k)>>>16,C=this.i(k)&65535,Oe=x.i(D)>>>16,Ve=x.i(D)&65535;I[2*k+2*D]+=C*Ve,J(I,2*k+2*D),I[2*k+2*D+1]+=P*Ve,J(I,2*k+2*D+1),I[2*k+2*D+1]+=C*Oe,J(I,2*k+2*D+1),I[2*k+2*D+2]+=P*Oe,J(I,2*k+2*D+2)}for(x=0;x<R;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=R;x<2*R;x++)I[x]=0;return new h(I,0)};function J(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function ie(x,R){this.g=x,this.h=R}function oe(x,R){if(U(R))throw Error("division by zero");if(U(x))return new ie(b,b);if(B(x))return R=oe(V(x),R),new ie(V(R.g),V(R.h));if(B(R))return R=oe(x,V(R)),new ie(V(R.g),R.h);if(x.g.length>30){if(B(x)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,k=R;k.l(x)<=0;)I=ce(I),k=ce(k);var D=ve(I,1),P=ve(k,1);for(k=ve(k,2),I=ve(I,2);!U(k);){var C=P.add(k);C.l(x)<=0&&(D=D.add(I),P=C),k=ve(k,1),I=ve(I,1)}return R=X(x,D.j(R)),new ie(D,R)}for(D=b;x.l(R)>=0;){for(I=Math.max(1,Math.floor(x.m()/R.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),P=y(I),C=P.j(R);B(C)||C.l(x)>0;)I-=k,P=y(I),C=P.j(R);U(P)&&(P=w),D=D.add(P),x=X(x,C)}return new ie(D,x)}i.B=function(x){return oe(this,x).h},i.and=function(x){const R=Math.max(this.g.length,x.g.length),I=[];for(let k=0;k<R;k++)I[k]=this.i(k)&x.i(k);return new h(I,this.h&x.h)},i.or=function(x){const R=Math.max(this.g.length,x.g.length),I=[];for(let k=0;k<R;k++)I[k]=this.i(k)|x.i(k);return new h(I,this.h|x.h)},i.xor=function(x){const R=Math.max(this.g.length,x.g.length),I=[];for(let k=0;k<R;k++)I[k]=this.i(k)^x.i(k);return new h(I,this.h^x.h)};function ce(x){const R=x.g.length+1,I=[];for(let k=0;k<R;k++)I[k]=x.i(k)<<1|x.i(k-1)>>>31;return new h(I,x.h)}function ve(x,R){const I=R>>5;R%=32;const k=x.g.length-I,D=[];for(let P=0;P<k;P++)D[P]=R>0?x.i(P+I)>>>R|x.i(P+I+1)<<32-R:x.i(P+I);return new h(D,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,KE=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,Ss=h}).apply(typeof Lv<"u"?Lv:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var QE,$l,XE,Ah,rp,WE,JE,ZE;(function(){var i,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var _=0;_<u.length;++_){var T=u[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function o(u,_){if(_)e:{var T=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var H=u[S];if(!(H in T))break e;T=T[H]}u=u[u.length-1],S=T[u],_=_(S),_!=S&&_!=null&&e(T,u,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(_){var T=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&T.push([S,_[S]]);return T}});var c=c||{},h=this||self;function p(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function g(u,_,T){return u.call.apply(u.bind,arguments)}function y(u,_,T){return y=g,y.apply(null,arguments)}function E(u,_){var T=Array.prototype.slice.call(arguments,1);return function(){var S=T.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function b(u,_){function T(){}T.prototype=_.prototype,u.Z=_.prototype,u.prototype=new T,u.prototype.constructor=u,u.Ob=function(S,H,Y){for(var re=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)re[Me-2]=arguments[Me];return _.prototype[H].apply(S,re)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function L(u){const _=u.length;if(_>0){const T=Array(_);for(let S=0;S<_;S++)T[S]=u[S];return T}return[]}function U(u,_){for(let S=1;S<arguments.length;S++){const H=arguments[S];var T=typeof H;if(T=T!="object"?T:H?Array.isArray(H)?"array":T:"null",T=="array"||T=="object"&&typeof H.length=="number"){T=u.length||0;const Y=H.length||0;u.length=T+Y;for(let re=0;re<Y;re++)u[T+re]=H[re]}else u.push(H)}}class B{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function V(u){h.setTimeout(()=>{throw u},0)}function X(){var u=x;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class J{constructor(){this.h=this.g=null}add(_,T){const S=ie.get();S.set(_,T),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new B(()=>new oe,u=>u.reset());class oe{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ve=!1,x=new J,R=()=>{const u=Promise.resolve(void 0);ce=()=>{u.then(I)}};function I(){for(var u;u=X();){try{u.h.call(u.g)}catch(T){V(T)}var _=ie;_.j(u),_.h<100&&(_.h++,u.next=_.g,_.g=u)}ve=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};h.addEventListener("test",T,_),h.removeEventListener("test",T,_)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function Oe(u,_){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,_)}b(Oe,D),Oe.prototype.init=function(u,_){const T=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget,_||(T=="mouseover"?_=u.fromElement:T=="mouseout"&&(_=u.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),K=0;function se(u,_,T,S,H){this.listener=u,this.proxy=null,this.src=_,this.type=T,this.capture=!!S,this.ha=H,this.key=++K,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Le(u,_,T){for(const S in u)_.call(T,u[S],S,u)}function je(u,_){for(const T in u)_.call(void 0,u[T],T,u)}function j(u){const _={};for(const T in u)_[T]=u[T];return _}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,_){let T,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(T in S)u[T]=S[T];for(let Y=0;Y<Q.length;Y++)T=Q[Y],Object.prototype.hasOwnProperty.call(S,T)&&(u[T]=S[T])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,_,T,S,H){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const re=Te(u,_,S,H);return re>-1?(_=u[re],T||(_.fa=!1)):(_=new se(_,this.src,Y,!!S,H),_.fa=T,u.push(_)),_};function Ae(u,_){const T=_.type;if(T in u.g){var S=u.g[T],H=Array.prototype.indexOf.call(S,_,void 0),Y;(Y=H>=0)&&Array.prototype.splice.call(S,H,1),Y&&(ge(_),u.g[T].length==0&&(delete u.g[T],u.h--))}}function Te(u,_,T,S){for(let H=0;H<u.length;++H){const Y=u[H];if(!Y.da&&Y.listener==_&&Y.capture==!!T&&Y.ha==S)return H}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),St={};function ut(u,_,T,S,H){if(Array.isArray(_)){for(let Y=0;Y<_.length;Y++)ut(u,_[Y],T,S,H);return null}return T=Re(T),u&&u[Ve]?u.J(_,T,p(S)?!!S.capture:!1,H):vi(u,_,T,!1,S,H)}function vi(u,_,T,S,H,Y){if(!_)throw Error("Invalid event type");const re=p(H)?!!H.capture:!!H;let Me=Ce(u);if(Me||(u[Be]=Me=new ue(u)),T=Me.add(_,T,S,re,Y),T.proxy)return T;if(S=Or(),T.proxy=S,S.src=u,S.listener=T,u.addEventListener)P||(H=re),H===void 0&&(H=!1),u.addEventListener(_.toString(),S,H);else if(u.attachEvent)u.attachEvent(kn(_.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Or(){function u(T){return _.call(u.src,u.listener,T)}const _=pe;return u}function jr(u,_,T,S,H){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)jr(u,_[Y],T,S,H);else S=p(S)?!!S.capture:!!S,T=Re(T),u&&u[Ve]?(u=u.i,Y=String(_).toString(),Y in u.g&&(_=u.g[Y],T=Te(_,T,S,H),T>-1&&(ge(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete u.g[Y],u.h--)))):u&&(u=Ce(u))&&(_=u.g[_.toString()],u=-1,_&&(u=Te(_,T,S,H)),(T=u>-1?_[u]:null)&&Mr(T))}function Mr(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[Ve])Ae(_.i,u);else{var T=u.type,S=u.proxy;_.removeEventListener?_.removeEventListener(T,S,u.capture):_.detachEvent?_.detachEvent(kn(T),S):_.addListener&&_.removeListener&&_.removeListener(S),(T=Ce(_))?(Ae(T,u),T.h==0&&(T.src=null,_[Be]=null)):ge(u)}}}function kn(u){return u in St?St[u]:St[u]="on"+u}function pe(u,_){if(u.da)u=!0;else{_=new Oe(_,this);const T=u.listener,S=u.ha||u.src;u.fa&&Mr(u),u=T.call(S,_)}return u}function Ce(u){return u=u[Be],u instanceof ue?u:null}var xe="__closure_events_fn_"+(Math.random()*1e9>>>0);function Re(u){return typeof u=="function"?u:(u[xe]||(u[xe]=function(_){return u.handleEvent(_)}),u[xe])}function fe(){k.call(this),this.i=new ue(this),this.M=this,this.G=null}b(fe,k),fe.prototype[Ve]=!0,fe.prototype.removeEventListener=function(u,_,T,S){jr(this,u,_,T,S)};function be(u,_){var T,S=u.G;if(S)for(T=[];S;S=S.G)T.push(S);if(u=u.M,S=_.type||_,typeof _=="string")_=new D(_,u);else if(_ instanceof D)_.target=_.target||u;else{var H=_;_=new D(S,u),ae(_,H)}H=!0;let Y,re;if(T)for(re=T.length-1;re>=0;re--)Y=_.g=T[re],H=He(Y,S,!0,_)&&H;if(Y=_.g=u,H=He(Y,S,!0,_)&&H,H=He(Y,S,!1,_)&&H,T)for(re=0;re<T.length;re++)Y=_.g=T[re],H=He(Y,S,!1,_)&&H}fe.prototype.N=function(){if(fe.Z.N.call(this),this.i){var u=this.i;for(const _ in u.g){const T=u.g[_];for(let S=0;S<T.length;S++)ge(T[S]);delete u.g[_],u.h--}}this.G=null},fe.prototype.J=function(u,_,T,S){return this.i.add(String(u),_,!1,T,S)},fe.prototype.K=function(u,_,T,S){return this.i.add(String(u),_,!0,T,S)};function He(u,_,T,S){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let Y=0;Y<_.length;++Y){const re=_[Y];if(re&&!re.da&&re.capture==T){const Me=re.listener,Rt=re.ha||re.src;re.fa&&Ae(u.i,re),H=Me.call(Rt,S)!==!1&&H}}return H&&!S.defaultPrevented}function Gt(u,_){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:h.setTimeout(u,_||0)}function hn(u){u.g=Gt(()=>{u.g=null,u.i&&(u.i=!1,hn(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class pt extends k{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:hn(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pn(u){k.call(this),this.h=u,this.g={}}b(Pn,k);var dn=[];function Zn(u){Le(u.g,function(_,T){this.g.hasOwnProperty(T)&&Mr(_)},u),u.g={}}Pn.prototype.N=function(){Pn.Z.N.call(this),Zn(this)},Pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kr=h.JSON.stringify,Ad=h.JSON.parse,Pc=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Vc(){}function Lc(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){D.call(this,"d")}b(Xt,D);function Vn(){D.call(this,"c")}b(Vn,D);var wt={},Uc=null;function Na(){return Uc=Uc||new fe}wt.Ia="serverreachability";function zc(u){D.call(this,wt.Ia,u)}b(zc,D);function Ei(u){const _=Na();be(_,new zc(_))}wt.STAT_EVENT="statevent";function Ps(u,_){D.call(this,wt.STAT_EVENT,u),this.stat=_}b(Ps,D);function Ot(u){const _=Na();be(_,new Ps(_,u))}wt.Ja="timingevent";function Ti(u,_){D.call(this,wt.Ja,u),this.size=_}b(Ti,D);function bi(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},_)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Sd(u,_,T,S,H,Y){u.info(function(){if(u.g)if(Y){var re="",Me=Y.split("&");for(let Ze=0;Ze<Me.length;Ze++){var Rt=Me[Ze].split("=");if(Rt.length>1){const gt=Rt[0];Rt=Rt[1];const Bn=gt.split("_");re=Bn.length>=2&&Bn[1]=="type"?re+(gt+"="+Rt+"&"):re+(gt+"=redacted&")}}}else re=null;else re=Y;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+_+`
`+T+`
`+re})}function Bc(u,_,T,S,H,Y,re){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+_+`
`+T+`
`+Y+" "+re})}function Ai(u,_,T,S){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+wd(u,T)+(S?" "+S:"")})}function Vs(u,_){u.info(function(){return"TIMEOUT: "+_})}ti.prototype.info=function(){};function wd(u,_){if(!u.g)return _;if(!_)return null;try{const Y=JSON.parse(_);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var T=Y[u];if(!(T.length<2)){var S=T[1];if(Array.isArray(S)&&!(S.length<1)){var H=S[0];if(H!="noop"&&H!="stop"&&H!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return kr(Y)}catch{return _}}var Ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ho;function Us(){}b(Us,Vc),Us.prototype.g=function(){return new XMLHttpRequest},Ho=new Us;function er(u){return encodeURIComponent(String(u))}function Hc(u){var _=1;u=u.split(":");const T=[];for(;_>0&&u.length;)T.push(u.shift()),_--;return u.length&&T.push(u.join(":")),T}function ni(u,_,T,S){this.j=u,this.i=_,this.l=T,this.S=S||1,this.V=new Pn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var jt={},Yt={};function Si(u,_,T){u.M=1,u.A=zs(kt(_)),u.u=T,u.R=!0,Da(u,null)}function Da(u,_){u.F=Date.now(),wi(u),u.B=kt(u.A);var T=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),ka(T.i,"t",S),u.C=0,T=u.j.L,u.h=new ii,u.g=iu(u.j,T?_:null,!u.u),u.P>0&&(u.O=new pt(y(u.Y,u,u.g),u.P)),_=u.V,T=u.g,S=u.ba;var H="readystatechange";Array.isArray(H)||(H&&(dn[0]=H.toString()),H=dn);for(let Y=0;Y<H.length;Y++){const re=ut(T,H[Y],S||_.handleEvent,!1,_.h||_);if(!re)break;_.g[re.key]=re}_=u.J?j(u.J):{},u.u?(u.v||(u.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,_)):(u.v="GET",u.g.ea(u.B,u.v,null,_)),Ei(),Sd(u.i,u.v,u.B,u.l,u.S,u.u)}ni.prototype.ba=function(u){u=u.target;const _=this.O;_&&ai(u)==3?_.j():this.Y(u)},ni.prototype.Y=function(u){try{if(u==this.g)e:{const Me=ai(this.g),Rt=this.g.ya(),Ze=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Me!=4||Rt==7||(Rt==8||Ze<=0?Ei(3):Ei(2)),Ri(this);var _=this.g.ca();this.X=_;var T=Rd(this);if(this.o=_==200,Bc(this.i,this.v,this.B,this.l,this.S,Me,_),this.o){if(this.U&&!this.L){t:{if(this.g){var S,H=this.g;if((S=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var Y=S;break t}}Y=null}if(u=Y)Ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,u);else{this.o=!1,this.m=3,Ot(12),Sn(this),Ln(this);break e}}if(this.R){u=!0;let gt;for(;!this.K&&this.C<T.length;)if(gt=Fc(this,T),gt==Yt){Me==4&&(this.m=4,Ot(14),u=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==jt){this.m=4,Ot(15),Ai(this.i,this.l,T,"[Invalid Chunk]"),u=!1;break}else Ai(this.i,this.l,gt,null),Ci(this,gt);if(qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||T.length!=0||this.h.h||(this.m=1,Ot(16),u=!1),this.o=this.o&&u,!u)Ai(this.i,this.l,T,"[Invalid Chunked Response]"),Sn(this),Ln(this);else if(T.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),il(re),re.P=!0,Ot(11))}}else Ai(this.i,this.l,T,null),Ci(this,T);Me==4&&Sn(this),this.o&&!this.K&&(Me==4?Zc(this.j,this):(this.o=!1,wi(this)))}else nr(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),Sn(this),Ln(this)}}}catch{}};function Rd(u){if(!qc(u))return u.g.la();const _=Wt(u.g);if(_==="")return"";let T="";const S=_.length,H=ai(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Ln(u),"";u.h.i=new h.TextDecoder}for(let Y=0;Y<S;Y++)u.h.h=!0,T+=u.h.i.decode(_[Y],{stream:!(H&&Y==S-1)});return _.length=0,u.h.g+=T,u.C=0,u.h.g}function qc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Fc(u,_){var T=u.C,S=_.indexOf(`
`,T);return S==-1?Yt:(T=Number(_.substring(T,S)),isNaN(T)?jt:(S+=1,S+T>_.length?Yt:(_=_.slice(S,S+T),u.C=S+T,_)))}ni.prototype.cancel=function(){this.K=!0,Sn(this)};function wi(u){u.T=Date.now()+u.H,Oa(u,u.H)}function Oa(u,_){if(u.D!=null)throw Error("WatchDog timer not null");u.D=bi(y(u.aa,u),_)}function Ri(u){u.D&&(h.clearTimeout(u.D),u.D=null)}ni.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Vs(this.i,this.B),this.M!=2&&(Ei(),Ot(17)),Sn(this),this.m=2,Ln(this)):Oa(this,this.T-u)};function Ln(u){u.j.I==0||u.K||Zc(u.j,u)}function Sn(u){Ri(u);var _=u.O;_&&typeof _.dispose=="function"&&_.dispose(),u.O=null,Zn(u.V),u.g&&(_=u.g,u.g=null,_.abort(),_.dispose())}function Ci(u,_){try{var T=u.j;if(T.I!=0&&(T.g==u||Ii(T.h,u))){if(!u.L&&Ii(T.h,u)&&T.I==3){try{var S=T.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<u.F)za(T),qr(T);else break e;$s(T),Ot(18)}}else T.xa=H[1],0<T.xa-T.K&&H[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=bi(y(T.Va,T),6e3));xi(T.h)<=1&&T.ta&&(T.ta=void 0)}else ki(T,11)}else if((u.L||T.g==u)&&za(T),!C(_))for(H=T.Ba.g.parse(_),_=0;_<H.length;_++){let Ze=H[_];const gt=Ze[0];if(!(gt<=T.K))if(T.K=gt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const Bn=Ze[3];Bn!=null&&(T.ka=Bn,T.j.info("VER="+T.ka));const Pi=Ze[4];Pi!=null&&(T.za=Pi,T.j.info("SVER="+T.za));const oi=Ze[5];oi!=null&&typeof oi=="number"&&oi>0&&(S=1.5*oi,T.O=S,T.j.info("backChannelRequestTimeoutMs_="+S)),S=T;const li=u.g;if(li){const Ks=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ks){var Y=S.h;Y.g||Ks.indexOf("spdy")==-1&&Ks.indexOf("quic")==-1&&Ks.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Go(Y,Y.h),Y.h=null))}if(S.G){const Ba=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(S.wa=Ba,nt(S.J,S.G,Ba))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-u.F,T.j.info("Handshake RTT: "+T.T+"ms")),S=T;var re=u;if(S.na=nu(S,S.L?S.ba:null,S.W),re.L){Yo(S.h,re);var Me=re,Rt=S.O;Rt&&(Me.H=Rt),Me.D&&(Ri(Me),wi(Me)),S.g=re}else Wc(S);T.i.length>0&&Mi(T)}else Ze[0]!="stop"&&Ze[0]!="close"||ki(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?ki(T,7):tl(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}Ei(4)}catch{}}var Mt=class{constructor(u,_){this.g=u,this.map=_}};function qo(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function xi(u){return u.h?1:u.g?u.g.size:0}function Ii(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function Go(u,_){u.g?u.g.add(_):u.h=_}function Yo(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}qo.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $o(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const T of u.g.values())_=_.concat(T.G);return _}return L(u.i)}var Gc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ja(u,_){if(u){u=u.split("&");for(let T=0;T<u.length;T++){const S=u[T].indexOf("=");let H,Y=null;S>=0?(H=u[T].substring(0,S),Y=u[T].substring(S+1)):H=u[T],_(H,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function wn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;u instanceof wn?(this.l=u.l,$t(this,u.j),this.o=u.o,this.g=u.g,Pr(this,u.u),this.h=u.h,Ko(this,Qc(u.i)),this.m=u.m):u&&(_=String(u).match(Gc))?(this.l=!1,$t(this,_[1]||"",!0),this.o=Ni(_[2]||""),this.g=Ni(_[3]||"",!0),Pr(this,_[4]),this.h=Ni(_[5]||"",!0),Ko(this,_[6]||"",!0),this.m=Ni(_[7]||"")):(this.l=!1,this.i=new Lr(null,this.l))}wn.prototype.toString=function(){const u=[];var _=this.j;_&&u.push(Bs(_,Ma,!0),":");var T=this.g;return(T||_=="file")&&(u.push("//"),(_=this.o)&&u.push(Bs(_,Ma,!0),"@"),u.push(er(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&u.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(Bs(T,T.charAt(0)=="/"?Qo:Yc,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",Bs(T,$c)),u.join("")},wn.prototype.resolve=function(u){const _=kt(this);let T=!!u.j;T?$t(_,u.j):T=!!u.o,T?_.o=u.o:T=!!u.g,T?_.g=u.g:T=u.u!=null;var S=u.h;if(T)Pr(_,u.u);else if(T=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var H=_.h.lastIndexOf("/");H!=-1&&(S=_.h.slice(0,H+1)+S)}if(H=S,H==".."||H==".")S="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){S=H.lastIndexOf("/",0)==0,H=H.split("/");const Y=[];for(let re=0;re<H.length;){const Me=H[re++];Me=="."?S&&re==H.length&&Y.push(""):Me==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),S&&re==H.length&&Y.push("")):(Y.push(Me),S=!0)}S=Y.join("/")}else S=H}return T?_.h=S:T=u.i.toString()!=="",T?Ko(_,Qc(u.i)):T=!!u.m,T&&(_.m=u.m),_};function kt(u){return new wn(u)}function $t(u,_,T){u.j=T?Ni(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function Pr(u,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);u.u=_}else u.u=null}function Ko(u,_,T){_ instanceof Lr?(u.i=_,Pa(u.i,u.l)):(T||(_=Bs(_,Vr)),u.i=new Lr(_,u.l))}function nt(u,_,T){u.i.set(_,T)}function zs(u){return nt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ni(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Bs(u,_,T){return typeof u=="string"?(u=encodeURI(u).replace(_,gn),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ma=/[#\/\?@]/g,Yc=/[#\?:]/g,Qo=/[#\?]/g,Vr=/[#\?@]/g,$c=/#/g;function Lr(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&ja(u.i,function(_,T){u.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}i=Lr.prototype,i.add=function(u,_){yn(this),this.i=null,u=Ur(this,u);let T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(_),this.h+=1,this};function Kc(u,_){yn(u),_=Ur(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function Xo(u,_){return yn(u),_=Ur(u,_),u.g.has(_)}i.forEach=function(u,_){yn(this),this.g.forEach(function(T,S){T.forEach(function(H){u.call(_,H,S,this)},this)},this)};function Wo(u,_){yn(u);let T=[];if(typeof _=="string")Xo(u,_)&&(T=T.concat(u.g.get(Ur(u,_))));else for(u=Array.from(u.g.values()),_=0;_<u.length;_++)T=T.concat(u[_]);return T}i.set=function(u,_){return yn(this),this.i=null,u=Ur(this,u),Xo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},i.get=function(u,_){return u?(u=Wo(this,u),u.length>0?String(u[0]):_):_};function ka(u,_,T){Kc(u,_),T.length>0&&(u.i=null,u.g.set(Ur(u,_),L(T)),u.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var T=_[S];const H=er(T);T=Wo(this,T);for(let Y=0;Y<T.length;Y++){let re=H;T[Y]!==""&&(re+="="+er(T[Y])),u.push(re)}}return this.i=u.join("&")};function Qc(u){const _=new Lr;return _.i=u.i,u.g&&(_.g=new Map(u.g),_.h=u.h),_}function Ur(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function Pa(u,_){_&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(T,S){const H=S.toLowerCase();S!=H&&(Kc(this,S),ka(this,H,T))},u)),u.j=_}function ri(u,_){const T=new ti;if(h.Image){const S=new Image;S.onload=E(Un,T,"TestLoadImage: loaded",!0,_,S),S.onerror=E(Un,T,"TestLoadImage: error",!1,_,S),S.onabort=E(Un,T,"TestLoadImage: abort",!1,_,S),S.ontimeout=E(Un,T,"TestLoadImage: timeout",!1,_,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else _(!1)}function Jo(u,_){const T=new ti,S=new AbortController,H=setTimeout(()=>{S.abort(),Un(T,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:S.signal}).then(Y=>{clearTimeout(H),Y.ok?Un(T,"TestPingServer: ok",!0,_):Un(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),Un(T,"TestPingServer: error",!1,_)})}function Un(u,_,T,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(T)}catch{}}function zr(){this.g=new Pc}function Di(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Di,Vc),Di.prototype.g=function(){return new Hs(this.i,this.h)};function Hs(u,_){fe.call(this),this.H=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Hs,fe),i=Hs.prototype,i.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=_,this.readyState=1,si(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(_.body=u),(this.H||h).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Va(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Va(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?Br(this):si(this),this.readyState==3&&Va(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Br(this))},i.Na=function(u){this.g&&(this.response=u,Br(this))},i.ga=function(){this.g&&Br(this)};function Br(u){u.readyState=4,u.l=null,u.j=null,u.B=null,si(u)}i.setRequestHeader=function(u,_){this.A.append(u,_)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=_.next();return u.join(`\r
`)};function si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zn(u){let _="";return Le(u,function(T,S){_+=S,_+=":",_+=T,_+=`\r
`}),_}function qs(u,_,T){e:{for(S in T){var S=!1;break e}S=!0}S||(T=zn(T),typeof u=="string"?T!=null&&er(T):nt(u,_,T))}function st(u){fe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(st,fe);var Oi=/^https?$/i,Zo=["POST","PUT"];i=st.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,_,T,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ho.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch(Y){Fs(this,Y);return}if(u=T||"",T=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)T.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())T.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(T.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(Zo,_,void 0)>=0)||S||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,re]of T)this.g.setRequestHeader(Y,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){Fs(this,Y)}};function Fs(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.o=5,el(u),tr(u)}function el(u){u.A||(u.A=!0,be(u,"complete"),be(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,be(this,"complete"),be(this,"abort"),tr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tr(this,!0)),st.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Gs(this):this.Xa())},i.Xa=function(){Gs(this)};function Gs(u){if(u.h&&typeof c<"u"){if(u.v&&ai(u)==4)setTimeout(u.Ca.bind(u),0);else if(be(u,"readystatechange"),ai(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var S;if(S=Y===0){let re=String(u.D).match(Gc)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),S=!Oi.test(re?re.toLowerCase():"")}T=S}if(T)be(u,"complete"),be(u,"success");else{u.o=6;try{var H=ai(u)>2?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.ca()+"]",el(u)}}finally{tr(u)}}}}function tr(u,_){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const T=u.g;u.g=null,_||be(u,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ai(u){return u.g?u.g.readyState:0}i.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),Ad(_)}};function Wt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function nr(u){const _={};u=(u.g&&ai(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var T=Hc(u[S]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Y=_[H]||[];_[H]=Y,Y.push(T)}je(_,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(u,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||_}function Hr(u){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,u),this.Za=ji("retryDelaySeedMs",1e4,u),this.Ta=ji("forwardChannelMaxRetries",2,u),this.va=ji("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new qo(u&&u.concurrentRequestLimit),this.Ba=new zr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Hr.prototype,i.ka=8,i.I=1,i.connect=function(u,_,T,S){Ot(0),this.W=u,this.H=_||{},T&&S!==void 0&&(this.H.OSID=T,this.H.OAID=S),this.F=this.X,this.J=nu(this,null,this.W),Mi(this)};function tl(u){if(La(u),u.I==3){var _=u.V++,T=kt(u.J);if(nt(T,"SID",u.M),nt(T,"RID",_),nt(T,"TYPE","terminate"),Ys(u,T),_=new ni(u,u.j,_),_.M=2,_.A=zs(kt(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&h.Image&&(new Image().src=_.A,T=!0),T||(_.g=iu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),wi(_)}tu(u)}function qr(u){u.g&&(il(u),u.g.cancel(),u.g=null)}function La(u){qr(u),u.v&&(h.clearTimeout(u.v),u.v=null),za(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Mi(u){if(!Fo(u.h)&&!u.m){u.m=!0;var _=u.Ea;ce||R(),ve||(ce(),ve=!0),x.add(_,u),u.D=0}}function Ua(u,_){return xi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=_.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=bi(y(u.Ea,u,_),eu(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const H=new ni(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=j(Y),ae(Y,this.U)):Y=this.U),this.u!==null||this.R||(H.J=Y,Y=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var S=this.i[T];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Xc(this,H,_),T=kt(this.J),nt(T,"RID",u),nt(T,"CVER",22),this.G&&nt(T,"X-HTTP-Session-Id",this.G),Ys(this,T),Y&&(this.R?_="headers="+er(zn(Y))+"&"+_:this.u&&qs(T,this.u,Y)),Go(this.h,H),this.Ra&&nt(T,"TYPE","init"),this.S?(nt(T,"$req",_),nt(T,"SID","null"),H.U=!0,Si(H,T,null)):Si(H,T,_),this.I=2}}else this.I==3&&(u?nl(this,u):this.i.length==0||Fo(this.h)||nl(this))};function nl(u,_){var T;_?T=_.l:T=u.V++;const S=kt(u.J);nt(S,"SID",u.M),nt(S,"RID",T),nt(S,"AID",u.K),Ys(u,S),u.u&&u.o&&qs(S,u.u,u.o),T=new ni(u,u.j,T,u.D+1),u.u===null&&(T.J=u.o),_&&(u.i=_.G.concat(u.i)),_=Xc(u,T,1e3),T.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Go(u.h,T),Si(T,S,_)}function Ys(u,_){u.H&&Le(u.H,function(T,S){nt(_,S,T)}),u.l&&Le({},function(T,S){nt(_,S,T)})}function Xc(u,_,T){T=Math.min(u.i.length,T);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var H=u.i;let Me=-1;for(;;){const Rt=["count="+T];Me==-1?T>0?(Me=H[0].g,Rt.push("ofs="+Me)):Me=0:Rt.push("ofs="+Me);let Ze=!0;for(let gt=0;gt<T;gt++){var Y=H[gt].g;const Bn=H[gt].map;if(Y-=Me,Y<0)Me=Math.max(0,H[gt].g-100),Ze=!1;else try{Y="req"+Y+"_"||"";try{var re=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Pi,oi]of re){let li=oi;p(oi)&&(li=kr(oi)),Rt.push(Y+Pi+"="+encodeURIComponent(li))}}catch(Pi){throw Rt.push(Y+"type="+encodeURIComponent("_badmap")),Pi}}catch{S&&S(Bn)}}if(Ze){re=Rt.join("&");break e}}re=void 0}return u=u.i.splice(0,T),_.G=u,re}function Wc(u){if(!u.g&&!u.v){u.Y=1;var _=u.Da;ce||R(),ve||(ce(),ve=!0),x.add(_,u),u.A=0}}function $s(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=bi(y(u.Da,u),eu(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Jc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=bi(y(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),qr(this),Jc(this))};function il(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function Jc(u){u.g=new ni(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var _=kt(u.na);nt(_,"RID","rpc"),nt(_,"SID",u.M),nt(_,"AID",u.K),nt(_,"CI",u.F?"0":"1"),!u.F&&u.ia&&nt(_,"TO",u.ia),nt(_,"TYPE","xmlhttp"),Ys(u,_),u.u&&u.o&&qs(_,u.u,u.o),u.O&&(u.g.H=u.O);var T=u.g;u=u.ba,T.M=1,T.A=zs(kt(_)),T.u=null,T.R=!0,Da(T,u)}i.Va=function(){this.C!=null&&(this.C=null,qr(this),$s(this),Ot(19))};function za(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Zc(u,_){var T=null;if(u.g==_){za(u),il(u),u.g=null;var S=2}else if(Ii(u.h,_))T=_.G,Yo(u.h,_),S=1;else return;if(u.I!=0){if(_.o)if(S==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var H=u.D;S=Na(),be(S,new Ti(S,T)),Mi(u)}else Wc(u);else if(H=_.m,H==3||H==0&&_.X>0||!(S==1&&Ua(u,_)||S==2&&$s(u)))switch(T&&T.length>0&&(_=u.h,_.i=_.i.concat(T)),H){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function eu(u,_){let T=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(T*=2),T*_}function ki(u,_){if(u.j.info("Error code "+_),_==2){var T=y(u.bb,u),S=u.Ua;const H=!S;S=new wn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||$t(S,"https"),zs(S),H?ri(S.toString(),T):Jo(S.toString(),T)}else Ot(2);u.I=0,u.l&&u.l.pa(_),tu(u),La(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function tu(u){if(u.I=0,u.ja=[],u.l){const _=$o(u.h);(_.length!=0||u.i.length!=0)&&(U(u.ja,_),U(u.ja,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.oa()}}function nu(u,_,T){var S=T instanceof wn?kt(T):new wn(T);if(S.g!="")_&&(S.g=_+"."+S.g),Pr(S,S.u);else{var H=h.location;S=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const Y=new wn(null);S&&$t(Y,S),_&&(Y.g=_),H&&Pr(Y,H),T&&(Y.h=T),S=Y}return T=u.G,_=u.wa,T&&_&&nt(S,T,_),nt(S,"VER",u.ka),Ys(u,S),S}function iu(u,_,T){if(_&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Aa&&!u.ma?new st(new Di({ab:T})):new st(u.ma),_.Fa(u.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ru(){}i=ru.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Fr(){}Fr.prototype.g=function(u,_){return new fn(u,_)};function fn(u,_){fe.call(this),this.g=new Hr(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(u?u["X-WebChannel-Client-Profile"]=_.sa:u={"X-WebChannel-Client-Profile":_.sa}),this.g.U=u,(u=_&&_.Qb)&&!C(u)&&(this.g.u=u),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new ir(this)}b(fn,fe),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){tl(this.g)},fn.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.v&&(T={},T.__data__=kr(u),u=T);_.i.push(new Mt(_.Ya++,u)),_.I==3&&Mi(_)},fn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,fn.Z.N.call(this)};function su(u){Xt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const T in _){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}b(su,Xt);function au(){Vn.call(this),this.status=1}b(au,Vn);function ir(u){this.g=u}b(ir,ru),ir.prototype.ra=function(){be(this.g,"a")},ir.prototype.qa=function(u){be(this.g,new su(u))},ir.prototype.pa=function(u){be(this.g,new au)},ir.prototype.oa=function(){be(this.g,"b")},Fr.prototype.createWebChannel=Fr.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,ZE=function(){return new Fr},JE=function(){return Na()},WE=wt,rp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ls.NO_ERROR=0,Ls.TIMEOUT=8,Ls.HTTP_ERROR=6,Ah=Ls,Bo.COMPLETE="complete",XE=Bo,Lc.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",fe.prototype.listen=fe.prototype.J,$l=Lc,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,QE=st}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let ko="12.9.0";function x3(i){ko=i}const ya=new Vp("@firebase/firestore");function vo(){return ya.logLevel}function he(i,...e){if(ya.logLevel<=Ge.DEBUG){const n=e.map(zp);ya.debug(`Firestore (${ko}): ${i}`,...n)}}function wr(i,...e){if(ya.logLevel<=Ge.ERROR){const n=e.map(zp);ya.error(`Firestore (${ko}): ${i}`,...n)}}function _a(i,...e){if(ya.logLevel<=Ge.WARN){const n=e.map(zp);ya.warn(`Firestore (${ko}): ${i}`,...n)}}function zp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function we(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,e2(i,s,n)}function e2(i,e,n){let s=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw wr(s),new Error(s)}function tt(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||e2(e,o,s)}function De(i,e){return i}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class t2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class N3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class D3{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Tr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Tr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tt(typeof s.accessToken=="string",31837,{l:s}),new t2(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class O3{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class j3{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new O3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Uv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const s=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Uv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Uv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function k3(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Bp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=k3(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Ye(i,e){return i<e?-1:i>e?1:0}function sp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return zm(o)===zm(c)?Ye(o,c):zm(o)?1:-1}return Ye(i.length,e.length)}const P3=55296,V3=57343;function zm(i){const e=i.charCodeAt(0);return e>=P3&&e<=V3}function Io(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const zv="__name__";class Bi{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Bi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ye(e.length,n.length)}static compareSegments(e,n){const s=Bi.isNumericId(e),o=Bi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Bi.extractNumericId(e).compare(Bi.extractNumericId(n)):sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class ht extends Bi{construct(e,n,s){return new ht(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const L3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Bi{construct(e,n,s){return new rn(e,n,s)}static isValidIdentifier(e){return L3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zv}static keyField(){return new rn([zv])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new le(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(c(),o++)}if(c(),h)throw new le(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ht.fromString(e))}static fromName(e){return new _e(ht.fromString(e).popFirst(5))}static empty(){return new _e(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ht(e.slice()))}}function n2(i,e,n){if(!n)throw new le(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function U3(i,e,n,s){if(e===!0&&s===!0)throw new le(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Bv(i){if(!_e.isDocumentKey(i))throw new le(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Hv(i){if(_e.isDocumentKey(i))throw new le(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function i2(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function rd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we(12329,{type:typeof i})}function mi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rd(i);throw new le(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ht(i,e){const n={typeString:i};return e&&(n.value=e),n}function wc(i,e){if(!i2(i))throw new le(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new le(ee.INVALID_ARGUMENT,n);return!0}const qv=-62135596800,Fv=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Fv);return new mt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qv)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fv}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wc(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Ht("string",mt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new mt(0,0))}static max(){return new Ie(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cc=-1;function z3(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new mt(n+1,0):new mt(n,s));return new Cs(o,_e.empty(),e)}function B3(i){return new Cs(i.readTime,i.key,cc)}class Cs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Cs(Ie.min(),_e.empty(),cc)}static max(){return new Cs(Ie.max(),_e.empty(),cc)}}function H3(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(i.documentKey,e.documentKey),n!==0?n:Ye(i.largestBatchId,e.largestBatchId))}const q3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Po(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==q3)throw i;he("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,c=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++c,h&&c===o&&n()}),(g=>s(g)))})),h=!0,c===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((E=>{h[y]=E,++p,p===c&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function G3(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vo(i){return i.name==="IndexedDbTransactionError"}class sd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sd.ce=-1;const Hp=-1;function ad(i){return i==null}function Ph(i){return i===0&&1/i==-1/0}function Y3(i){return typeof i=="number"&&Number.isInteger(i)&&!Ph(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const r2="";function $3(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Gv(e)),e=K3(i.get(n),e);return Gv(e)}function K3(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case r2:n+="";break;default:n+=c}}return n}function Gv(i){return i+r2+""}function Yv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ra(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function s2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class vt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??nn.RED,this.left=o??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new nn(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $v(this.data.getIterator())}getIteratorFrom(e){return new $v(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class $v{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new di([])}unionWith(e){let n=new Ft(rn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class a2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new a2("Invalid base64 string: "+c):c}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const Q3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(i){if(tt(!!i,39018),typeof i=="string"){let e=0;const n=Q3.exec(i);if(tt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:It(i.seconds),nanos:It(i.nanos)}}function It(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Is(i){return typeof i=="string"?sn.fromBase64String(i):sn.fromUint8Array(i)}const o2="server_timestamp",l2="__type__",c2="__previous_value__",u2="__local_write_time__";function qp(i){return(i?.mapValue?.fields||{})[l2]?.stringValue===o2}function od(i){const e=i.mapValue.fields[c2];return qp(e)?od(e):e}function uc(i){const e=xs(i.mapValue.fields[u2].timestampValue);return new mt(e.seconds,e.nanos)}class X3{constructor(e,n,s,o,c,h,p,g,y,E,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=b}}const Vh="(default)";class hc{constructor(e,n){this.projectId=e,this.database=n||Vh}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}function W3(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new le(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(i.options.projectId,e)}const h2="__type__",J3="__max__",mh={mapValue:{}},d2="__vector__",Lh="value";function Ns(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?qp(i)?4:e6(i)?9007199254740991:Z3(i)?10:11:we(28295,{value:i})}function Ji(i,e){if(i===e)return!0;const n=Ns(i);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return uc(i).isEqual(uc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=xs(o.timestampValue),p=xs(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return Is(o.bytesValue).isEqual(Is(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return It(o.geoPointValue.latitude)===It(c.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return It(o.integerValue)===It(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=It(o.doubleValue),p=It(c.doubleValue);return h===p?Ph(h)===Ph(p):isNaN(h)&&isNaN(p)}return!1})(i,e);case 9:return Io(i.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Yv(h)!==Yv(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Ji(h[g],p[g])))return!1;return!0})(i,e);default:return we(52216,{left:i})}}function dc(i,e){return(i.values||[]).find((n=>Ji(n,e)))!==void 0}function No(i,e){if(i===e)return 0;const n=Ns(i),s=Ns(e);if(n!==s)return Ye(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(i.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=It(c.integerValue||c.doubleValue),g=It(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return Kv(i.timestampValue,e.timestampValue);case 4:return Kv(uc(i),uc(e));case 5:return sp(i.stringValue,e.stringValue);case 6:return(function(c,h){const p=Is(c),g=Is(h);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=Ye(p[y],g[y]);if(E!==0)return E}return Ye(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=Ye(It(c.latitude),It(h.latitude));return p!==0?p:Ye(It(c.longitude),It(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Qv(i.arrayValue,e.arrayValue);case 10:return(function(c,h){const p=c.fields||{},g=h.fields||{},y=p[Lh]?.arrayValue,E=g[Lh]?.arrayValue,b=Ye(y?.values?.length||0,E?.values?.length||0);return b!==0?b:Qv(y,E)})(i.mapValue,e.mapValue);case 11:return(function(c,h){if(c===mh.mapValue&&h===mh.mapValue)return 0;if(c===mh.mapValue)return 1;if(h===mh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const w=sp(g[b],E[b]);if(w!==0)return w;const L=No(p[g[b]],y[E[b]]);if(L!==0)return L}return Ye(g.length,E.length)})(i.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function Kv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ye(i,e);const n=xs(i),s=xs(e),o=Ye(n.seconds,s.seconds);return o!==0?o:Ye(n.nanos,s.nanos)}function Qv(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=No(n[o],s[o]);if(c)return c}return Ye(n.length,s.length)}function Do(i){return ap(i)}function ap(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=xs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Is(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return _e.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=ap(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${ap(n.fields[h])}`;return o+"}"})(i.mapValue):we(61005,{value:i})}function Sh(i){switch(Ns(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=od(i);return e?16+Sh(e):16;case 5:return 2*i.stringValue.length;case 6:return Is(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Sh(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ra(s.fields,((c,h)=>{o+=c.length+Sh(h)})),o})(i.mapValue);default:throw we(13486,{value:i})}}function Xv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function op(i){return!!i&&"integerValue"in i}function Fp(i){return!!i&&"arrayValue"in i}function Wv(i){return!!i&&"nullValue"in i}function Jv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wh(i){return!!i&&"mapValue"in i}function Z3(i){return(i?.mapValue?.fields||{})[h2]?.stringValue===d2}function ec(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ra(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ec(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ec(i.arrayValue.values[n]);return e}return{...i}}function e6(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===J3}class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(n)}setAll(e){let n=rn.emptyPath(),s={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}h?s[p.lastSegment()]=ec(h):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];wh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ra(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new Xn(ec(this.value))}}function f2(i){const e=[];return Ra(i.fields,((n,s)=>{const o=new rn([n]);if(wh(s)){const c=f2(s.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new di(e)}class cn{constructor(e,n,s,o,c,h,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new cn(e,0,Ie.min(),Ie.min(),Ie.min(),Xn.empty(),0)}static newFoundDocument(e,n,s,o){return new cn(e,1,n,Ie.min(),s,o,0)}static newNoDocument(e,n){return new cn(e,2,n,Ie.min(),Ie.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Ie.min(),Ie.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uh{constructor(e,n){this.position=e,this.inclusive=n}}function Zv(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],h=i.position[o];if(c.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),n.key):s=No(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function e0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ji(i.position[n],e.position[n]))return!1;return!0}class fc{constructor(e,n="asc"){this.field=e,this.dir=n}}function t6(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class m2{}class Bt extends m2{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new i6(e,n,s):n==="array-contains"?new a6(e,s):n==="in"?new o6(e,s):n==="not-in"?new l6(e,s):n==="array-contains-any"?new c6(e,s):new Bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new r6(e,s):new s6(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(No(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends m2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yi(e,n)}matches(e){return p2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function p2(i){return i.op==="and"}function g2(i){return n6(i)&&p2(i)}function n6(i){for(const e of i.filters)if(e instanceof yi)return!1;return!0}function lp(i){if(i instanceof Bt)return i.field.canonicalString()+i.op.toString()+Do(i.value);if(g2(i))return i.filters.map((e=>lp(e))).join(",");{const e=i.filters.map((n=>lp(n))).join(",");return`${i.op}(${e})`}}function y2(i,e){return i instanceof Bt?(function(s,o){return o instanceof Bt&&s.op===o.op&&s.field.isEqual(o.field)&&Ji(s.value,o.value)})(i,e):i instanceof yi?(function(s,o){return o instanceof yi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,h,p)=>c&&y2(h,o.filters[p])),!0):!1})(i,e):void we(19439)}function _2(i){return i instanceof Bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`})(i):i instanceof yi?(function(n){return n.op.toString()+" {"+n.getFilters().map(_2).join(" ,")+"}"})(i):"Filter"}class i6 extends Bt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class r6 extends Bt{constructor(e,n){super(e,"in",n),this.keys=v2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class s6 extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=v2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function v2(i,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class a6 extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fp(n)&&dc(n.arrayValue,this.value)}}class o6 extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dc(this.value.arrayValue,n)}}class l6 extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dc(this.value.arrayValue,n)}}class c6 extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>dc(this.value.arrayValue,s)))}}class u6{constructor(e,n=null,s=[],o=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function t0(i,e=null,n=[],s=[],o=null,c=null,h=null){return new u6(i,e,n,s,o,c,h)}function Gp(i){const e=De(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>lp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Do(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Do(s))).join(",")),e.Te=n}return e.Te}function Yp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!t6(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!y2(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!e0(i.startAt,e.startAt)&&e0(i.endAt,e.endAt)}function cp(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Lo{constructor(e,n=null,s=[],o=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function h6(i,e,n,s,o,c,h,p){return new Lo(i,e,n,s,o,c,h,p)}function ld(i){return new Lo(i)}function n0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function d6(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function E2(i){return i.collectionGroup!==null}function tc(i){const e=De(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Ft(rn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new fc(c,s))})),n.has(rn.keyField().canonicalString())||e.Ie.push(new fc(rn.keyField(),s))}return e.Ie}function Yi(i){const e=De(i);return e.Ee||(e.Ee=f6(e,tc(i))),e.Ee}function f6(i,e){if(i.limitType==="F")return t0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new fc(o.field,c)}));const n=i.endAt?new Uh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Uh(i.startAt.position,i.startAt.inclusive):null;return t0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function up(i,e){const n=i.filters.concat([e]);return new Lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function m6(i,e){const n=i.explicitOrderBy.concat([e]);return new Lo(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function hp(i,e,n){return new Lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function cd(i,e){return Yp(Yi(i),Yi(e))&&i.limitType===e.limitType}function T2(i){return`${Gp(Yi(i))}|lt:${i.limitType}`}function Eo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>_2(o))).join(", ")}]`),ad(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Do(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Do(o))).join(",")),`Target(${s})`})(Yi(i))}; limitType=${i.limitType})`}function ud(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):_e.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of tc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,p,g){const y=Zv(h,p,g);return h.inclusive?y<=0:y<0})(s.startAt,tc(s),o)||s.endAt&&!(function(h,p,g){const y=Zv(h,p,g);return h.inclusive?y>=0:y>0})(s.endAt,tc(s),o))})(i,e)}function p6(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function b2(i){return(e,n)=>{let s=!1;for(const o of tc(i)){const c=g6(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function g6(i,e,n){const s=i.field.isKeyField()?_e.comparator(e.key,n.key):(function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?No(g,y):we(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:i.dir})}}class Ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return s2(this.inner)}size(){return this.innerSize}}const y6=new vt(_e.comparator);function Rr(){return y6}const A2=new vt(_e.comparator);function Kl(...i){let e=A2;for(const n of i)e=e.insert(n.key,n);return e}function S2(i){let e=A2;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ha(){return nc()}function w2(){return nc()}function nc(){return new Ca((i=>i.toString()),((i,e)=>i.isEqual(e)))}const _6=new vt(_e.comparator),v6=new Ft(_e.comparator);function $e(...i){let e=v6;for(const n of i)e=e.add(n);return e}const E6=new Ft(Ye);function T6(){return E6}function $p(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function R2(i){return{integerValue:""+i}}function b6(i,e){return Y3(e)?R2(e):$p(i,e)}class hd{constructor(){this._=void 0}}function A6(i,e,n){return i instanceof mc?(function(o,c){const h={fields:{[l2]:{stringValue:o2},[u2]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&qp(c)&&(c=od(c)),c&&(h.fields[c2]=c),{mapValue:h}})(n,e):i instanceof pc?x2(i,e):i instanceof gc?I2(i,e):(function(o,c){const h=C2(o,c),p=i0(h)+i0(o.Ae);return op(h)&&op(o.Ae)?R2(p):$p(o.serializer,p)})(i,e)}function S6(i,e,n){return i instanceof pc?x2(i,e):i instanceof gc?I2(i,e):n}function C2(i,e){return i instanceof zh?(function(s){return op(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class mc extends hd{}class pc extends hd{constructor(e){super(),this.elements=e}}function x2(i,e){const n=N2(e);for(const s of i.elements)n.some((o=>Ji(o,s)))||n.push(s);return{arrayValue:{values:n}}}class gc extends hd{constructor(e){super(),this.elements=e}}function I2(i,e){let n=N2(e);for(const s of i.elements)n=n.filter((o=>!Ji(o,s)));return{arrayValue:{values:n}}}class zh extends hd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function i0(i){return It(i.integerValue||i.doubleValue)}function N2(i){return Fp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class w6{constructor(e,n){this.field=e,this.transform=n}}function R6(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof pc&&o instanceof pc||s instanceof gc&&o instanceof gc?Io(s.elements,o.elements,Ji):s instanceof zh&&o instanceof zh?Ji(s.Ae,o.Ae):s instanceof mc&&o instanceof mc})(i.transform,e.transform)}class C6{constructor(e,n){this.version=e,this.transformResults=n}}class $i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class dd{}function D2(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new j2(i.key,$i.none()):new Rc(i.key,i.data,$i.none());{const n=i.data,s=Xn.empty();let o=new Ft(rn.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new xa(i.key,s,new di(o.toArray()),$i.none())}}function x6(i,e,n){i instanceof Rc?(function(o,c,h){const p=o.value.clone(),g=s0(o.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):i instanceof xa?(function(o,c,h){if(!Rh(o.precondition,c))return void c.convertToUnknownDocument(h.version);const p=s0(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(O2(o)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function ic(i,e,n,s){return i instanceof Rc?(function(c,h,p,g){if(!Rh(c.precondition,h))return p;const y=c.value.clone(),E=a0(c.fieldTransforms,g,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,e,n,s):i instanceof xa?(function(c,h,p,g){if(!Rh(c.precondition,h))return p;const y=a0(c.fieldTransforms,g,h),E=h.data;return E.setAll(O2(c)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(c,h,p){return Rh(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(i,e,n)}function I6(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=C2(s.transform,o||null);c!=null&&(n===null&&(n=Xn.empty()),n.set(s.field,c))}return n||null}function r0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,((c,h)=>R6(c,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Rc extends dd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xa extends dd{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function O2(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function s0(i,e,n){const s=new Map;tt(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const c=i[o],h=c.transform,p=e.data.field(c.field);s.set(c.field,S6(h,p,n[o]))}return s}function a0(i,e,n){const s=new Map;for(const o of i){const c=o.transform,h=n.data.field(o.field);s.set(o.field,A6(c,h,e))}return s}class j2 extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N6 extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class D6{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&x6(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ic(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ic(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=w2();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=n.has(o.key)?null:p;const g=D2(h,p);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ie.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,((n,s)=>r0(n,s)))&&Io(this.baseMutations,e.baseMutations,((n,s)=>r0(n,s)))}}class Kp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){tt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return _6})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new Kp(e,n,s,o)}}class O6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class j6{constructor(e,n){this.count=e,this.unchangedNames=n}}var zt,Qe;function M6(i){switch(i){case ee.OK:return we(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return we(15467,{code:i})}}function M2(i){if(i===void 0)return wr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case zt.OK:return ee.OK;case zt.CANCELLED:return ee.CANCELLED;case zt.UNKNOWN:return ee.UNKNOWN;case zt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case zt.INTERNAL:return ee.INTERNAL;case zt.UNAVAILABLE:return ee.UNAVAILABLE;case zt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case zt.NOT_FOUND:return ee.NOT_FOUND;case zt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case zt.ABORTED:return ee.ABORTED;case zt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case zt.DATA_LOSS:return ee.DATA_LOSS;default:return we(39323,{code:i})}}(Qe=zt||(zt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function k6(){return new TextEncoder}const P6=new Ss([4294967295,4294967295],0);function o0(i){const e=k6().encode(i),n=new KE;return n.update(e),new Uint8Array(n.digest())}function l0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ss([n,s],0),new Ss([o,c],0)]}class Qp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ss.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Ss.fromNumber(s)));return o.compare(P6)===1&&(o=new Ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=o0(e),[s,o]=l0(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Qp(c,o,n);return s.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=o0(e),[s,o]=l0(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fd{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new fd(Ie.min(),o,new vt(Ye),Rr(),$e())}}class Cc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Cc(s,n,$e(),$e(),$e())}}class Ch{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class k2{constructor(e,n){this.targetId=e,this.Ce=n}}class P2{constructor(e,n,s=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class c0{constructor(){this.ve=0,this.Fe=u0(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),s=$e();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:c})}})),new Cc(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=u0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class V6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rr(),this.He=ph(),this.Je=ph(),this.Ze=new vt(Ye)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(cp(c))if(s===0){const h=new _e(c.path);this.et(n,h,cn.newNoDocument(h,Ie.min()))}else tt(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let h,p;try{h=Is(s).toUint8Array()}catch(g){if(g instanceof a2)return _a("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Qp(h,o,c)}catch(g){return _a(g instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&cp(p.target)){const g=new _e(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,cn.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.Ke())}}));let s=$e();this.Je.forEach(((c,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new fd(e,n,this.Ze,this.je,s);return this.je=Rr(),this.He=ph(),this.Je=ph(),this.Ze=new vt(Ye),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new c0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ft(Ye),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ft(Ye),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new c0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ph(){return new vt(_e.comparator)}function u0(){return new vt(_e.comparator)}const L6={asc:"ASCENDING",desc:"DESCENDING"},U6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z6={and:"AND",or:"OR"};class B6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dp(i,e){return i.useProto3Json||ad(e)?e:{value:e}}function Bh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V2(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function H6(i,e){return Bh(i,e.toTimestamp())}function Ki(i){return tt(!!i,49232),Ie.fromTimestamp((function(n){const s=xs(n);return new mt(s.seconds,s.nanos)})(i))}function Xp(i,e){return fp(i,e).canonicalString()}function fp(i,e){const n=(function(o){return new ht(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function L2(i){const e=ht.fromString(i);return tt(q2(e),10190,{key:e.toString()}),e}function mp(i,e){return Xp(i.databaseId,e.path)}function Bm(i,e){const n=L2(e);if(n.get(1)!==i.databaseId.projectId)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _e(z2(n))}function U2(i,e){return Xp(i.databaseId,e)}function q6(i){const e=L2(i);return e.length===4?ht.emptyPath():z2(e)}function pp(i){return new ht(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function z2(i){return tt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function h0(i,e,n){return{name:mp(i,e),fields:n.value.mapValue.fields}}function F6(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(tt(E===void 0||typeof E=="string",58123),sn.fromBase64String(E||"")):(tt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),sn.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const E=y.code===void 0?ee.UNKNOWN:M2(y.code);return new le(E,y.message||"")})(h);n=new P2(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Bm(i,s.document.name),c=Ki(s.document.updateTime),h=s.document.createTime?Ki(s.document.createTime):Ie.min(),p=new Xn({mapValue:{fields:s.document.fields}}),g=cn.newFoundDocument(o,c,h,p),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Ch(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Bm(i,s.document),c=s.readTime?Ki(s.readTime):Ie.min(),h=cn.newNoDocument(o,c),p=s.removedTargetIds||[];n=new Ch([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Bm(i,s.document),c=s.removedTargetIds||[];n=new Ch([],c,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new j6(o,c),p=s.targetId;n=new k2(p,h)}}return n}function G6(i,e){let n;if(e instanceof Rc)n={update:h0(i,e.key,e.value)};else if(e instanceof j2)n={delete:mp(i,e.key)};else if(e instanceof xa)n={update:h0(i,e.key,e.data),updateMask:eC(e.fieldMask)};else{if(!(e instanceof N6))return we(16599,{dt:e.type});n={verify:mp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const p=h.transform;if(p instanceof mc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof pc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof gc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof zh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw we(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:H6(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we(27497)})(i,e.precondition)),n}function Y6(i,e){return i&&i.length>0?(tt(e!==void 0,14353),i.map((n=>(function(o,c){let h=o.updateTime?Ki(o.updateTime):Ki(c);return h.isEqual(Ie.min())&&(h=Ki(c)),new C6(h,o.transformResults||[])})(n,e)))):[]}function $6(i,e){return{documents:[U2(i,e.path)]}}function K6(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=U2(i,o);const c=(function(y){if(y.length!==0)return H2(yi.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:To(w.field),direction:W6(w.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=dp(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function Q6(i){let e=q6(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){tt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(b){const w=B2(b);return w instanceof yi&&g2(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((w=>(function(U){return new fc(bo(U.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(w)))})(n.orderBy));let p=null;n.limit&&(p=(function(b){let w;return w=typeof b=="object"?b.value:b,ad(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(b){const w=!!b.before,L=b.values||[];return new Uh(L,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const w=!b.before,L=b.values||[];return new Uh(L,w)})(n.endAt)),h6(e,o,h,c,p,"F",g,y)}function X6(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function B2(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=bo(n.unaryFilter.field);return Bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=bo(n.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=bo(n.unaryFilter.field);return Bt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=bo(n.unaryFilter.field);return Bt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Bt.create(bo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return yi.create(n.compositeFilter.filters.map((s=>B2(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(i):we(30097,{filter:i})}function W6(i){return L6[i]}function J6(i){return U6[i]}function Z6(i){return z6[i]}function To(i){return{fieldPath:i.canonicalString()}}function bo(i){return rn.fromServerFormat(i.fieldPath)}function H2(i){return i instanceof Bt?(function(n){if(n.op==="=="){if(Jv(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(Wv(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jv(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(Wv(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:J6(n.op),value:n.value}}})(i):i instanceof yi?(function(n){const s=n.getFilters().map((o=>H2(o)));return s.length===1?s[0]:{compositeFilter:{op:Z6(n.op),filters:s}}})(i):we(54877,{filter:i})}function eC(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function q2(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function F2(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class vs{constructor(e,n,s,o,c=Ie.min(),h=Ie.min(),p=sn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tC{constructor(e){this.yt=e}}function nC(i){const e=Q6({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?hp(e,e.limit,"L"):e}class iC{constructor(){this.Sn=new rC}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Cs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class rC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ft(ht.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ft(ht.comparator)).toArray()}}const d0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G2=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(G2,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class Oo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Oo(0)}static ar(){return new Oo(-1)}}const f0="LruGarbageCollector",sC=1048576;function m0([i,e],[n,s]){const o=Ye(i,n);return o===0?Ye(e,s):o}class aC{constructor(e){this.Pr=e,this.buffer=new Ft(m0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();m0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(f0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vo(n)?he(f0,"Ignoring IndexedDB error during garbage collection: ",n):await Po(n)}await this.Ar(3e5)}))}}class lC{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(sd.ce);const s=new aC(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(d0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,c,h,p,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,p=Date.now(),this.removeTargets(e,s,n)))).next((b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(y=Date.now(),vo()<=Ge.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function cC(i,e){return new lC(i,e)}class uC{constructor(){this.changes=new Ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class dC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&ic(s.mutation,o,di.empty(),mt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,$e()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=$e()){const o=ha();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let h=Kl();return c.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ha();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,$e())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,s,o){let c=Rr();const h=nc(),p=(function(){return nc()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof xa)?c=c.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),ic(E.mutation,y,E.mutation.getFieldMask(),mt.now())):h.set(y.key,di.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,E)=>h.set(y,E))),n.forEach(((y,E)=>p.set(y,new hC(E,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=nc();let o=new vt(((h,p)=>h-p)),c=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||di.empty();E=p.applyToLocalView(y,E),s.set(g,E);const b=(o.get(p.batchId)||$e()).add(g);o=o.insert(p.batchId,b)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,b=w2();E.forEach((w=>{if(!c.has(w)){const L=D2(n.get(w),s.get(w));L!==null&&b.set(w,L),c=c.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,b))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return d6(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):E2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ne.resolve(ha());let p=cc,g=c;return h.next((y=>ne.forEach(y,((E,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,$e()))).next((E=>({batchId:p,changes:S2(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let h=Kl();return this.indexManager.getCollectionParents(e,c).next((p=>ne.forEach(p,(g=>{const y=(function(b,w){return new Lo(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((b,w)=>{h=h.insert(b,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((h=>{c.forEach(((g,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,cn.newInvalidDocument(E)))}));let p=Kl();return h.forEach(((g,y)=>{const E=c.get(g);E!==void 0&&ic(E.mutation,y,di.empty(),mt.now()),ud(n,y)&&(p=p.insert(g,y))})),p}))}}class fC{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ki(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:nC(o.bundledQuery),readTime:Ki(o.readTime)}})(n)),ne.resolve()}}class mC{constructor(){this.overlays=new vt(_e.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ha();return ne.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.bt(e,n,c)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=ha(),c=n.length+1,h=new _e(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new vt(((y,E)=>y-E));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=ha(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=ha(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return ne.resolve(p)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new O6(n,s));let c=this.Lr.get(n);c===void 0&&(c=$e(),this.Lr.set(n,c)),this.Lr.set(n,c.add(s.key))}}class pC{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Wp{constructor(){this.kr=new Ft(Qt.Kr),this.qr=new Ft(Qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Qt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Qt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new _e(new ht([])),s=new Qt(n,e),o=new Qt(n,e+1),c=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new _e(new ht([])),s=new Qt(n,e),o=new Qt(n,e+1);let c=$e();return this.qr.forEachInRange([s,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new Qt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Qt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return _e.comparator(e.key,n.key)||Ye(e.Hr,n.Hr)}static Ur(e,n){return Ye(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}class gC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ft(Qt.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new D6(c,n,s,o);this.mutationQueue.push(h);for(const p of o)this.Jr=this.Jr.add(new Qt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),c=o<0?0:o;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Hp:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Qt(n,0),o=new Qt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(h=>{const p=this.Zr(h.Hr);c.push(p)})),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ft(Ye);return n.forEach((o=>{const c=new Qt(o,0),h=new Qt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(p=>{s=s.add(p.Hr)}))})),ne.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;_e.isDocumentKey(c)||(c=c.child(""));const h=new Qt(new _e(c),0);let p=new Ft(Ye);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),h),ne.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ne.forEach(n.mutations,(o=>{const c=new Qt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Qt(n,0),o=this.Jr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class yC{constructor(e){this.ti=e,this.docs=(function(){return new vt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let s=Rr();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():cn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=Rr();const h=n.path,p=new _e(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||H3(B3(E),s)<=0||(o.has(E.key)||ud(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,n,s,o){we(9500)}ni(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new _C(this)}getSize(e){return ne.resolve(this.size)}}class _C extends uC{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class vC{constructor(e){this.persistence=e,this.ri=new Ca((n=>Gp(n)),Yp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ii=0,this.si=new Wp,this.targetCount=0,this.oi=Oo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Oo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.ri.forEach(((h,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ne.waitFor(c).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}class Y2{constructor(e,n){this._i={},this.overlays={},this.ai=new sd(0),this.ui=!1,this.ui=!0,this.ci=new pC,this.referenceDelegate=e(this),this.li=new vC(this),this.indexManager=new iC,this.remoteDocumentCache=(function(o){return new yC(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new tC(n),this.Pi=new fC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new gC(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new EC(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return ne.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class EC extends F3{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.Ri=new Wp,this.Ai=null}static Vi(e){return new Jp(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(s=>{const o=_e.fromPath(s);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Ie.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Hh{constructor(e,n){this.persistence=e,this.fi=new Ca((s=>$3(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=cC(this,n)}static Vi(e,n){return new Hh(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((p=>{p||(s++,c.removeEntry(h,Ie.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sh(e.data.value)),n}wr(e,n,s){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Zp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=$e(),o=$e();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Zp(e,n.fromCache,s,o)}}class TC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return lR()?8:G3(un())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.gs(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,n,o,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new TC;return this.ys(e,n,h).next((p=>{if(c.result=p,this.As)return this.ws(e,n,h,p.size)}))})).next((()=>c.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(vo()<=Ge.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(vo()<=Ge.DEBUG&&he("QueryEngine","Query:",Eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(vo()<=Ge.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):ne.resolve())}gs(e,n){if(n0(n))return ne.resolve(null);let s=Yi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=hp(n,null,"F"),s=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=$e(...c);return this.fs.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,h,g.readTime)?this.gs(e,hp(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,s,o){return n0(n)||o.isEqual(Ie.min())?ne.resolve(null):this.fs.getDocuments(e,s).next((c=>{const h=this.bs(n,c);return this.Ss(n,h,s,o)?ne.resolve(null):(vo()<=Ge.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(n)),this.Ds(e,h,n,z3(o,cc)).next((p=>p)))}))}bs(e,n){let s=new Ft(b2(e));return n.forEach(((o,c)=>{ud(e,c)&&(s=s.add(c))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,s){return vo()<=Ge.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.fs.getDocumentsMatchingQuery(e,n,Cs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const eg="LocalStore",AC=3e8;class SC{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new vt(Ye),this.Fs=new Ca((c=>Gp(c)),Yp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function wC(i,e,n,s){return new SC(i,e,n,s)}async function $2(i,e){const n=De(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],p=[];let g=$e();for(const y of o){h.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function RC(i,e){const n=De(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,E){const b=y.batch,w=b.keys();let L=ne.resolve();return w.forEach((U=>{L=L.next((()=>E.getEntry(g,U))).next((B=>{const V=y.docVersions.get(U);tt(V!==null,48541),B.version.compareTo(V)<0&&(b.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),E.addEntry(B)))}))})),L.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=$e();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function K2(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function CC(i,e){const n=De(i),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((E,b)=>{const w=o.get(b);if(!w)return;p.push(n.li.removeMatchingKeys(c,E.removedDocuments,b).next((()=>n.li.addMatchingKeys(c,E.addedDocuments,b))));let L=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?L=L.withResumeToken(sn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(b,L),(function(B,V,X){return B.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=AC?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(w,L,E)&&p.push(n.li.updateTargetData(c,L))}));let g=Rr(),y=$e();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(xC(c,h,e.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!s.isEqual(Ie.min())){const E=n.li.getLastRemoteSnapshotVersion(c).next((b=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(E)}return ne.waitFor(p).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function xC(i,e,n){let s=$e(),o=$e();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let h=Rr();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ie.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):he(eg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function IC(i,e){const n=De(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Hp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function NC(i,e){const n=De(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((c=>c?(o=c,ne.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new vs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function gp(i,e,n){const s=De(i),o=s.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Vo(h))throw h;he(eg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function p0(i,e,n){const s=De(i);let o=Ie.min(),c=$e();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,E){const b=De(g),w=b.Fs.get(E);return w!==void 0?ne.resolve(b.vs.get(w)):b.li.getTargetData(y,E)})(s,h,Yi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,p.targetId).next((g=>{c=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Ie.min(),n?c:$e()))).next((p=>(DC(s,p6(e),p),{documents:p,ks:c})))))}function DC(i,e,n){let s=i.Ms.get(e)||Ie.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Ms.set(e,s)}class g0{constructor(){this.activeTargetIds=T6()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OC{constructor(){this.vo=new g0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new g0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jC{Mo(e){}shutdown(){}}const y0="ConnectivityMonitor";class _0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(y0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(y0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let gh=null;function yp(){return gh===null?gh=(function(){return 268435456+Math.round(2147483648*Math.random())})():gh++,"0x"+gh.toString(16)}const Hm="RestConnection",MC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kC{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,c){const h=yp(),p=this.Qo(e,n.toUriEncodedString());he(Hm,`Sending RPC '${e}' ${h}:`,p,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(p),E=js(y);return this.zo(e,p,g,s,E).then((b=>(he(Hm,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw _a(Hm,`RPC '${e}' ${h} failed with error: `,b,"url: ",p,"request:",s),b}))}jo(e,n,s,o,c,h){return this.Wo(e,n,s,o,c)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const s=MC[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class PC{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const on="WebChannelConnection",ql=(i,e,n)=>{i.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class So extends kC{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!So.c_){const e=JE();ql(e,WE.STAT_EVENT,(n=>{n.stat===rp.PROXY?he(on,"STAT_EVENT: detected buffering proxy"):n.stat===rp.NOPROXY&&he(on,"STAT_EVENT: detected no buffering proxy")})),So.c_=!0}}zo(e,n,s,o,c){const h=yp();return new Promise(((p,g)=>{const y=new QE;y.setWithCredentials(!0),y.listenOnce(XE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ah.NO_ERROR:const b=y.getResponseJson();he(on,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),p(b);break;case Ah.TIMEOUT:he(on,`RPC '${e}' ${h} timed out`),g(new le(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const w=y.getStatus();if(he(on,`RPC '${e}' ${h} failed with status:`,w,"response text:",y.getResponseText()),w>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const U=L?.error;if(U&&U.status&&U.message){const B=(function(X){const J=X.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(J)>=0?J:ee.UNKNOWN})(U.status);g(new le(B,U.message))}else g(new le(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new le(ee.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(on,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);he(on,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=yp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=c.join("");he(on,`Creating RPC '${e}' stream ${o}: ${y}`,p);const E=h.createWebChannel(y,p);this.I_(E);let b=!1,w=!1;const L=new PC({Ho:U=>{w?he(on,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(b||(he(on,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),he(on,`RPC '${e}' stream ${o} sending:`,U),E.send(U))},Jo:()=>E.close()});return ql(E,$l.EventType.OPEN,(()=>{w||(he(on,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),ql(E,$l.EventType.CLOSE,(()=>{w||(w=!0,he(on,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(E))})),ql(E,$l.EventType.ERROR,(U=>{w||(w=!0,_a(on,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),L.o_(new le(ee.UNAVAILABLE,"The operation could not be completed")))})),ql(E,$l.EventType.MESSAGE,(U=>{if(!w){const B=U.data[0];tt(!!B,16349);const V=B,X=V?.error||V[0]?.error;if(X){he(on,`RPC '${e}' stream ${o} received error:`,X);const J=X.status;let ie=(function(ve){const x=zt[ve];if(x!==void 0)return M2(x)})(J),oe=X.message;J==="NOT_FOUND"&&oe.includes("database")&&oe.includes("does not exist")&&oe.includes(this.databaseId.database)&&_a(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ie===void 0&&(ie=ee.INTERNAL,oe="Unknown error status: "+J+" with message "+X.message),w=!0,L.o_(new le(ie,oe)),E.close()}else he(on,`RPC '${e}' stream ${o} received:`,B),L.__(B)}})),So.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ZE()}}function VC(i){return new So(i)}function qm(){return typeof document<"u"?document:null}function md(i){return new B6(i,!0)}So.c_=!1;class Q2{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const v0="PersistentStream";class X2{constructor(e,n,s,o,c,h,p,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Q2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(wr(n.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(v0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(he(v0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LC extends X2{constructor(e,n,s,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=F6(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ie.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?Ki(h.readTime):Ie.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=pp(this.serializer),n.addTarget=(function(c,h){let p;const g=h.target;if(p=cp(g)?{documents:$6(c,g)}:{query:K6(c,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=V2(c,h.resumeToken);const y=dp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ie.min())>0){p.readTime=Bh(c,h.snapshotVersion.toTimestamp());const y=dp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=X6(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=pp(this.serializer),n.removeTarget=e,this.K_(n)}}class UC extends X2{constructor(e,n,s,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Y6(e.writeResults,e.commitTime),s=Ki(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=pp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>G6(this.serializer,s)))};this.K_(n)}}class zC{}class BC extends zC{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,fp(n,s),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(ee.UNKNOWN,c.toString())}))}jo(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.jo(e,fp(n,s),o,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function HC(i,e,n,s){return new BC(i,e,n,s)}class qC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const va="RemoteStore";class FC{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Ia(this)&&(he(va,"Restarting streams for network reachability change."),await(async function(g){const y=De(g);y.Ea.add(4),await xc(y),y.Va.set("Unknown"),y.Ea.delete(4),await pd(y)})(this))}))})),this.Va=new qC(s,o)}}async function pd(i){if(Ia(i))for(const e of i.Ra)await e(!0)}async function xc(i){for(const e of i.Ra)await e(!1)}function W2(i,e){const n=De(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rg(n)?ig(n):Uo(n).O_()&&ng(n,e))}function tg(i,e){const n=De(i),s=Uo(n);n.Ia.delete(e),s.O_()&&J2(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ia(n)&&n.Va.set("Unknown"))}function ng(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(i).Z_(e)}function J2(i,e){i.da.$e(e),Uo(i).X_(e)}function ig(i){i.da=new V6({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Uo(i).start(),i.Va.ua()}function rg(i){return Ia(i)&&!Uo(i).x_()&&i.Ia.size>0}function Ia(i){return De(i).Ea.size===0}function Z2(i){i.da=void 0}async function GC(i){i.Va.set("Online")}async function YC(i){i.Ia.forEach(((e,n)=>{ng(i,e)}))}async function $C(i,e){Z2(i),rg(i)?(i.Va.ha(e),ig(i)):i.Va.set("Unknown")}async function KC(i,e,n){if(i.Va.set("Online"),e instanceof P2&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.da.removeTarget(p))})(i,e)}catch(s){he(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await qh(i,s)}else if(e instanceof Ch?i.da.Xe(e):e instanceof k2?i.da.st(e):i.da.tt(e),!n.isEqual(Ie.min()))try{const s=await K2(i.localStore);n.compareTo(s)>=0&&await(function(c,h){const p=c.da.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken(sn.EMPTY_BYTE_STRING,E.snapshotVersion)),J2(c,g);const b=new vs(E.target,g,y,E.sequenceNumber);ng(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(s){he(va,"Failed to raise snapshot:",s),await qh(i,s)}}async function qh(i,e,n){if(!Vo(e))throw e;i.Ea.add(1),await xc(i),i.Va.set("Offline"),n||(n=()=>K2(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{he(va,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await pd(i)}))}function eT(i,e){return e().catch((n=>qh(i,n,e)))}async function gd(i){const e=De(i),n=Ds(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hp;for(;QC(e);)try{const o=await IC(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,XC(e,o)}catch(o){await qh(e,o)}tT(e)&&nT(e)}function QC(i){return Ia(i)&&i.Ta.length<10}function XC(i,e){i.Ta.push(e);const n=Ds(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function tT(i){return Ia(i)&&!Ds(i).x_()&&i.Ta.length>0}function nT(i){Ds(i).start()}async function WC(i){Ds(i).ra()}async function JC(i){const e=Ds(i);for(const n of i.Ta)e.ea(n.mutations)}async function ZC(i,e,n){const s=i.Ta.shift(),o=Kp.from(s,e,n);await eT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await gd(i)}async function ex(i,e){e&&Ds(i).Y_&&await(async function(s,o){if((function(h){return M6(h)&&h!==ee.ABORTED})(o.code)){const c=s.Ta.shift();Ds(s).B_(),await eT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await gd(s)}})(i,e),tT(i)&&nT(i)}async function E0(i,e){const n=De(i);n.asyncQueue.verifyOperationInProgress(),he(va,"RemoteStore received new credentials");const s=Ia(n);n.Ea.add(3),await xc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pd(n)}async function tx(i,e){const n=De(i);e?(n.Ea.delete(2),await pd(n)):e||(n.Ea.add(2),await xc(n),n.Va.set("Unknown"))}function Uo(i){return i.ma||(i.ma=(function(n,s,o){const c=De(n);return c.sa(),new LC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:GC.bind(null,i),Yo:YC.bind(null,i),t_:$C.bind(null,i),J_:KC.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),rg(i)?ig(i):i.Va.set("Unknown")):(await i.ma.stop(),Z2(i))}))),i.ma}function Ds(i){return i.fa||(i.fa=(function(n,s,o){const c=De(n);return c.sa(),new UC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:WC.bind(null,i),t_:ex.bind(null,i),ta:JC.bind(null,i),na:ZC.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await gd(i)):(await i.fa.stop(),i.Ta.length>0&&(he(va,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class sg{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const h=Date.now()+s,p=new sg(e,n,h,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(i,e){if(wr("AsyncQueue",`${e}: ${i}`),Vo(i))return new le(ee.UNAVAILABLE,`${e}: ${i}`);throw i}class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Kl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class T0{constructor(){this.ga=new vt(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class jo{constructor(e,n,s,o,c,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new jo(e,n,wo.emptySet(n),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class nx{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class ix{constructor(){this.queries=b0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=De(n),c=o.queries;o.queries=b0(),c.forEach(((h,p)=>{for(const g of p.ba)g.onError(s)}))})(this,new le(ee.ABORTED,"Firestore shutting down"))}}function b0(){return new Ca((i=>T2(i)),cd)}async function og(i,e){const n=De(i);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new nx,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=ag(h,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&cg(n)}async function lg(i,e){const n=De(i),s=e.query;let o=3;const c=n.queries.get(s);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function rx(i,e){const n=De(i);let s=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const p of h.ba)p.Fa(o)&&(s=!0);h.wa=o}}s&&cg(n)}function sx(i,e,n){const s=De(i),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(n);s.queries.delete(e)}function cg(i){i.Ca.forEach((e=>{e.next()}))}var _p,A0;(A0=_p||(_p={})).Ma="default",A0.Cache="cache";class ug{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_p.Cache}}class iT{constructor(e){this.key=e}}class rT{constructor(e){this.key=e}}class ax{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=$e(),this.mutatedKeys=$e(),this.eu=b2(e),this.tu=new wo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new T0,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const w=o.get(E),L=ud(this.query,b)?b:null,U=!!w&&this.mutatedKeys.has(w.key),B=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let V=!1;w&&L?w.data.isEqual(L.data)?U!==B&&(s.track({type:3,doc:L}),V=!0):this.su(w,L)||(s.track({type:2,doc:L}),V=!0,(g&&this.eu(L,g)>0||y&&this.eu(L,y)<0)&&(p=!0)):!w&&L?(s.track({type:0,doc:L}),V=!0):w&&!L&&(s.track({type:1,doc:w}),V=!0,(g||y)&&(p=!0)),V&&(L?(h=h.add(L),c=B?c.add(E):c.delete(E)):(h=h.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Ss:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,b)=>(function(L,U){const B=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:V})}};return B(L)-B(U)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,h.length!==0||y?{snapshot:new jo(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=$e(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new rT(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new iT(s))})),n}cu(e){this.Za=e.ks,this.Ya=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const hg="SyncEngine";class ox{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class lx{constructor(e){this.key=e,this.hu=!1}}class cx{constructor(e,n,s,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ca((p=>T2(p)),cd),this.Iu=new Map,this.Eu=new Set,this.Ru=new vt(_e.comparator),this.Au=new Map,this.Vu=new Wp,this.du={},this.mu=new Map,this.fu=Oo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ux(i,e,n=!0){const s=uT(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await sT(s,e,n,!0),o}async function hx(i,e){const n=uT(i);await sT(n,e,!0,!1)}async function sT(i,e,n,s){const o=await NC(i.localStore,Yi(e)),c=o.targetId,h=i.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await dx(i,e,c,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&W2(i.remoteStore,o),p}async function dx(i,e,n,s,o){i.pu=(b,w,L)=>(async function(B,V,X,J){let ie=V.view.ru(X);ie.Ss&&(ie=await p0(B.localStore,V.query,!1).then((({documents:x})=>V.view.ru(x,ie))));const oe=J&&J.targetChanges.get(V.targetId),ce=J&&J.targetMismatches.get(V.targetId)!=null,ve=V.view.applyChanges(ie,B.isPrimaryClient,oe,ce);return w0(B,V.targetId,ve.au),ve.snapshot})(i,b,w,L);const c=await p0(i.localStore,e,!0),h=new ax(e,c.ks),p=h.ru(c.documents),g=Cc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=h.applyChanges(p,i.isPrimaryClient,g);w0(i,n,y.au);const E=new ox(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function fx(i,e,n){const s=De(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((h=>!cd(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&tg(s.remoteStore,o.targetId),vp(s,o.targetId)})).catch(Po)):(vp(s,o.targetId),await gp(s.localStore,o.targetId,!0))}async function mx(i,e){const n=De(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),tg(n.remoteStore,s.targetId))}async function px(i,e,n){const s=bx(i);try{const o=await(function(h,p){const g=De(h),y=mt.now(),E=p.reduce(((L,U)=>L.add(U.key)),$e());let b,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let U=Rr(),B=$e();return g.xs.getEntries(L,E).next((V=>{U=V,U.forEach(((X,J)=>{J.isValidDocument()||(B=B.add(X))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,U))).next((V=>{b=V;const X=[];for(const J of p){const ie=I6(J,b.get(J.key).overlayedDocument);ie!=null&&X.push(new xa(J.key,ie,f2(ie.value.mapValue),$i.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,X,p)})).next((V=>{w=V;const X=V.applyToLocalDocumentSet(b,B);return g.documentOverlayCache.saveOverlays(L,V.batchId,X)}))})).then((()=>({batchId:w.batchId,changes:S2(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.du[h.currentUser.toKey()];y||(y=new vt(Ye)),y=y.insert(p,g),h.du[h.currentUser.toKey()]=y})(s,o.batchId,n),await Ic(s,o.changes),await gd(s.remoteStore)}catch(o){const c=ag(o,"Failed to persist write");n.reject(c)}}async function aT(i,e){const n=De(i);try{const s=await CC(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?tt(h.hu,14607):o.removedDocuments.size>0&&(tt(h.hu,42227),h.hu=!1))})),await Ic(n,s,e)}catch(s){await Po(s)}}function S0(i,e,n){const s=De(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=De(h);g.onlineState=p;let y=!1;g.queries.forEach(((E,b)=>{for(const w of b.ba)w.va(p)&&(y=!0)})),y&&cg(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gx(i,e,n){const s=De(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let h=new vt(_e.comparator);h=h.insert(c,cn.newNoDocument(c,Ie.min()));const p=$e().add(c),g=new fd(Ie.min(),new Map,new vt(Ye),h,p);await aT(s,g),s.Ru=s.Ru.remove(c),s.Au.delete(e),dg(s)}else await gp(s.localStore,e,!1).then((()=>vp(s,e,n))).catch(Po)}async function yx(i,e){const n=De(i),s=e.batch.batchId;try{const o=await RC(n.localStore,e);lT(n,s,null),oT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ic(n,o)}catch(o){await Po(o)}}async function _x(i,e,n){const s=De(i);try{const o=await(function(h,p){const g=De(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next((b=>(tt(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);lT(s,e,n),oT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ic(s,o)}catch(o){await Po(o)}}function oT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function lT(i,e,n){const s=De(i);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function vp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||cT(i,s)}))}function cT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(tg(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),dg(i))}function w0(i,e,n){for(const s of n)s instanceof iT?(i.Vu.addReference(s.key,e),vx(i,s)):s instanceof rT?(he(hg,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||cT(i,s.key)):we(19791,{wu:s})}function vx(i,e){const n=e.key,s=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(s)||(he(hg,"New document in limbo: "+n),i.Eu.add(s),dg(i))}function dg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new _e(ht.fromString(e)),s=i.fu.next();i.Au.set(s,new lx(n)),i.Ru=i.Ru.insert(n,s),W2(i.remoteStore,new vs(Yi(ld(n.path)),s,"TargetPurposeLimboResolution",sd.ce))}}async function Ic(i,e,n){const s=De(i),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{h.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Zp.Es(g.targetId,y);c.push(E)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(g,y){const E=De(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(y,(w=>ne.forEach(w.Ts,(L=>E.persistence.referenceDelegate.addReference(b,w.targetId,L))).next((()=>ne.forEach(w.Is,(L=>E.persistence.referenceDelegate.removeReference(b,w.targetId,L)))))))))}catch(b){if(!Vo(b))throw b;he(eg,"Failed to update sequence numbers: "+b)}for(const b of y){const w=b.targetId;if(!b.fromCache){const L=E.vs.get(w),U=L.snapshotVersion,B=L.withLastLimboFreeSnapshotVersion(U);E.vs=E.vs.insert(w,B)}}})(s.localStore,c))}async function Ex(i,e){const n=De(i);if(!n.currentUser.isEqual(e)){he(hg,"User change. New user:",e.toKey());const s=await $2(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new le(ee.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ic(n,s.Ns)}}function Tx(i,e){const n=De(i),s=n.Au.get(e);if(s&&s.hu)return $e().add(s.key);{let o=$e();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function uT(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=aT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gx.bind(null,e),e.Pu.J_=rx.bind(null,e.eventManager),e.Pu.yu=sx.bind(null,e.eventManager),e}function bx(i){const e=De(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_x.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=md(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wC(this.persistence,new bC,e.initialUser,this.serializer)}Cu(e){return new Y2(Jp.Vi,this.serializer)}Du(e){return new OC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class Ax extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof Hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new oC(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new Y2((s=>Hh.Vi(s,n)),this.serializer)}}class Ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>S0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ex.bind(null,this.syncEngine),await tx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ix})()}createDatastore(e){const n=md(e.databaseInfo.databaseId),s=VC(e.databaseInfo);return HC(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,h,p){return new FC(s,o,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>S0(this.syncEngine,n,0)),(function(){return _0.v()?new _0:new jC})())}createSyncEngine(e,n){return(function(o,c,h,p,g,y,E){const b=new cx(o,c,h,p,g,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=De(n);he(va,"RemoteStore shutting down."),s.Ea.add(5),await xc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ep.provider={build:()=>new Ep};class fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Os="FirestoreClient";class Sx{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=Bp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{he(Os,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(he(Os,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ag(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Fm(i,e){i.asyncQueue.verifyOperationInProgress(),he(Os,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await $2(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function R0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await wx(i);he(Os,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>E0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>E0(e.remoteStore,o))),i._onlineComponents=e}async function wx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(Os,"Using user provided OfflineComponentProvider");try{await Fm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_a("Error using user provided cache. Falling back to memory cache: "+n),await Fm(i,new Fh)}}else he(Os,"Using default OfflineComponentProvider"),await Fm(i,new Ax(void 0));return i._offlineComponents}async function hT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(Os,"Using user provided OnlineComponentProvider"),await R0(i,i._uninitializedComponentsProvider._online)):(he(Os,"Using default OnlineComponentProvider"),await R0(i,new Ep))),i._onlineComponents}function Rx(i){return hT(i).then((e=>e.syncEngine))}async function Gh(i){const e=await hT(i),n=e.eventManager;return n.onListen=ux.bind(null,e.syncEngine),n.onUnlisten=fx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mx.bind(null,e.syncEngine),n}function Cx(i,e,n,s){const o=new fg(s),c=new ug(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>og(await Gh(i),c))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>lg(await Gh(i),c)))}}function xx(i,e,n={}){const s=new Tr;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const E=new fg({next:w=>{E.Nu(),h.enqueueAndForget((()=>lg(c,b)));const L=w.docs.has(p);!L&&w.fromCache?y.reject(new le(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&w.fromCache&&g&&g.source==="server"?y.reject(new le(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new ug(ld(p.path),E,{includeMetadataChanges:!0,Ka:!0});return og(c,b)})(await Gh(i),i.asyncQueue,e,n,s))),s.promise}function Ix(i,e,n={}){const s=new Tr;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const E=new fg({next:w=>{E.Nu(),h.enqueueAndForget((()=>lg(c,b))),w.fromCache&&g.source==="server"?y.reject(new le(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new ug(p,E,{includeMetadataChanges:!0,Ka:!0});return og(c,b)})(await Gh(i),i.asyncQueue,e,n,s))),s.promise}function Nx(i,e){const n=new Tr;return i.asyncQueue.enqueueAndForget((async()=>px(await Rx(i),e,n))),n.promise}function dT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const Dx="ComponentProvider",C0=new Map;function Ox(i,e,n,s,o){return new X3(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,dT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const fT="firestore.googleapis.com",x0=!0;class I0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fT,this.ssl=x0}else this.host=e.host,this.ssl=e.ssl??x0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=G2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sC)throw new le(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new I3;switch(s.type){case"firstParty":return new j3(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=C0.get(n);s&&(he(Dx,"Removing Datastore"),C0.delete(n),s.terminate())})(this),Promise.resolve()}}function jx(i,e,n,s={}){i=mi(i,yd);const o=js(e),c=i._getSettings(),h={...c,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;o&&(kp(`https://${p}`),Pp("Firestore",!0)),c.host!==fT&&c.host!==p&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!pa(g,h)&&(i._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=ln.MOCK_USER;else{y=HE(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new le(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ln(b)}i._authCredentials=new N3(new t2(y,E))}}class Ms{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ms(this.firestore,e,this._query)}}class Nt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(wc(n,Nt._jsonSchema))return new Nt(e,s||null,new _e(ht.fromString(n.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Ht("string",Nt._jsonSchemaVersion),referencePath:Ht("string")};class ws extends Ms{constructor(e,n,s){super(e,n,ld(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new _e(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function Es(i,e,...n){if(i=Dt(i),n2("collection","path",e),i instanceof yd){const s=ht.fromString(e,...n);return Hv(s),new ws(i,null,s)}{if(!(i instanceof Nt||i instanceof ws))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ht.fromString(e,...n));return Hv(s),new ws(i.firestore,null,s)}}function mg(i,e,...n){if(i=Dt(i),arguments.length===1&&(e=Bp.newId()),n2("doc","path",e),i instanceof yd){const s=ht.fromString(e,...n);return Bv(s),new Nt(i,null,new _e(s))}{if(!(i instanceof Nt||i instanceof ws))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ht.fromString(e,...n));return Bv(s),new Nt(i.firestore,i instanceof ws?i.converter:null,new _e(s))}}const N0="AsyncQueue";class D0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Q2(this,"async_queue_retry"),this._c=()=>{const s=qm();s&&he(N0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vo(e))throw e;he(N0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,wr("INTERNAL UNHANDLED ERROR: ",O0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=sg.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:O0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function O0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Ea extends yd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new D0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D0(e),this._firestoreClient=void 0,await e}}}function Mx(i,e){const n=typeof i=="object"?i:Up(),s=typeof i=="string"?i:Vh,o=id(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=UE("firestore");c&&jx(o,...c)}return o}function _d(i){if(i._terminated)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||kx(i),i._firestoreClient}function kx(i){const e=i._freezeSettings(),n=Ox(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new Sx(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(sn.fromBase64String(e))}catch(n){throw new le(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wc(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Ht("string",Wn._jsonSchemaVersion),bytes:Ht("string")};class mT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pg{constructor(e){this._methodName=e}}class Qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(wc(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Ht("string",Qi._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};class pi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wc(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new pi(e.vectorValues);throw new le(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Ht("string",pi._jsonSchemaVersion),vectorValues:Ht("object")};const Px=/^__.*__$/;class Vx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(e,this.data,n,this.fieldTransforms)}}function pT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:i})}}class gg{constructor(e,n,s,o,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new gg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Yh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(pT(this.dataSource)&&Px.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Lx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||md(e)}createContext(e,n,s,o=!1){return new gg({dataSource:e,methodName:n,targetDoc:s,path:rn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yg(i){const e=i._freezeSettings(),n=md(i._databaseId);return new Lx(i._databaseId,!!e.ignoreUndefinedProperties,n)}function gT(i,e,n,s,o,c={}){const h=i.createContext(c.merge||c.mergeFields?2:0,e,n,o);vT("Data must be an object, but it was:",h,s);const p=yT(s,h);let g,y;if(c.merge)g=new di(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const w=Nc(e,b,n);if(!h.contains(w))throw new le(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Hx(E,w)||E.push(w)}g=new di(E),y=h.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=h.fieldTransforms;return new Vx(new Xn(p),g,y)}class _g extends pg{_toFieldTransform(e){return new w6(e.path,new mc)}isEqual(e){return e instanceof _g}}function Ux(i,e,n,s=!1){return vg(n,i.createContext(s?4:3,e))}function vg(i,e){if(_T(i=Dt(i)))return vT("Unsupported field value:",e,i),yT(i,e);if(i instanceof pg)return(function(s,o){if(!pT(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let h=0;for(const p of s){let g=vg(p,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=Dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return b6(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=mt.fromDate(s);return{timestampValue:Bh(o.serializer,c)}}if(s instanceof mt){const c=new mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,c)}}if(s instanceof Qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wn)return{bytesValue:V2(o.serializer,s._byteString)};if(s instanceof Nt){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof pi)return(function(h,p){const g=h instanceof pi?h.toArray():h;return{mapValue:{fields:{[h2]:{stringValue:d2},[Lh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw p.createError("VectorValues must only contain numeric values.");return $p(p.serializer,E)}))}}}}}})(s,o);if(F2(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${rd(s)}`)})(i,e)}function yT(i,e){const n={};return s2(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(i,((s,o)=>{const c=vg(o,e.childContextForField(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function _T(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof mt||i instanceof Qi||i instanceof Wn||i instanceof Nt||i instanceof pg||i instanceof pi||F2(i))}function vT(i,e,n){if(!_T(n)||!i2(n)){const s=rd(n);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function Nc(i,e,n){if((e=Dt(e))instanceof mT)return e._internalPath;if(typeof e=="string")return Bx(i,e);throw Yh("Field path arguments must be of type string or ",i,!1,void 0,n)}const zx=new RegExp("[~\\*/\\[\\]]");function Bx(i,e,n){if(e.search(zx)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new mT(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Yh(i,e,n,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new le(ee.INVALID_ARGUMENT,p+i+g)}function Hx(i,e){return i.some((n=>n.isEqual(e)))}class qx{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ra(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Lh].arrayValue?.values?.map((s=>It(s.doubleValue)));return new pi(n)}convertGeoPoint(e){return new Qi(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=od(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uc(e));default:return null}}convertTimestamp(e){const n=xs(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ht.fromString(e);tt(q2(s),9688,{name:e});const o=new hc(s.get(1),s.get(3)),c=new _e(s.popFirst(5));return o.isEqual(n)||wr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class Eg extends qx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function Tp(){return new _g("serverTimestamp")}const j0="@firebase/firestore",M0="4.11.0";function k0(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class ET{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Nc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Fx extends ET{data(){return super.data()}}function TT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class bT extends Tg{}function Xl(i,e,...n){let s=[];e instanceof Tg&&s.push(e),s=s.concat(n),(function(c){const h=c.filter((g=>g instanceof bg)).length,p=c.filter((g=>g instanceof vd)).length;if(h>1||h>0&&p>0)throw new le(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class vd extends bT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new vd(e,n,s)}_apply(e){const n=this._parse(e);return AT(e._query,n),new Ms(e.firestore,e.converter,up(e._query,n))}_parse(e){const n=yg(e.firestore);return(function(c,h,p,g,y,E,b){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){V0(b,E);const U=[];for(const B of b)U.push(P0(g,c,B));w={arrayValue:{values:U}}}else w=P0(g,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||V0(b,E),w=Ux(p,h,b,E==="in"||E==="not-in");return Bt.create(y,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wl(i,e,n){const s=e,o=Nc("where",i);return vd._create(o,s,n)}class bg extends Tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const p=c.getFlattenedFilters();for(const g of p)AT(h,g),h=up(h,g)})(e._query,n),new Ms(e.firestore,e.converter,up(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ag extends bT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ag(e,n)}_apply(e){const n=(function(o,c,h){if(o.startAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fc(c,h)})(e._query,this._field,this._direction);return new Ms(e.firestore,e.converter,m6(e._query,n))}}function Gx(i,e="asc"){const n=e,s=Nc("orderBy",i);return Ag._create(s,n)}function P0(i,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new le(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E2(e)&&n.indexOf("/")!==-1)throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ht.fromString(n));if(!_e.isDocumentKey(s))throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Xv(i,new _e(s))}if(n instanceof Nt)return Xv(i,n._key);throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rd(n)}.`)}function V0(i,e){if(!Array.isArray(i)||i.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AT(i,e){const n=(function(o,c){for(const h of o)for(const p of h.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ST(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends ET{constructor(e,n,s,o,c,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Nc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:Ht("string",da._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class xh extends da{data(e={}){return super.data(e)}}class fa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new xh(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new xh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Jl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new xh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Jl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),E=h.indexOf(p.doc.key)),{type:Yx(p.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Yx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:i})}}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:Ht("string",fa._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};function $x(i){i=mi(i,Nt);const e=mi(i.firestore,Ea),n=_d(e);return xx(n,i._key).then((s=>RT(e,i,s)))}function yh(i){i=mi(i,Ms);const e=mi(i.firestore,Ea),n=_d(e),s=new Eg(e);return TT(i._query),Ix(n,i._query).then((o=>new fa(e,s,i,o)))}function Kx(i,e,n){i=mi(i,Nt);const s=mi(i.firestore,Ea),o=ST(i.converter,e),c=yg(s);return wT(s,[gT(c,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,$i.none())])}function bp(i,e){const n=mi(i.firestore,Ea),s=mg(i),o=ST(i.converter,e),c=yg(i.firestore);return wT(n,[gT(c,"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,$i.exists(!1))]).then((()=>s))}function Qx(i,...e){i=Dt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||k0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(k0(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let c,h,p;if(i instanceof Nt)h=mi(i.firestore,Ea),p=ld(i._key.path),c={next:y=>{e[s]&&e[s](RT(h,i,y))},error:e[s+1],complete:e[s+2]};else{const y=mi(i,Ms);h=mi(y.firestore,Ea),p=y._query;const E=new Eg(h);c={next:b=>{e[s]&&e[s](new fa(h,E,y,b))},error:e[s+1],complete:e[s+2]},TT(i._query)}const g=_d(h);return Cx(g,p,o,c)}function wT(i,e){const n=_d(i);return Nx(n,e)}function RT(i,e,n){const s=n.docs.get(e._key),o=new Eg(i);return new da(i,o,e._key,s,new Jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){x3(wa),ga(new Rs("firestore",((s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),p=new Ea(new D3(s.getProvider("auth-internal")),new M3(h,s.getProvider("app-check-internal")),W3(h,o),h);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Gi(j0,M0,e),Gi(j0,M0,"esm2020")})();function CT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xx=CT,xT=new Ac("auth","Firebase",CT());const $h=new Vp("@firebase/auth");function Wx(i,...e){$h.logLevel<=Ge.WARN&&$h.warn(`Auth (${wa}): ${i}`,...e)}function Ih(i,...e){$h.logLevel<=Ge.ERROR&&$h.error(`Auth (${wa}): ${i}`,...e)}function _i(i,...e){throw Sg(i,...e)}function Xi(i,...e){return Sg(i,...e)}function IT(i,e,n){const s={...Xx(),[e]:n};return new Ac("auth","Firebase",s).create(e,{appName:i.name})}function br(i){return IT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return xT.create(i,...e)}function Se(i,e,...n){if(!i)throw Sg(e,...n)}function vr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ih(e),new Error(e)}function Cr(i,e){i||vr(e)}function Ap(){return typeof self<"u"&&self.location?.href||""}function Jx(){return L0()==="http:"||L0()==="https:"}function L0(){return typeof self<"u"&&self.location?.protocol||null}function Zx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Jx()||sR()||"connection"in navigator)?navigator.onLine:!0}function eI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=nR()||aR()}get(){return Zx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wg(i,e){Cr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class NT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const nI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iI=new Dc(3e4,6e4);function Nr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Dr(i,e,n,s,o={}){return DT(i,o,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const p=Sc({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...c};return rR()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&js(i.emulatorConfig.host)&&(y.credentials="include"),NT.fetch()(await OT(i,i.config.apiHost,n,p),y)})}async function DT(i,e,n){i._canInitEmulator=!1;const s={...tI,...e};try{const o=new sI(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw _h(i,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw _h(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw _h(i,"user-disabled",h);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw IT(i,E,y);_i(i,E)}}catch(o){if(o instanceof Zi)throw o;_i(i,"network-request-failed",{message:String(o)})}}async function Oc(i,e,n,s,o={}){const c=await Dr(i,e,n,s,o);return"mfaPendingCredential"in c&&_i(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function OT(i,e,n,s){const o=`${e}${n}?${s}`,c=i,h=c.config.emulator?wg(i.config,o):`${i.config.apiScheme}://${o}`;return nI.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function rI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Xi(this.auth,"network-request-failed")),iI.get())})}}function _h(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Xi(i,e,s);return o.customData._tokenResponse=n,o}function U0(i){return i!==void 0&&i.enterprise!==void 0}class aI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oI(i,e){return Dr(i,"GET","/v2/recaptchaConfig",Nr(i,e))}async function lI(i,e){return Dr(i,"POST","/v1/accounts:delete",e)}async function Kh(i,e){return Dr(i,"POST","/v1/accounts:lookup",e)}function rc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cI(i,e=!1){const n=Dt(i),s=await n.getIdToken(e),o=Rg(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:s,authTime:rc(Gm(o.auth_time)),issuedAtTime:rc(Gm(o.iat)),expirationTime:rc(Gm(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Gm(i){return Number(i)*1e3}function Rg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=VE(n);return o?JSON.parse(o):(Ih("Failed to decode base64 JWT payload"),null)}catch(o){return Ih("Caught error parsing JWT payload as JSON",o?.toString()),null}}function z0(i){const e=Rg(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function yc(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zi&&uI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function uI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class hI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qh(i){const e=i.auth,n=await i.getIdToken(),s=await yc(i,Kh(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?jT(o.providerUserInfo):[],h=fI(i.providerData,c),p=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!h?.length,y=p?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Sp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,E)}async function dI(i){const e=Dt(i);await Qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function jT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function mI(i,e){const n=await DT(i,{},async()=>{const s=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,h=await OT(i,o,"/v1/token",`key=${c}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return i.emulatorConfig&&js(i.emulatorConfig.host)&&(g.credentials="include"),NT.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pI(i,e){return Dr(i,"POST","/v2/accounts:revokeToken",Nr(i,e))}class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=z0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await mI(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,h=new Ro;return s&&(Se(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Se(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return vr("not implemented")}}function fs(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new hI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await yc(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cI(this,e)}reload(){return dI(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Qh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await yc(this,lI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:L,providerData:U,stsTokenManager:B}=n;Se(b&&B,e,"internal-error");const V=Ro.fromJSON(this.name,B);Se(typeof b=="string",e,"internal-error"),fs(s,e.name),fs(o,e.name),Se(typeof w=="boolean",e,"internal-error"),Se(typeof L=="boolean",e,"internal-error"),fs(c,e.name),fs(h,e.name),fs(p,e.name),fs(g,e.name),fs(y,e.name),fs(E,e.name);const X=new fi({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:L,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:V,createdAt:y,lastLoginAt:E});return U&&Array.isArray(U)&&(X.providerData=U.map(J=>({...J}))),g&&(X._redirectEventId=g),X}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ro;o.updateFromServerResponse(n);const c=new fi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Qh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?jT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,p=new Ro;p.updateFromIdToken(s);const g=new fi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Sp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const B0=new Map;function Er(i){Cr(i instanceof Function,"Expected a class definition");let e=B0.get(i);return e?(Cr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,B0.set(i,e),e)}class MT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MT.type="NONE";const H0=MT;function Nh(i,e,n){return`firebase:${i}:${e}:${n}`}class Co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Nh(this.userKey,o.apiKey,c),this.fullPersistenceKey=Nh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kh(this.auth,{idToken:e}).catch(()=>{});return n?fi._fromGetAccountInfoResponse(this.auth,n,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Co(Er(H0),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Er(H0);const h=Nh(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const E=await y._get(h);if(E){let b;if(typeof E=="string"){const w=await Kh(e,{idToken:E}).catch(()=>{});if(!w)break;b=await fi._fromGetAccountInfoResponse(e,w,E)}else b=fi._fromJSON(e,E);y!==c&&(p=b),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Co(c,e,s):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new Co(c,e,s))}}function q0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zT(e))return"Blackberry";if(BT(e))return"Webos";if(PT(e))return"Safari";if((e.includes("chrome/")||VT(e))&&!e.includes("edge/"))return"Chrome";if(UT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function kT(i=un()){return/firefox\//i.test(i)}function PT(i=un()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VT(i=un()){return/crios\//i.test(i)}function LT(i=un()){return/iemobile/i.test(i)}function UT(i=un()){return/android/i.test(i)}function zT(i=un()){return/blackberry/i.test(i)}function BT(i=un()){return/webos/i.test(i)}function Cg(i=un()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function gI(i=un()){return Cg(i)&&!!window.navigator?.standalone}function yI(){return oR()&&document.documentMode===10}function HT(i=un()){return Cg(i)||UT(i)||BT(i)||zT(i)||/windows phone/i.test(i)||LT(i)}function qT(i,e=[]){let n;switch(i){case"Browser":n=q0(un());break;case"Worker":n=`${q0(un())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wa}/${s}`}class _I{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function vI(i,e={}){return Dr(i,"GET","/v2/passwordPolicy",Nr(i,e))}const EI=6;class TI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??EI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class bI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F0(this),this.idTokenSubscription=new F0(this),this.beforeStateQueue=new _I(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Er(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kh(this,{idToken:e}),s=await fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(br(this));const n=e?Dt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vI(this),n=new TI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ac("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await pI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Er(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[Er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Wx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ks(i){return Dt(i)}class F0{constructor(e){this.auth=e,this.observer=null,this.addObserver=pR(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ed={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AI(i){Ed=i}function FT(i){return Ed.loadJS(i)}function SI(){return Ed.recaptchaEnterpriseScript}function wI(){return Ed.gapiScript}function RI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class CI{constructor(){this.enterprise=new xI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const II="recaptcha-enterprise",GT="NO_RECAPTCHA";class NI{constructor(e){this.type=II,this.auth=ks(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{oI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new aI(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,h,p){const g=window.grecaptcha;U0(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(GT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CI().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(p=>{if(!n&&U0(window.grecaptcha))o(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=SI();g.length!==0&&(g+=p),FT(g).then(()=>{o(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function G0(i,e,n,s=!1,o=!1){const c=new NI(i);let h;if(o)h=GT;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Xh(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await G0(i,e,n,n==="getOobCode");return s(i,c)}else return s(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await G0(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(c)})}function DI(i,e){const n=id(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(pa(c,e??{}))return o;_i(o,"already-initialized")}return n.initialize({options:e})}function OI(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Er);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function jI(i,e,n){const s=ks(i);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=YT(e),{host:h,port:p}=MI(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},E=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(pa(y,s.config.emulator)&&pa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,js(h)?(kp(`${c}//${h}${g}`),Pp("Auth",!0)):kI()}function YT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function MI(i){const e=YT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:Y0(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:Y0(h)}}}function Y0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function kI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class xg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}async function PI(i,e){return Dr(i,"POST","/v1/accounts:signUp",e)}async function VI(i,e){return Oc(i,"POST","/v1/accounts:signInWithPassword",Nr(i,e))}async function $T(i,e){return Dr(i,"POST","/v1/accounts:sendOobCode",Nr(i,e))}async function LI(i,e){return $T(i,e)}async function UI(i,e){return $T(i,e)}async function zI(i,e){return Oc(i,"POST","/v1/accounts:signInWithEmailLink",Nr(i,e))}async function BI(i,e){return Oc(i,"POST","/v1/accounts:signInWithEmailLink",Nr(i,e))}class _c extends xg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new _c(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new _c(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xh(e,n,"signInWithPassword",VI);case"emailLink":return zI(e,{email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xh(e,s,"signUpPassword",PI);case"emailLink":return BI(e,{idToken:n,email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xo(i,e){return Oc(i,"POST","/v1/accounts:signInWithIdp",Nr(i,e))}const HI="http://localhost";class Ta extends xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const h=new Ta(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,xo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}buildRequest(){const e={requestUri:HI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sc(n)}return e}}function qI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FI(i){const e=Gl(Yl(i)).link,n=e?Gl(Yl(e)).deep_link_id:null,s=Gl(Yl(i)).deep_link_id;return(s?Gl(Yl(s)).link:null)||s||n||e||i}class Ig{constructor(e){const n=Gl(Yl(e)),s=n.apiKey??null,o=n.oobCode??null,c=qI(n.mode??null);Se(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=FI(e);try{return new Ig(n)}catch{return null}}}class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,n){return _c._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ig.parseLink(n);return Se(s,"argument-error"),_c._fromEmailAndCode(e,s.code,s.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class KT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jc extends KT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ms extends jc{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";class ps extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ta._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ps.credential(n,s)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";class gs extends jc{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";class ys extends jc{constructor(){super("twitter.com")}static credential(e,n){return Ta._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ys.credential(n,s)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";async function GI(i,e){return Oc(i,"POST","/v1/accounts:signUp",Nr(i,e))}class ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await fi._fromIdTokenResponse(e,s,o),h=$0(s);return new ba({user:c,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=$0(s);return new ba({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function $0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Wh extends Zi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Wh(e,n,s,o)}}function QT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(i,c,e,s):c})}async function YI(i,e,n=!1){const s=await yc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ba._forOperation(i,"link",s)}async function $I(i,e,n=!1){const{auth:s}=i;if(jn(s.app))return Promise.reject(br(s));const o="reauthenticate";try{const c=await yc(i,QT(s,o,e,i),n);Se(c.idToken,s,"internal-error");const h=Rg(c.idToken);Se(h,s,"internal-error");const{sub:p}=h;return Se(i.uid===p,s,"user-mismatch"),ba._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&_i(s,"user-mismatch"),c}}async function XT(i,e,n=!1){if(jn(i.app))return Promise.reject(br(i));const s="signIn",o=await QT(i,s,e),c=await ba._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(c.user),c}async function KI(i,e){return XT(ks(i),e)}async function WT(i){const e=ks(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QI(i,e,n){const s=ks(i);await Xh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",UI)}async function XI(i,e,n){if(jn(i.app))return Promise.reject(br(i));const s=ks(i),h=await Xh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&WT(i),g}),p=await ba._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(p.user),p}function WI(i,e,n){return jn(i.app)?Promise.reject(br(i)):KI(Dt(i),zo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&WT(i),s})}async function JI(i,e){const n=Dt(i),o={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()},{email:c}=await LI(n.auth,o);c!==i.email&&await i.reload()}function ZI(i,e,n,s){return Dt(i).onIdTokenChanged(e,n,s)}function e5(i,e,n){return Dt(i).beforeAuthStateChanged(e,n)}function t5(i,e,n,s){return Dt(i).onAuthStateChanged(e,n,s)}function n5(i){return Dt(i).signOut()}const Jh="__sak";class JT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const i5=1e3,r5=10;class ZT extends JT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);yI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,r5):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},i5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZT.type="LOCAL";const s5=ZT;class eb extends JT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eb.type="SESSION";const tb=eb;function a5(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Td(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(h).map(async y=>y(n.origin,c)),g=await a5(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Td.receivers=[];function Ng(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class o5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=Ng("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(w.data.response);break;default:clearTimeout(E),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Wi(){return window}function l5(i){Wi().location.href=i}function nb(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function c5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u5(){return navigator?.serviceWorker?.controller||null}function h5(){return nb()?self:null}const ib="firebaseLocalStorageDb",d5=1,Zh="firebaseLocalStorage",rb="fbase_key";class Mc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bd(i,e){return i.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function f5(){const i=indexedDB.deleteDatabase(ib);return new Mc(i).toPromise()}function wp(){const i=indexedDB.open(ib,d5);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Zh,{keyPath:rb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Zh)?e(s):(s.close(),await f5(),e(await wp()))})})}async function K0(i,e,n){const s=bd(i,!0).put({[rb]:e,value:n});return new Mc(s).toPromise()}async function m5(i,e){const n=bd(i,!1).get(e),s=await new Mc(n).toPromise();return s===void 0?null:s.value}function Q0(i,e){const n=bd(i,!0).delete(e);return new Mc(n).toPromise()}const p5=800,g5=3;class sb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>g5)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Td._getInstance(h5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await c5(),!this.activeServiceWorker)return;this.sender=new o5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wp();return await K0(e,Jh,"1"),await Q0(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>K0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>m5(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=bd(o,!1).getAll();return new Mc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sb.type="LOCAL";const y5=sb;new Dc(3e4,6e4);function _5(i,e){return e?Er(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Dg extends xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function v5(i){return XT(i.auth,new Dg(i),i.bypassAuthState)}function E5(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),$I(n,new Dg(i),i.bypassAuthState)}async function T5(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),YI(n,new Dg(i),i.bypassAuthState)}class ab{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return v5;case"linkViaPopup":case"linkViaRedirect":return T5;case"reauthViaPopup":case"reauthViaRedirect":return E5;default:_i(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const b5=new Dc(2e3,1e4);class Ao extends ab{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=Ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,b5.get())};e()}}Ao.currentPopupAction=null;const A5="pendingRedirect",Dh=new Map;class S5 extends ab{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Dh.get(this.auth._key());if(!e){try{const s=await w5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Dh.set(this.auth._key(),e)}return this.bypassAuthState||Dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w5(i,e){const n=x5(e),s=C5(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function R5(i,e){Dh.set(i._key(),e)}function C5(i){return Er(i._redirectPersistence)}function x5(i){return Nh(A5,i.config.apiKey,i.name)}async function I5(i,e,n=!1){if(jn(i.app))return Promise.reject(br(i));const s=ks(i),o=_5(s,e),h=await new S5(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const N5=600*1e3;class D5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!O5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ob(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Xi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N5&&this.cachedEventUids.clear(),this.cachedEventUids.has(X0(e))}saveEventToCache(e){this.cachedEventUids.add(X0(e)),this.lastProcessedEventTime=Date.now()}}function X0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function ob({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function O5(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ob(i);default:return!1}}async function j5(i,e={}){return Dr(i,"GET","/v1/projects",e)}const M5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k5=/^https?/;async function P5(i){if(i.config.emulator)return;const{authorizedDomains:e}=await j5(i);for(const n of e)try{if(V5(n))return}catch{}_i(i,"unauthorized-domain")}function V5(i){const e=Ap(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!k5.test(n))return!1;if(M5.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const L5=new Dc(3e4,6e4);function W0(){const i=Wi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function U5(i){return new Promise((e,n)=>{function s(){W0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W0(),n(Xi(i,"network-request-failed"))},timeout:L5.get()})}if(Wi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wi().gapi?.load)s();else{const o=RI("iframefcb");return Wi()[o]=()=>{gapi.load?s():n(Xi(i,"network-request-failed"))},FT(`${wI()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Oh=null,e})}let Oh=null;function z5(i){return Oh=Oh||U5(i),Oh}const B5=new Dc(5e3,15e3),H5="__/auth/iframe",q5="emulator/auth/iframe",F5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y5(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?wg(e,q5):`https://${i.config.authDomain}/${H5}`,s={apiKey:e.apiKey,appName:i.name,v:wa},o=G5.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Sc(s).slice(1)}`}async function $5(i){const e=await z5(i),n=Wi().gapi;return Se(n,i,"internal-error"),e.open({where:document.body,url:Y5(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F5,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=Xi(i,"network-request-failed"),p=Wi().setTimeout(()=>{c(h)},B5.get());function g(){Wi().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(h)})}))}const K5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q5=500,X5=600,W5="_blank",J5="http://localhost";class J0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z5(i,e,n,s=Q5,o=X5){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...K5,width:s.toString(),height:o.toString(),top:c,left:h},y=un().toLowerCase();n&&(p=VT(y)?W5:n),kT(y)&&(e=e||J5,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[L,U])=>`${w}${L}=${U},`,"");if(gI(y)&&p!=="_self")return e9(e||"",p),new J0(null);const b=window.open(e||"",p,E);Se(b,i,"popup-blocked");try{b.focus()}catch{}return new J0(b)}function e9(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const t9="__/auth/handler",n9="emulator/auth/handler",i9=encodeURIComponent("fac");async function Z0(i,e,n,s,o,c){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:wa,eventId:o};if(e instanceof KT){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",mR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof jc){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const p=h;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await i._getAppCheckToken(),y=g?`#${i9}=${encodeURIComponent(g)}`:"";return`${r9(i)}?${Sc(p).slice(1)}${y}`}function r9({config:i}){return i.emulator?wg(i,n9):`https://${i.authDomain}/${t9}`}const Ym="webStorageSupport";class s9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tb,this._completeRedirectFn=I5,this._overrideRedirectResult=R5}async _openPopup(e,n,s,o){Cr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Z0(e,n,s,Ap(),o);return Z5(e,c,Ng())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await Z0(e,n,s,Ap(),o);return l5(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Cr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await $5(e),s=new D5(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ym,{type:Ym},o=>{const c=o?.[0]?.[Ym];c!==void 0&&n(!!c),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=P5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HT()||PT()||Cg()}}const a9=s9;var eE="@firebase/auth",tE="1.12.0";class o9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function l9(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c9(i){ga(new Rs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qT(i)},y=new bI(s,o,c,g);return OI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ga(new Rs("auth-internal",e=>{const n=ks(e.getProvider("auth").getImmediate());return(s=>new o9(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(eE,tE,l9(i)),Gi(eE,tE,"esm2020")}const u9=300,h9=BE("authIdTokenMaxAge")||u9;let nE=null;const d9=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>h9)return;const o=n?.token;nE!==o&&(nE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function f9(i=Up()){const e=id(i,"auth");if(e.isInitialized())return e.getImmediate();const n=DI(i,{popupRedirectResolver:a9,persistence:[y5,s5,tb]}),s=BE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=d9(c.toString());e5(n,h,()=>h(n.currentUser)),ZI(n,p=>h(p))}}const o=LE("auth");return o&&jI(n,`http://${o}`),n}function m9(){return document.getElementsByTagName("head")?.[0]??document}AI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=Xi("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",m9().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c9("Browser");const lb="firebasestorage.googleapis.com",cb="storageBucket",p9=120*1e3,g9=600*1e3;class At extends Zi{constructor(e,n,s=0){super($m(e),`Firebase Storage: ${n} (${$m(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,At.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bt||(bt={}));function $m(i){return"storage/"+i}function Og(){const i="An unknown error occurred, please check the error payload for server response.";return new At(bt.UNKNOWN,i)}function y9(i){return new At(bt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function _9(i){return new At(bt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function v9(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new At(bt.UNAUTHENTICATED,i)}function E9(){return new At(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function T9(i){return new At(bt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function b9(){return new At(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function A9(){return new At(bt.CANCELED,"User canceled the upload/download.")}function S9(i){return new At(bt.INVALID_URL,"Invalid URL '"+i+"'.")}function w9(i){return new At(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function R9(){return new At(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cb+"' property when initializing the app?")}function C9(){return new At(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function x9(){return new At(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function I9(i){return new At(bt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Rp(i){return new At(bt.INVALID_ARGUMENT,i)}function ub(){return new At(bt.APP_DELETED,"The Firebase app was deleted.")}function N9(i){return new At(bt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sc(i,e){return new At(bt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Fl(i){throw new At(bt.INTERNAL_ERROR,"Internal error: "+i)}class Mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Mn.makeFromUrl(e,n)}catch{return new Mn(e,"")}if(s.path==="")return s;throw w9(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function y(oe){oe.path_=decodeURIComponent(oe.path)}const E="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",L=new RegExp(`^https?://${b}/${E}/b/${o}/o${w}`,"i"),U={bucket:1,path:3},B=n===lb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",X=new RegExp(`^https?://${B}/${o}/${V}`,"i"),ie=[{regex:p,indices:g,postModify:c},{regex:L,indices:U,postModify:y},{regex:X,indices:{bucket:1,path:2},postModify:y}];for(let oe=0;oe<ie.length;oe++){const ce=ie[oe],ve=ce.regex.exec(e);if(ve){const x=ve[ce.indices.bucket];let R=ve[ce.indices.path];R||(R=""),s=new Mn(x,R),ce.postModify(s);break}}if(s==null)throw S9(e);return s}}class D9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function O9(i,e,n){let s=1,o=null,c=null,h=!1,p=0;function g(){return p===2}let y=!1;function E(...V){y||(y=!0,e.apply(null,V))}function b(V){o=setTimeout(()=>{o=null,i(L,g())},V)}function w(){c&&clearTimeout(c)}function L(V,...X){if(y){w();return}if(V){w(),E.call(null,V,...X);return}if(g()||h){w(),E.call(null,V,...X);return}s<64&&(s*=2);let ie;p===1?(p=2,ie=0):ie=(s+Math.random())*1e3,b(ie)}let U=!1;function B(V){U||(U=!0,w(),!y&&(o!==null?(V||(p=2),clearTimeout(o),b(0)):V||(p=1)))}return b(0),c=setTimeout(()=>{h=!0,B(!0)},n),B}function j9(i){i(!1)}function M9(i){return i!==void 0}function k9(i){return typeof i=="object"&&!Array.isArray(i)}function jg(i){return typeof i=="string"||i instanceof String}function iE(i){return Mg()&&i instanceof Blob}function Mg(){return typeof Blob<"u"}function rE(i,e,n,s){if(s<e)throw Rp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw Rp(`Invalid value for '${i}'. Expected ${n} or less.`)}function kg(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function hb(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ma;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ma||(ma={}));function P9(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,c=e.indexOf(i)!==-1;return n||o||c}class V9{constructor(e,n,s,o,c,h,p,g,y,E,b,w=!0,L=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,B)=>{this.resolve_=U,this.reject_=B,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new vh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const p=c.getErrorCode()===ma.NO_ERROR,g=c.getStatus();if(!p||P9(g,this.additionalRetryCodes_)&&this.retry){const E=c.getErrorCode()===ma.ABORT;s(!1,new vh(!1,null,E));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new vh(y,c))})},n=(s,o)=>{const c=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());M9(g)?c(g):c()}catch(g){h(g)}else if(p!==null){const g=Og();g.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,g)):h(g)}else if(o.canceled){const g=this.appDelete_?ub():A9();h(g)}else{const g=b9();h(g)}};this.canceled_?n(!1,new vh(!1,null,!0)):this.backoffId_=O9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&j9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function L9(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function U9(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function z9(i,e){e&&(i["X-Firebase-GMPID"]=e)}function B9(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function H9(i,e,n,s,o,c,h=!0,p=!1){const g=hb(i.urlParams),y=i.url+g,E=Object.assign({},i.headers);return z9(E,e),L9(E,n),U9(E,c),B9(E,s),new V9(y,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,p)}function q9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function F9(...i){const e=q9();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(Mg())return new Blob(i);throw new At(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function G9(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}function Y9(i){if(typeof atob>"u")throw I9("base-64");return atob(i)}const qi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Km{constructor(e,n){this.data=e,this.contentType=n||null}}function $9(i,e){switch(i){case qi.RAW:return new Km(db(e));case qi.BASE64:case qi.BASE64URL:return new Km(fb(i,e));case qi.DATA_URL:return new Km(Q9(e),X9(e))}throw Og()}function db(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=s,h=i.charCodeAt(++n);s=65536|(c&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function K9(i){let e;try{e=decodeURIComponent(i)}catch{throw sc(qi.DATA_URL,"Malformed data URL.")}return db(e)}function fb(i,e){switch(i){case qi.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw sc(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case qi.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw sc(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Y9(e)}catch(o){throw o.message.includes("polyfill")?o:sc(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class mb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw sc(qi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=W9(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function Q9(i){const e=new mb(i);return e.base64?fb(qi.BASE64,e.rest):K9(e.rest)}function X9(i){return new mb(i).contentType}function W9(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class _s{constructor(e,n){let s=0,o="";iE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(iE(this.data_)){const s=this.data_,o=G9(s,e,n);return o===null?null:new _s(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new _s(s,!0)}}static getBlob(...e){if(Mg()){const n=e.map(s=>s instanceof _s?s.data_:s);return new _s(F9.apply(null,n))}else{const n=e.map(h=>jg(h)?$9(qi.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let c=0;return n.forEach(h=>{for(let p=0;p<h.length;p++)o[c++]=h[p]}),new _s(o,!0)}}uploadData(){return this.data_}}function pb(i){let e;try{e=JSON.parse(i)}catch{return null}return k9(e)?e:null}function J9(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Z9(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function gb(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function eN(i,e){return e}class pn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||eN}}let Eh=null;function tN(i){return!jg(i)||i.length<2?i:gb(i)}function yb(){if(Eh)return Eh;const i=[];i.push(new pn("bucket")),i.push(new pn("generation")),i.push(new pn("metageneration")),i.push(new pn("name","fullPath",!0));function e(c,h){return tN(h)}const n=new pn("name");n.xform=e,i.push(n);function s(c,h){return h!==void 0?Number(h):h}const o=new pn("size");return o.xform=s,i.push(o),i.push(new pn("timeCreated")),i.push(new pn("updated")),i.push(new pn("md5Hash",null,!0)),i.push(new pn("cacheControl",null,!0)),i.push(new pn("contentDisposition",null,!0)),i.push(new pn("contentEncoding",null,!0)),i.push(new pn("contentLanguage",null,!0)),i.push(new pn("contentType",null,!0)),i.push(new pn("metadata","customMetadata",!0)),Eh=i,Eh}function nN(i,e){function n(){const s=i.bucket,o=i.fullPath,c=new Mn(s,o);return e._makeStorageReference(c)}Object.defineProperty(i,"ref",{get:n})}function iN(i,e,n){const s={};s.type="file";const o=n.length;for(let c=0;c<o;c++){const h=n[c];s[h.local]=h.xform(s,e[h.server])}return nN(s,i),s}function _b(i,e,n){const s=pb(e);return s===null?null:iN(i,s,n)}function rN(i,e,n,s){const o=pb(e);if(o===null||!jg(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const h=encodeURIComponent;return c.split(",").map(y=>{const E=i.bucket,b=i.fullPath,w="/b/"+h(E)+"/o/"+h(b),L=kg(w,n,s),U=hb({alt:"media",token:y});return L+U})[0]}function sN(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const c=e[o];c.writable&&(n[c.server]=i[c.local])}return JSON.stringify(n)}class vb{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Eb(i){if(!i)throw Og()}function aN(i,e){function n(s,o){const c=_b(i,o,e);return Eb(c!==null),c}return n}function oN(i,e){function n(s,o){const c=_b(i,o,e);return Eb(c!==null),rN(c,o,i.host,i._protocol)}return n}function Tb(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=E9():o=v9():n.getStatus()===402?o=_9(i.bucket):n.getStatus()===403?o=T9(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function lN(i){const e=Tb(i);function n(s,o){let c=e(s,o);return s.getStatus()===404&&(c=y9(i.path)),c.serverResponse=o.serverResponse,c}return n}function cN(i,e,n){const s=e.fullServerUrl(),o=kg(s,i.host,i._protocol),c="GET",h=i.maxOperationRetryTime,p=new vb(o,c,oN(i,n),h);return p.errorHandler=lN(e),p}function uN(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function hN(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=uN(null,e)),s}function dN(i,e,n,s,o){const c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function p(){let ie="";for(let oe=0;oe<2;oe++)ie=ie+Math.random().toString().slice(2);return ie}const g=p();h["Content-Type"]="multipart/related; boundary="+g;const y=hN(e,s,o),E=sN(y,n),b="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,w=`\r
--`+g+"--",L=_s.getBlob(b,s,w);if(L===null)throw C9();const U={name:y.fullPath},B=kg(c,i.host,i._protocol),V="POST",X=i.maxUploadRetryTime,J=new vb(B,V,aN(i,n),X);return J.urlParams=U,J.headers=h,J.body=L.uploadData(),J.errorHandler=Tb(e),J}class fN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ma.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ma.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ma.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,c){if(this.sent_)throw Fl("cannot .send() more than once");if(js(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),c!==void 0)for(const h in c)c.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,c[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mN extends fN{initXhr(){this.xhr_.responseType="text"}}function bb(){return new mN}class Aa{constructor(e,n){this._service=e,n instanceof Mn?this._location=n:this._location=Mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Aa(e,n)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gb(this._location.path)}get storage(){return this._service}get parent(){const e=J9(this._location.path);if(e===null)return null;const n=new Mn(this._location.bucket,e);return new Aa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw N9(e)}}function pN(i,e,n){i._throwIfRoot("uploadBytes");const s=dN(i.storage,i._location,yb(),new _s(e,!0),n);return i.storage.makeRequestWithTokens(s,bb).then(o=>({metadata:o,ref:i}))}function gN(i){i._throwIfRoot("getDownloadURL");const e=cN(i.storage,i._location,yb());return i.storage.makeRequestWithTokens(e,bb).then(n=>{if(n===null)throw x9();return n})}function yN(i,e){const n=Z9(i._location.path,e),s=new Mn(i._location.bucket,n);return new Aa(i.storage,s)}function _N(i){return/^[A-Za-z]+:\/\//.test(i)}function vN(i,e){return new Aa(i,e)}function Ab(i,e){if(i instanceof Pg){const n=i;if(n._bucket==null)throw R9();const s=new Aa(n,n._bucket);return e!=null?Ab(s,e):s}else return e!==void 0?yN(i,e):i}function EN(i,e){if(e&&_N(e)){if(i instanceof Pg)return vN(i,e);throw Rp("To use ref(service, url), the first argument must be a Storage instance.")}else return Ab(i,e)}function sE(i,e){const n=e?.[cb];return n==null?null:Mn.makeFromBucketSpec(n,i)}function TN(i,e,n,s={}){i.host=`${e}:${n}`;const o=js(e);o&&(kp(`https://${i.host}/b`),Pp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(i._overrideAuthToken=typeof c=="string"?c:HE(c,i.app.options.projectId))}class Pg{constructor(e,n,s,o,c,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=lb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=p9,this._maxUploadRetryTime=g9,this._requests=new Set,o!=null?this._bucket=Mn.makeFromBucketSpec(o,this._host):this._bucket=sE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=sE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Aa(this,e)}_makeRequest(e,n,s,o,c=!0){if(this._deleted)return new D9(ub());{const h=H9(e,this._appId,s,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const aE="@firebase/storage",oE="0.14.0";const Sb="storage";function bN(i,e,n){return i=Dt(i),pN(i,e,n)}function AN(i){return i=Dt(i),gN(i)}function SN(i,e){return i=Dt(i),EN(i,e)}function wN(i=Up(),e){i=Dt(i);const s=id(i,Sb).getImmediate({identifier:e}),o=UE("storage");return o&&RN(s,...o),s}function RN(i,e,n,s={}){TN(i,e,n,s)}function CN(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Pg(n,s,o,e,wa)}function xN(){ga(new Rs(Sb,CN,"PUBLIC").setMultipleInstances(!0)),Gi(aE,oE,""),Gi(aE,oE,"esm2020")}xN();const IN={apiKey:"AIzaSyAGPUHsI-gX67ISkXBhIl6-Lr0Uo9enKX4",authDomain:"yipias-web-f06e1.firebaseapp.com",projectId:"yipias-web-f06e1",storageBucket:"yipias-web-f06e1.firebasestorage.app",messagingSenderId:"454915066576",appId:"1:454915066576:web:eb5a4235d6a8b3ded12cd5"},Vg=GE(IN),Hi=Mx(Vg),ac=f9(Vg),NN=wN(Vg),wb=O.createContext(),kc=()=>O.useContext(wb),DN=({children:i})=>{const[e,n]=O.useState(null),[s,o]=O.useState(null),[c,h]=O.useState(!0);O.useEffect(()=>t5(ac,async y=>{if(y){n(y);const E=await $x(mg(Hi,"usuarios",y.uid));E.exists()&&o(E.data())}else n(null),o(null);h(!1)}),[]);const p={currentUser:e,userData:s,loading:c};return m.jsx(wb.Provider,{value:p,children:i})},ON=({isOpen:i,onClose:e})=>{Tc();const{currentUser:n}=kc(),s=c=>{const h=document.getElementById(c);h&&window.scrollTo({top:h.offsetTop-70,behavior:"smooth"}),e()},o=()=>{e(),n?s("reservas"):window.dispatchEvent(new CustomEvent("openAuthModal"))};return m.jsx("div",{className:`mobile-menu ${i?"open":""}`,id:"mobileMenu",children:m.jsxs("ul",{className:"mobile-nav-links",children:[n&&m.jsx("li",{children:m.jsx(Ts,{to:"/mis-reservas",onClick:e,children:"Mis Reservas"})}),m.jsx("li",{children:m.jsx("button",{onClick:()=>s("destinos"),children:"Algunos destinos"})}),m.jsx("li",{children:m.jsx("button",{onClick:()=>s("servicios"),children:"Nuestros servicios"})}),m.jsx("li",{children:m.jsx("button",{onClick:o,children:"Reservas"})}),m.jsx("li",{children:m.jsx("button",{onClick:()=>s("sobre-nosotros"),children:"Sobre nosotros"})}),m.jsx("li",{children:m.jsx("button",{onClick:()=>s("contacto"),children:"Contacto"})}),m.jsx("li",{className:"separator-top",children:m.jsx(Ts,{to:"/terminos",onClick:e,children:"Trminos y Condiciones"})}),m.jsx("li",{children:m.jsx(Ts,{to:"/privacidad",onClick:e,children:"Polticas de Privacidad"})})]})})},Lg=({onClose:i,onSuccess:e})=>{const[n,s]=O.useState("login"),[o,c]=O.useState(!1),[h,p]=O.useState(!1),[g,y]=O.useState(!1),[E,b]=O.useState(""),[w,L]=O.useState(!1),[U,B]=O.useState({email:"",password:"",nombres:"",telefono:"",dni:"",confirmPassword:""}),[V,X]=O.useState(""),[J,ie]=O.useState(""),[oe,ce]=O.useState(!1),[ve,x]=O.useState(!1);O.useEffect(()=>{const C=new URLSearchParams(window.location.search).get("mode");C==="verifyEmail"&&(ie("Correo verificado exitosamente. Ya puedes iniciar sesin."),s("login"),window.history.replaceState({},document.title,window.location.pathname)),C==="resetPassword"&&(ie("Contrasea restablecida. Ahora puedes iniciar sesin."),s("login"),window.history.replaceState({},document.title,window.location.pathname))},[]);const R=P=>{const{name:C,value:Oe}=P.target;B(Ve=>({...Ve,[C]:Oe}))},I=async P=>{P.preventDefault(),X(""),ce(!0);try{const C=Xl(Es(Hi,"usuarios"),Wl("email","==",E));if((await yh(C)).empty){X("Este correo no est asociado a ninguna cuenta"),ce(!1);return}await QI(ac,E),L(!0),ie("Correo de recuperacin enviado. Revisa tu bandeja de entrada."),ce(!1),setTimeout(()=>{y(!1),L(!1),b(""),ie("")},3e3)}catch(C){console.error("Error:",C),X("Error al enviar correo de recuperacin"),ce(!1)}},k=async P=>{P.preventDefault(),X(""),ce(!0);try{const Oe=(await WI(ac,U.email,U.password)).user;if(!Oe.emailVerified){X("Por favor verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."),ce(!1);return}const Ve=await yh(Xl(Es(Hi,"usuarios"),Wl("uid","==",Oe.uid)));if(!Ve.empty){const K=Ve.docs[0].data();ie(`Bienvenido ${K.nombres}!`),sessionStorage.setItem("user",JSON.stringify(K)),e&&e(K),setTimeout(i,1500)}}catch(C){console.error("Error:",C),C.code==="auth/invalid-credential"?X("Email o contrasea incorrectos"):X("Error al iniciar sesin")}ce(!1)},D=async P=>{if(P.preventDefault(),X(""),ce(!0),!ve){X("Debes aceptar los trminos y condiciones"),ce(!1);return}if(U.password!==U.confirmPassword){X("Las contraseas no coinciden"),ce(!1);return}if(U.password.length<6){X("La contrasea debe tener al menos 6 caracteres"),ce(!1);return}if(U.dni.length<8||U.dni.length>12){X("El DNI debe tener entre 8 y 12 dgitos"),ce(!1);return}if(U.telefono.length<9){X("El telfono debe tener al menos 9 dgitos"),ce(!1);return}const C=U.nombres.trim();if(!C.includes(" ")){X("Ingresa tu nombre completo (nombres y apellidos)"),ce(!1);return}try{const Oe=C.indexOf(" "),Ve=C.substring(0,Oe).trim(),K=C.substring(Oe+1).trim(),se=Xl(Es(Hi,"usuarios"),Wl("dni","==",U.dni));if(!(await yh(se)).empty){X("Este DNI ya est registrado"),ce(!1);return}const Le=Xl(Es(Hi,"usuarios"),Wl("email","==",U.email));if(!(await yh(Le)).empty){X("Este email ya est registrado"),ce(!1);return}const Q=(await XI(ac,U.email,U.password)).user;await JI(Q);const ae={nombres:Ve,apellidos:K,nombreCompleto:C,email:U.email,telefono:U.telefono,dni:U.dni,rol:"cliente",fechaRegistro:new Date().toISOString(),uid:Q.uid,estado:"activo",emailVerified:!1};await Kx(mg(Hi,"usuarios",Q.uid),ae),ie("Registro exitoso. Hemos enviado un correo de verificacin a tu email. Por favor verifica antes de iniciar sesin."),setTimeout(()=>{s("login"),B({email:"",password:"",nombres:"",telefono:"",dni:"",confirmPassword:""}),x(!1)},4e3)}catch(Oe){console.error("Error:",Oe),Oe.code==="auth/email-already-in-use"?X("Este email ya est registrado"):X("Error al registrarse")}ce(!1)};return g?m.jsx("div",{className:"auth-modal-overlay",onClick:i,children:m.jsxs("div",{className:"auth-modal-card",onClick:P=>P.stopPropagation(),children:[m.jsx("button",{className:"auth-modal-close",onClick:i,children:""}),m.jsx("div",{className:"auth-logo",children:m.jsx("img",{src:"/img/premium.png",alt:"YipiAs"})}),m.jsx("h3",{style:{textAlign:"center",marginBottom:"1rem",color:"var(--text)"},children:"Recuperar Contrasea"}),w?m.jsxs("div",{style:{textAlign:"center",padding:"1rem"},children:[m.jsxs("div",{className:"auth-success",children:[m.jsx(hh,{size:16,style:{marginRight:"6px"}}),J]}),m.jsx("button",{className:"auth-submit",style:{marginTop:"1rem"},onClick:()=>{y(!1),L(!1)},children:"Volver al inicio de sesin"})]}):m.jsxs("form",{onSubmit:I,className:"auth-form",children:[m.jsxs("div",{className:"input-group",children:[m.jsx(Mm,{size:18,className:"input-icon"}),m.jsx("input",{type:"email",value:E,onChange:P=>b(P.target.value),required:!0,placeholder:"Ingresa tu correo electrnico"})]}),V&&m.jsxs("div",{className:"auth-error",children:[m.jsx(Nm,{size:16,style:{marginRight:"6px"}}),V]}),J&&m.jsxs("div",{className:"auth-success",children:[m.jsx(hh,{size:16,style:{marginRight:"6px"}}),J]}),m.jsx("button",{type:"submit",className:"auth-submit",disabled:oe,children:oe?"Verificando...":"Enviar correo de recuperacin"}),m.jsx("button",{type:"button",className:"auth-submit",style:{background:"transparent",color:"var(--primary)",marginTop:"0.5rem"},onClick:()=>y(!1),children:"Volver al inicio de sesin"})]})]})}):m.jsx("div",{className:"auth-modal-overlay",onClick:i,children:m.jsxs("div",{className:"auth-modal-card",onClick:P=>P.stopPropagation(),children:[m.jsx("button",{className:"auth-modal-close",onClick:i,children:""}),m.jsx("div",{className:"auth-logo",children:m.jsx("img",{src:"/img/premium.png",alt:"YipiAs"})}),m.jsxs("div",{className:"auth-slider",children:[m.jsx("div",{className:`slider-bg ${n==="login"?"login-active":"registro-active"}`}),m.jsx("button",{className:`slider-btn ${n==="login"?"active":""}`,onClick:()=>s("login"),children:"Iniciar Sesin"}),m.jsx("button",{className:`slider-btn ${n==="registro"?"active":""}`,onClick:()=>s("registro"),children:"Registrarse"})]}),m.jsxs("div",{className:"conductor-link",children:[m.jsx("span",{children:"Eres conductor? "}),m.jsx("a",{href:"https://wa.me/51904635462?text=Hola!%20Deseo%20ms%20informacin%20para%20ser%20conductor%20de%20YipiAs%20Premium.",target:"_blank",rel:"noopener noreferrer",children:"Haz clic aqu"})]}),n==="login"?m.jsxs("form",{onSubmit:k,className:"auth-form",children:[m.jsxs("div",{className:"input-group",children:[m.jsx(Mm,{size:18,className:"input-icon"}),m.jsx("input",{type:"email",name:"email",value:U.email,onChange:R,required:!0,placeholder:"Correo electrnico"})]}),m.jsxs("div",{className:"input-group",style:{position:"relative"},children:[m.jsx(jm,{size:18,className:"input-icon"}),m.jsx("input",{type:o?"text":"password",name:"password",value:U.password,onChange:R,required:!0,placeholder:"Contrasea",style:{paddingRight:"40px"}}),m.jsx("button",{type:"button",onClick:()=>c(!o),className:"password-toggle-btn",children:o?m.jsx(Dm,{size:18}):m.jsx(Om,{size:18})})]}),m.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-0.5rem",marginBottom:"0.5rem"},children:m.jsxs("button",{type:"button",onClick:()=>y(!0),className:"forgot-password-btn",children:[m.jsx(u4,{size:14}),"Olvidaste tu contrasea?"]})}),V&&m.jsxs("div",{className:"auth-error",children:[m.jsx(Nm,{size:16,style:{marginRight:"6px"}}),V]}),J&&m.jsxs("div",{className:"auth-success",children:[m.jsx(hh,{size:16,style:{marginRight:"6px"}}),J]}),m.jsx("button",{type:"submit",className:"auth-submit",disabled:oe,children:oe?"Ingresando...":"Iniciar Sesin"})]}):m.jsxs("form",{onSubmit:D,className:"auth-form",children:[m.jsxs("div",{className:"input-group",children:[m.jsx(ME,{size:18,className:"input-icon"}),m.jsx("input",{type:"text",name:"nombres",value:U.nombres,onChange:R,required:!0,placeholder:"Nombres y apellidos"})]}),m.jsxs("div",{className:"input-group",children:[m.jsx(Mm,{size:18,className:"input-icon"}),m.jsx("input",{type:"email",name:"email",value:U.email,onChange:R,required:!0,placeholder:"Correo electrnico"})]}),m.jsxs("div",{className:"input-group",children:[m.jsx(jE,{size:18,className:"input-icon"}),m.jsx("input",{type:"tel",name:"telefono",value:U.telefono,onChange:R,required:!0,placeholder:"Ingresa tu telfono",maxLength:"9"})]}),m.jsxs("div",{className:"input-group",children:[m.jsx(m4,{size:18,className:"input-icon"}),m.jsx("input",{type:"text",name:"dni",value:U.dni,onChange:R,required:!0,placeholder:"Ingresa tu DNI",maxLength:"8"})]}),m.jsxs("div",{className:"input-group",style:{position:"relative"},children:[m.jsx(jm,{size:18,className:"input-icon"}),m.jsx("input",{type:o?"text":"password",name:"password",value:U.password,onChange:R,required:!0,placeholder:"Contrasea (mn. 6 caracteres)",style:{paddingRight:"40px"}}),m.jsx("button",{type:"button",onClick:()=>c(!o),className:"password-toggle-btn",children:o?m.jsx(Dm,{size:18}):m.jsx(Om,{size:18})})]}),m.jsxs("div",{className:"input-group",style:{position:"relative"},children:[m.jsx(jm,{size:18,className:"input-icon"}),m.jsx("input",{type:h?"text":"password",name:"confirmPassword",value:U.confirmPassword,onChange:R,required:!0,placeholder:"Confirmar contrasea",style:{paddingRight:"40px"}}),m.jsx("button",{type:"button",onClick:()=>p(!h),className:"password-toggle-btn",children:h?m.jsx(Dm,{size:18}):m.jsx(Om,{size:18})})]}),m.jsxs("label",{className:"checkbox-label",children:[m.jsx("input",{type:"checkbox",checked:ve,onChange:P=>x(P.target.checked)}),m.jsx(Mp,{size:16,className:`checkbox-icon ${ve?"checked":""}`}),m.jsx("span",{children:"Acepto los trminos y condiciones, junto a las polticas de privacidad"})]}),V&&m.jsxs("div",{className:"auth-error",children:[m.jsx(Nm,{size:16,style:{marginRight:"6px"}}),V]}),J&&m.jsxs("div",{className:"auth-success",children:[m.jsx(hh,{size:16,style:{marginRight:"6px"}}),J]}),m.jsx("button",{type:"submit",className:"auth-submit",disabled:oe,children:oe?"Registrando...":"Registrarme"})]})]})})};console.log("HEADER RENDER");const jN=()=>{const[i,e]=O.useState(!1),[n,s]=O.useState(!1),[o,c]=O.useState(!1),{currentUser:h,userData:p}=kc();O.useEffect(()=>{const L=()=>{s(!0),document.body.style.overflow="hidden"};return window.addEventListener("openAuthModal",L),()=>{window.removeEventListener("openAuthModal",L)}},[]);const g=()=>{e(!i)},y=()=>{s(!0),document.body.style.overflow="hidden"},E=()=>{s(!1),document.body.style.overflow="auto"},b=async()=>{try{await n5(ac),c(!1)}catch(L){console.error("Error al cerrar sesin:",L)}},w=()=>!p||!p.nombres?"":p.nombres.split(" ")[0];return m.jsxs(m.Fragment,{children:[m.jsxs("nav",{className:"navbar",children:[m.jsx("div",{className:"container",children:m.jsxs("div",{className:"nav-container",children:[m.jsxs(Ts,{to:"/",className:"brand-container",children:[m.jsx("img",{src:"/img/YipiAs_logo.png",alt:"Icono YipiAs",className:"brand-icon"}),m.jsx("img",{src:"/img/banner.png",alt:"YipiAs",className:"brand-logo-wide"})]}),m.jsxs("div",{className:"nav-right",children:[h?m.jsxs("div",{className:"user-profile-wrapper",children:[m.jsxs("div",{className:"user-profile",onClick:()=>c(!o),children:[m.jsx(Sv,{size:24,className:"user-icon"}),m.jsx("span",{className:"user-name",children:w()})]}),o&&m.jsx("div",{className:"logout-menu",children:m.jsxs("button",{onClick:b,className:"logout-btn",children:[m.jsx(C4,{size:16}),m.jsx("span",{children:"Cerrar sesin"})]})})]}):m.jsx("button",{className:"user-btn",onClick:y,title:"Iniciar sesin / Registrarse",children:m.jsx(Sv,{size:28})}),m.jsxs("button",{className:`hamburger-btn ${i?"active":""}`,onClick:g,children:[m.jsx("span",{className:"hamburger-line"}),m.jsx("span",{className:"hamburger-line"}),m.jsx("span",{className:"hamburger-line"})]})]})]})}),m.jsx(ON,{isOpen:i,onClose:()=>e(!1)})]}),n&&m.jsx(Lg,{onClose:E,onSuccess:()=>{E()}})]})},MN=()=>{const i=e=>{e.preventDefault();const n=document.getElementById("reservas");n&&window.scrollTo({top:n.offsetTop-70,behavior:"smooth"})};return m.jsx("header",{className:"hero",style:{backgroundImage:"url('/img/piura_fondo.png')"},children:m.jsxs("div",{className:"container hero-content",children:[m.jsx("h1",{children:"Explora Piura en modo Premium"}),m.jsx("p",{className:"lead",children:"Traslados tursticos y en la ciudad. Reserva en segundos."}),m.jsx("a",{className:"btn btn-red",href:"#reservas",onClick:i,children:"Reservar ahora"})]})})},kN=()=>{const i=O.useRef(null),e=O.useRef(null),n=[{img:"catacaos.jpg",titulo:"Catacaos",desc:"Artesanas y gastronoma"},{img:"mancora.jpg",titulo:"Mncora",desc:"Playas, gastronoma y surf"},{img:"sechura.jpeg",titulo:"Sechura",desc:"Desierto y cultura"},{img:"punta-sal.jpg",titulo:"Punta Sal",desc:"Royal Decameron y ms"},{img:"vichayito.jpg",titulo:"Vichayito",desc:"Playas, hoteles y gastronoma"},{img:"zorritos.jpg",titulo:"Zorritos",desc:"Hotelera Playera y ms"},{img:"nuro.png",titulo:"rganos",desc:"El uro y ms playas"},{img:"morropon.jpg",titulo:"Huancabamba",desc:"Canchaque, Morropn y ms"}];return O.useEffect(()=>{const s=i.current;if(!s)return;const o=s.children;if(o.length===0)return;let c=0;const h=o[0]?.offsetWidth+16||276,p=(o.length-3)*h,g=()=>{s&&(c+=h,c>p&&(c=0),s.scrollTo({left:c,behavior:"smooth"}))};e.current=setInterval(g,3e3);const y=()=>{e.current&&clearInterval(e.current)},E=()=>{e.current&&clearInterval(e.current),e.current=setInterval(g,3e3)};return s.addEventListener("mouseenter",y),s.addEventListener("mouseleave",E),()=>{e.current&&clearInterval(e.current),s.removeEventListener("mouseenter",y),s.removeEventListener("mouseleave",E)}},[]),m.jsx("section",{id:"destinos",className:"section",children:m.jsxs("div",{className:"container",children:[m.jsx("h2",{children:"Algunos destinos"}),m.jsx("div",{className:"destinations-scroll",ref:i,"aria-label":"Carrusel de destinos",children:n.map((s,o)=>m.jsxs("div",{className:"dest-card",children:[m.jsx("img",{src:`/img/${s.img}`,alt:s.titulo}),m.jsxs("div",{className:"dest-info",children:[m.jsx("strong",{children:s.titulo}),m.jsx("span",{children:s.desc})]})]},o))})]})})},PN=()=>{const i=[{img:"callcenter.jpg",icon:m.jsx(T4,{size:22}),titulo:"Soporte 24/7",desc:"Optimizamos continuamente nuestro servicio con mejoras y contamos con especialistas a tu disposicin. Atencin las 24 horas del da."},{img:"profesionalidad.jpg",icon:m.jsx(V4,{size:22}),titulo:"Conductores Profesionales",desc:"Nuestros conductores cuentan con evaluaciones psicolgicas y verificaciones de antecedentes."},{img:"experiencia.jpeg",icon:m.jsx(k4,{size:22}),titulo:"25 Aos de Experiencia",desc:"Trabajamos para tu satisfaccin. Calidad, seguridad y experiencia que nos respaldan con ms de 25 aos en el mercado peruano."},{img:"modernidad.jpg",icon:m.jsx(NE,{size:22}),titulo:"Flota Moderna",desc:"Vehculos de ltima generacin, con un mximo de 5 aos de antigedad y equipados con aire acondicionado."}];return m.jsx("section",{id:"servicios",className:"section servicios",children:m.jsxs("div",{className:"container",children:[m.jsx("h2",{className:"section-title",children:"Nuestros Servicios"}),m.jsx("p",{className:"section-subtitle",children:"Conoce por qu somos la mejor opcin para tus viajes"}),m.jsx("div",{className:"servicios-grid",children:i.map((e,n)=>m.jsxs("div",{className:"servicio-card con-imagen-lateral",children:[m.jsx("div",{className:"servicio-imagen-lateral",children:m.jsx("img",{src:`/img/${e.img}`,alt:e.titulo})}),m.jsxs("div",{className:"servicio-contenido-lateral",children:[m.jsx("div",{className:"servicio-icon-wrapper",children:m.jsx("div",{className:"servicio-icon",children:e.icon})}),m.jsx("h3",{children:e.titulo}),m.jsx("p",{children:e.desc})]})]},n))})]})})},VN=()=>{O.useEffect(()=>{const i=e=>{const n=e.target.closest(".clear-input");if(!n)return;const s=n.getAttribute("data-target");if(!s)return;const o=document.getElementById(s);if(o){if(o.value="",s.includes("HoraInput")){const c=s.replace("Input","Inicio"),h=document.getElementById(c);h&&(h.value="")}o.dispatchEvent(new Event("change",{bubbles:!0})),o.dispatchEvent(new Event("input",{bubbles:!0}))}};return document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}},[])},LN=()=>{O.useEffect(()=>{const i=()=>{const o=new Date,c=o.getFullYear(),h=String(o.getMonth()+1).padStart(2,"0"),p=String(o.getDate()).padStart(2,"0");return`${c}-${h}-${p}`},e=o=>{if(!o)return;const c=i();o.min=c,o.value||(o.value=c),o.addEventListener("keydown",h=>(h.preventDefault(),!1)),o.addEventListener("click",()=>{o.showPicker()})};document.querySelectorAll('input[type="date"]').forEach(e);const s=new MutationObserver(()=>{document.querySelectorAll('input[type="date"]:not([data-fecha-configurado])').forEach(c=>{c.setAttribute("data-fecha-configurado","true"),e(c)})});return s.observe(document.body,{childList:!0,subtree:!0}),()=>{s.disconnect()}},[])};function Rb(i){return/^([0-1][0-9]|2[0-3]):([0-5][0-9])$/.test(i)}function UN(i,e){if(!i||!e)return{valido:!1,mensaje:"Por favor selecciona fecha y hora"};if(!Rb(e))return{valido:!1,mensaje:"Formato de hora invlido. Use HH:MM (formato 24h)"};const[n,s,o]=i.split("-").map(Number),[c,h]=e.split(":").map(Number),p=new Date(n,s-1,o,c,h,0),g=new Date,y=Math.floor((p-g)/6e4);return console.log("Fecha seleccionada:",p),console.log("Ahora:",g),console.log("Diferencia minutos:",y),y<30?{valido:!1,mensaje:` La hora debe ser al menos 30 minutos mayor a la hora actual.
Faltan ${30-y} minutos.`}:{valido:!0,mensaje:""}}const zN=()=>{const i=O.useCallback(o=>Rb(o),[]),e=O.useCallback((o,c)=>{if(!o||!c)return alert("Por favor selecciona fecha y hora"),!1;const h=UN(o,c);return h.valido?!0:(alert(h.mensaje),!1)},[]),n=O.useCallback(o=>o>6?(alert("El nmero mximo de pasajeros es 6"),!1):o<1?(alert("El nmero mnimo de pasajeros es 1"),!1):!0,[]),s=O.useCallback(o=>{for(let[c,h]of Object.entries(o))if(!h||h.trim()==="")return alert(`El campo ${c} es obligatorio`),!1;return!0},[]);return{validarHora:i,validarFechaHoraReserva:e,validarPasajeros:n,validarCampos:s}},BN=()=>({obtenerUbicacionActual:O.useCallback((e,n,s)=>new Promise((o,c)=>{if(!navigator.geolocation){alert("Tu navegador no soporta geolocalizacin"),c(new Error("Geolocalizacin no soportada"));return}n&&(n.classList.add("loading"),n.style.pointerEvents="none"),navigator.geolocation.getCurrentPosition(async h=>{const p={lat:h.coords.latitude,lng:h.coords.longitude};try{new window.google.maps.Geocoder().geocode({location:p},(y,E)=>{if(n&&(n.classList.remove("loading"),n.style.pointerEvents="auto"),E==="OK"&&y[0]){const b=y[0].formatted_address;e&&(e.value=b),s&&(s.setCenter(p),s.setZoom(15)),o({address:b,location:p})}else alert("No se pudo obtener la direccin de tu ubicacin"),c(new Error("No se pudo obtener la direccin"))})}catch(g){n&&(n.classList.remove("loading"),n.style.pointerEvents="auto"),alert("Error al procesar tu ubicacin"),c(g)}},h=>{n&&(n.classList.remove("loading"),n.style.pointerEvents="auto");let p="Error al obtener tu ubicacin: ";switch(h.code){case h.PERMISSION_DENIED:p+="Permiso denegado. Por favor activa la ubicacin.";break;case h.POSITION_UNAVAILABLE:p+="Informacin de ubicacin no disponible.";break;case h.TIMEOUT:p+="Tiempo de espera agotado.";break;default:p+="Error desconocido."}alert(p),c(h)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),[])}),HN=()=>{const[i,e]=O.useState(!1),[n,s]=O.useState(!1),[o,c]=O.useState(!1),[h,p]=O.useState(!1);return O.useEffect(()=>{const L=sessionStorage.getItem("mostroExplicacionProgramada"),U=sessionStorage.getItem("mostroExplicacionHoras");L&&console.log("Modal programada ya mostrado en esta sesin"),U&&console.log("Modal horas ya mostrado en esta sesin")},[]),{modalExplicacionProgramada:i,modalExplicacionHoras:n,modalConfirmacionProgramada:o,modalConfirmacionHoras:h,mostrarExplicacionProgramada:()=>{sessionStorage.getItem("mostroExplicacionProgramada")||(e(!0),sessionStorage.setItem("mostroExplicacionProgramada","true"))},mostrarExplicacionPorHoras:()=>{sessionStorage.getItem("mostroExplicacionHoras")||(s(!0),sessionStorage.setItem("mostroExplicacionHoras","true"))},mostrarConfirmacionProgramada:()=>{c(!0)},mostrarConfirmacionHoras:()=>{p(!0)},cerrarModales:()=>{e(!1),s(!1),c(!1),p(!1)}}},qN=()=>({guardarReservaProgramada:async n=>{try{const s={tipoReserva:"programada",fechaReserva:Tp(),email:n.email||"",nombreCompleto:n.nombreCompleto||"",lugarRecojo:n.lugarRecojo||"",destino:n.destino||"",fechaViaje:n.fechaViaje||"",horaInicio:n.horaInicio||"",horaOriginal:n.horaOriginal||"",pasajeros:n.pasajeros||1,distancia:n.distancia||"",precio:n.precio||"S/ 0.00",recojoLat:n.recojoLat||null,recojoLng:n.recojoLng||null,destinoLat:n.destinoLat||null,destinoLng:n.destinoLng||null,mapsLink:n.mapsLink||null,estado:"pendiente"},o=await bp(Es(Hi,"reservas"),s);return console.log(" Reserva programada guardada en Firebase con ID:",o.id),{success:!0,id:o.id}}catch(s){return console.error(" Error al guardar en Firebase:",s),alert("Reserva recibida, pero hubo un problema tcnico. Te contactaremos igualmente."),{success:!1,error:s}}},guardarReservaHoras:async n=>{try{const s={tipoReserva:"horas",fechaReserva:Tp(),email:n.email||"",nombreCompleto:n.nombreCompleto||"",lugarRecojo:n.lugarRecojo||"",fechaServicio:n.fechaServicio||"",horaInicio:n.horaInicio||"",horaOriginal:n.horaOriginal||"",horasContratadas:n.horasContratadas||1,pasajeros:n.pasajeros||1,precio:n.precio||"S/ 38.00",recojoLat:n.recojoLat||null,recojoLng:n.recojoLng||null,mapsLink:n.mapsLink||null,estado:"pendiente"},o=await bp(Es(Hi,"reservas"),s);return console.log(" Reserva por horas guardada en Firebase con ID:",o.id),{success:!0,id:o.id}}catch(s){return console.error(" Error al guardar en Firebase:",s),alert("Reserva recibida, pero hubo un problema tcnico. Te contactaremos igualmente."),{success:!1,error:s}}}}),lE=()=>{const[i,e]=O.useState("AM");return{ampm:i,setAmpm:e,formatearHoraParaFirebase:(s,o)=>{if(!s)return"";const[c,h]=s.split(":");let p=parseInt(c);return o==="PM"&&p<12&&(p+=12),o==="AM"&&p===12&&(p=0),`${p.toString().padStart(2,"0")}:${h}`}}},Cb=({value:i,onChange:e,ampm:n,onAmpmChange:s,id:o})=>{const c=O.useRef(null),h=()=>{if(!i)return;let g=i.trim();if(/^\d+$/.test(g)){if(g.length===1)g=`0${g}:00`;else if(g.length===2)g=`${g}:00`;else if(g.length===3){const y=g.substring(0,1),E=g.substring(1,3);E<=59&&(g=`0${y}:${E}`)}else if(g.length===4){const y=g.substring(0,2),E=g.substring(2,4);E<=59&&(g=`${y}:${E}`)}}else if(g.includes(" ")){const y=g.split(" ").filter(E=>E.trim()!=="");if(y.length===2){let E=y[0],b=y[1];b=b.replace(/[^\d]/g,""),E.length===1&&(E=`0${E}`),b.length===1&&(b=`${b}0`),E<=23&&b<=59&&b.length===2&&(g=`${E}:${b}`)}}else if(/[.,]/.test(g)){const y=g.includes(".")?".":",",E=g.split(y);if(E.length===2){let b=E[0].trim(),w=E[1].trim();b.length===1&&(b=`0${b}`),w.length===1&&(w=`${w}0`),b<=23&&w<=59&&w.length===2&&(g=`${b}:${w}`)}}else if(/^\d:\d{2}$/.test(g)){const[y,E]=g.split(":");y>=0&&y<=23&&E<=59&&(g=`${y.padStart(2,"0")}:${E}`)}else if(/^\d{2}:\d$/.test(g)){const[y,E]=g.split(":"),b=parseInt(E);y<=23&&b<=5?g=`${y}:${E}0`:y<=23&&b>5&&(g=`${y}:${E}`)}e(g)},p=g=>{g.key==="Enter"&&(g.preventDefault(),h(),c.current&&c.current.blur())};return m.jsx("div",{className:"time-picker-ampm",children:m.jsxs("div",{className:"time-input-group",children:[m.jsx("input",{ref:c,type:"text",className:"input time-input",placeholder:"HH:MM",maxLength:"5",value:i,onChange:g=>e(g.target.value),onBlur:h,onKeyDown:p,id:o}),m.jsxs("div",{className:"ampm-buttons",children:[m.jsx("button",{type:"button",className:`ampm-btn ${n==="AM"?"active":""}`,onClick:()=>s("AM"),children:"AM"}),m.jsx("button",{type:"button",className:`ampm-btn ${n==="PM"?"active":""}`,onClick:()=>s("PM"),children:"PM"})]})]})})},FN=({pickupAddress:i,dropoffAddress:e,setPickupAddress:n,setDropoffAddress:s,onSelectInMap:o,onReservar:c,onUbicacionActual:h,activeMode:p,horaValue:g,onHoraChange:y,ampm:E,onAmpmChange:b,markers:w,setMarkers:L})=>{const U=J=>{const ie=J.target.value;n(ie),ie===""&&w?.pickup&&(w.pickup.setMap(null),L(oe=>({...oe,pickup:null})))},B=J=>{const ie=J.target.value;s(ie),ie===""&&w?.dropoff&&(w.dropoff.setMap(null),L(oe=>({...oe,dropoff:null})))},V=()=>{n(""),w?.pickup&&(w.pickup.setMap(null),L(J=>({...J,pickup:null})))},X=()=>{s(""),w?.dropoff&&(w.dropoff.setMap(null),L(J=>({...J,dropoff:null})))};return m.jsxs("div",{className:"form programada-form",children:[m.jsxs("div",{className:"input-wrapper",children:[m.jsx("label",{children:"Lugar de recojo"}),m.jsx("input",{type:"text",className:"input",placeholder:"Escribe o selecciona en el mapa",value:i,id:"pickup",onChange:U}),m.jsx("span",{className:"clear-input",onClick:V,children:""})]}),m.jsxs("button",{type:"button",className:`select-map-btn ${p==="pickup"?"active-mode":""}`,onClick:()=>o("pickup"),children:[m.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),m.jsx("circle",{cx:"12",cy:"10",r:"3"}),m.jsx("path",{d:"M12 2v2M12 18v2M4 10h2M18 10h2"})]}),m.jsx("span",{children:"Seleccionar en mapa"})]}),m.jsxs("button",{type:"button",className:"current-location-btn",onClick:J=>h(J.currentTarget),children:[m.jsxs("svg",{className:"location-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),m.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),m.jsx("span",{children:"Usar mi ubicacin actual"})]}),m.jsxs("div",{className:"input-wrapper",children:[m.jsx("label",{children:"Destino final"}),m.jsx("input",{type:"text",className:"input",placeholder:"Escribe o selecciona en el mapa",value:e,id:"dropoff",onChange:B}),m.jsx("span",{className:"clear-input",onClick:X,children:""})]}),m.jsxs("button",{type:"button",className:`select-map-btn ${p==="dropoff"?"active-mode":""}`,onClick:()=>o("dropoff"),children:[m.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),m.jsx("circle",{cx:"12",cy:"10",r:"3"}),m.jsx("path",{d:"M12 2v2M12 18v2M4 10h2M18 10h2"})]}),m.jsx("span",{children:"Seleccionar en mapa"})]}),m.jsxs("div",{className:"row-grid",children:[m.jsxs("div",{className:"input-wrapper",children:[m.jsx("label",{children:"Fecha del viaje"}),m.jsx("input",{type:"date",className:"input",id:"progFecha"})]}),m.jsx(Cb,{value:g,onChange:y,ampm:E,onAmpmChange:b,id:"progHoraInput"}),m.jsx("input",{type:"hidden",id:"progHoraInicio"})]}),m.jsxs("div",{className:"input-wrapper",children:[m.jsx("label",{children:"Nmero de pasajeros (mx. 6)"}),m.jsx("input",{type:"number",min:"1",max:"6",defaultValue:"1",className:"input",id:"progPax"}),m.jsx("span",{className:"clear-input","data-target":"progPax",children:""})]}),m.jsxs("div",{className:"meta",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Distancia estimada:"})," ",m.jsx("span",{id:"progDistance",children:""})]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Precio estimado:"})," ",m.jsx("span",{className:"price",id:"progPrice",children:"S/ 0.00"})]})]}),m.jsx("div",{className:"actions",children:m.jsx("button",{type:"button",className:"btn success btn-block",id:"progReserveBtn",onClick:c,children:"Reservar"})})]})},GN=({horasAddress:i,setHorasAddress:e,onSelectInMap:n,onReservar:s,onUbicacionActual:o,activeMode:c,horaValue:h,onHoraChange:p,ampm:g,onAmpmChange:y,markers:E,setMarkers:b})=>{const w=U=>{const B=U.target.value;e(B),B===""&&E?.horas&&(E.horas.setMap(null),b(V=>({...V,horas:null})))},L=()=>{e(""),E?.horas&&(E.horas.setMap(null),b(U=>({...U,horas:null})))};return m.jsxs("div",{className:"form horas-form",children:[m.jsxs("div",{className:"input-wrapper",children:[m.jsx("label",{children:"Lugar de recojo"}),m.jsx("input",{type:"text",className:"input",placeholder:"Escribe o selecciona en el mapa",value:i,id:"horasRecojo",onChange:w}),m.jsx("span",{className:"clear-input",onClick:L,children:""})]}),m.jsxs("button",{type:"button",className:`select-map-btn ${c==="horas"?"active-mode":""}`,onClick:()=>n("horas"),children:[m.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),m.jsx("circle",{cx:"12",cy:"10",r:"3"}),m.jsx("path",{d:"M12 2v2M12 18v2M4 10h2M18 10h2"})]}),m.jsx("span",{children:"Seleccionar en mapa"})]}),m.jsxs("button",{type:"button",className:"current-location-btn",onClick:U=>o(U.currentTarget),children:[m.jsxs("svg",{className:"location-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),m.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),m.jsx("span",{children:"Usar mi ubicacin actual"})]}),m.jsxs("div",{className:"row-grid",children:[m.jsxs("div",{className:"input-wrapper",children:[m.jsx("label",{children:"Fecha del servicio"}),m.jsx("input",{type:"date",className:"input",id:"horasFecha"})]}),m.jsx(Cb,{value:h,onChange:p,ampm:g,onAmpmChange:y,id:"horasHoraInput"}),m.jsx("input",{type:"hidden",id:"horasHoraInicio"})]}),m.jsxs("div",{className:"input-wrapper",children:[m.jsx("label",{children:"Horas a contratar"}),m.jsxs("select",{className:"input",id:"horasCantidad",children:[m.jsx("option",{value:"1",selected:!0,children:"1 hora"}),m.jsx("option",{value:"2",children:"2 horas"}),m.jsx("option",{value:"3",children:"3 horas"}),m.jsx("option",{value:"4",children:"4 horas"}),m.jsx("option",{value:"5",children:"5 horas"}),m.jsx("option",{value:"6",children:"6 horas"}),m.jsx("option",{value:"7",children:"7 horas"}),m.jsx("option",{value:"8",children:"8 horas"}),m.jsx("option",{value:"9",children:"9 horas"}),m.jsx("option",{value:"10",children:"10 horas"}),m.jsx("option",{value:"11",children:"11 horas"}),m.jsx("option",{value:"12",children:"12 horas"})]})]}),m.jsxs("div",{className:"input-wrapper",children:[m.jsx("label",{children:"Nmero de pasajeros (mx. 6)"}),m.jsx("input",{type:"number",min:"1",max:"6",defaultValue:"1",className:"input",id:"horasPax"}),m.jsx("span",{className:"clear-input","data-target":"horasPax",children:""})]}),m.jsx("div",{className:"meta",children:m.jsxs("div",{children:[m.jsx("strong",{children:"Precio estimado:"})," ",m.jsx("span",{className:"price",id:"horasPrice",children:"S/ 38.00"})]})}),m.jsx("div",{className:"actions",children:m.jsx("button",{type:"button",className:"btn success btn-block",id:"horasReserveBtn",onClick:s,children:"Reservar"})})]})},Ug="51904635462",YN="AIzaSyCP3jgrVjb4nKEoiJM9-yPaM30hPgKmWls",$N=({onMapReady:i,onMapClick:e,selectedInput:n})=>{const s=O.useRef(null),o=O.useRef(null),c=O.useRef(null),h=O.useRef(null);return O.useEffect(()=>{if(window.initMap=function(){if(!o.current)return;const p={lat:-5.1945,lng:-80.6328},g=new window.google.maps.Map(o.current,{center:p,zoom:11,styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]}],mapTypeControl:!1,fullscreenControl:!0,streetViewControl:!1});s.current=g,window.map=g,navigator.geolocation?navigator.geolocation.getCurrentPosition(y=>{const E={lat:y.coords.latitude,lng:y.coords.longitude};g.setCenter(E),g.setZoom(15),h.current&&h.current.setMap(null),h.current=new window.google.maps.Marker({position:E,map:g,title:"Tu ubicacin",icon:{url:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png",scaledSize:new window.google.maps.Size(30,30)},label:{}})},y=>{console.log("No se pudo obtener la ubicacin:",y),g.setCenter(p)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):(console.log("Geolocalizacin no soportada"),g.setCenter(p)),i&&i(g)},document.querySelector('script[src*="maps.googleapis"]'))window.google&&window.initMap();else{const p=document.createElement("script");p.src=`https://maps.googleapis.com/maps/api/js?key=${YN}&libraries=places&callback=initMap`,p.async=!0,p.defer=!0,document.head.appendChild(p)}return()=>{h.current&&h.current.setMap(null)}},[]),O.useEffect(()=>{if(!(!s.current||!window.google))return c.current&&window.google.maps.event.removeListener(c.current),n?(s.current.setOptions({draggableCursor:"crosshair"}),c.current=s.current.addListener("click",p=>{const g=p.latLng.lat(),y=p.latLng.lng(),E={lat:g,lng:y};new window.google.maps.Geocoder().geocode({location:E},(w,L)=>{if(L==="OK"&&w[0]){const U=w[0].formatted_address,B=w[0].name||null;e&&e(n,U,E,B)}else alert("No se pudo obtener la direccin")}),s.current.setOptions({draggableCursor:null})})):s.current&&s.current.setOptions({draggableCursor:null}),()=>{c.current&&window.google.maps.event.removeListener(c.current)}},[n,e]),m.jsx("div",{ref:o,style:{width:"100%",height:"100%"}})},KN=({onClose:i})=>m.jsx("div",{className:"modal",style:{display:"block"},onClick:i,children:m.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("span",{className:"modal-close",onClick:i,children:""}),m.jsx("div",{className:"modal-icon",children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),m.jsx("h3",{children:"Reserva de un punto a punto"})]}),m.jsxs("div",{className:"modal-body",children:[m.jsx("p",{children:"Este tipo de reserva te permite programar un viaje con:"}),m.jsx("p",{className:"modal-mensaje",children:" Destino especfico (puede ser fuera de Piura)"}),m.jsx("p",{className:"modal-mensaje",children:" Fecha y hora exacta"}),m.jsx("p",{className:"modal-mensaje",children:" Tarifa segn kilometraje"}),m.jsx("p",{className:"modal-consulta",children:"El precio se calcula en base a la distancia y nmero de pasajeros."}),m.jsx("p",{className:"modal-consulta",children:"Mnimo 30 minutos de anticipacin."}),m.jsx("button",{className:"btn modal-close-btn",onClick:i,children:"Entendido"})]})]})}),QN=({onClose:i})=>m.jsx("div",{className:"modal",style:{display:"block"},onClick:i,children:m.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("span",{className:"modal-close",onClick:i,children:""}),m.jsx("div",{className:"modal-icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),m.jsx("h3",{children:"Reserva por horas"})]}),m.jsxs("div",{className:"modal-body",children:[m.jsx("p",{children:"Ideal para recorridos dentro de la ciudad:"}),m.jsx("p",{className:"modal-mensaje",children:" Contratas el vehculo por horas"}),m.jsx("p",{className:"modal-mensaje",children:" Vlido solo en zonas urbanas"}),m.jsx("p",{className:"modal-mensaje",children:" Mximo 20 km por hora"}),m.jsx("p",{className:"modal-consulta",children:"Pasados los 30 minutos se considera hora completa."}),m.jsx("p",{className:"modal-consulta",children:"Kilmetro adicional: S/3.00"}),m.jsx("button",{className:"btn modal-close-btn",onClick:i,children:"Entendido"})]})]})}),XN=({onClose:i})=>{const e=()=>{window.open(`https://wa.me/${Ug.replace(/\D/g,"")}?text=${encodeURIComponent("Hola! Quiero hacer una consulta sobre mi reserva en YipiAs.")}`,"_blank"),i()};return m.jsx("div",{className:"modal",style:{display:"block"},onClick:i,children:m.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("span",{className:"modal-close",onClick:i,children:""}),m.jsx("div",{className:"modal-icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),m.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),m.jsx("h3",{children:"Reserva confirmada!"})]}),m.jsxs("div",{className:"modal-body",children:[m.jsx("p",{children:"Tu reserva se ha realizado correctamente."}),m.jsx("p",{className:"modal-mensaje",children:"Nos estaremos poniendo en contacto contigo en la brevedad del tiempo para confirmar los detalles."}),m.jsx("p",{className:"modal-consulta",children:"Puedes revisar el estado de tu reserva en cualquier momento en tu historial."}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem",marginTop:"1rem"},children:[m.jsxs(Ts,{to:"/mis-reservas",className:"btn-historial",onClick:i,children:[m.jsx(DE,{size:18}),"Ver historial de reservas"]}),m.jsxs("button",{className:"modal-whatsapp-btn",onClick:e,style:{marginTop:0},children:[m.jsx(OE,{size:18}),"Contactar por WhatsApp"]})]})]})]})})},WN=({onClose:i})=>{const e=()=>{window.open(`https://wa.me/${Ug.replace(/\D/g,"")}?text=${encodeURIComponent("Hola! Quiero hacer una consulta sobre mi reserva por horas en YipiAs.")}`,"_blank"),i()};return m.jsx("div",{className:"modal",style:{display:"block"},onClick:i,children:m.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("span",{className:"modal-close",onClick:i,children:""}),m.jsx("div",{className:"modal-icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),m.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),m.jsx("h3",{children:"Reserva confirmada!"})]}),m.jsxs("div",{className:"modal-body",children:[m.jsx("p",{children:"Tu reserva por horas se ha realizado correctamente."}),m.jsx("p",{className:"modal-mensaje",children:"Nos estaremos poniendo en contacto contigo en la brevedad del tiempo para confirmar los detalles."}),m.jsx("p",{className:"modal-consulta",children:"Puedes revisar el estado de tu reserva en cualquier momento en tu historial."}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem",marginTop:"1rem"},children:[m.jsxs(Ts,{to:"/mis-reservas",className:"btn-historial",onClick:i,children:[m.jsx(DE,{size:18}),"Ver historial de reservas"]}),m.jsxs("button",{className:"modal-whatsapp-btn",onClick:e,style:{marginTop:0},children:[m.jsx(OE,{size:18}),"Contactar por WhatsApp"]})]})]})]})})},Qm=[[0,10,13],[1,10,13],[2,10,13],[3,10,13],[4,15,18],[5,19,23],[6,23,27],[7,27,31],[8,31,35],[9,35,39],[10,38,42],[11,41,45],[12,43,48],[13,45,50],[14,47,52],[15,40,45],[16,43,48],[17,46,51],[18,48,53],[19,51,56],[20,51,56],[21,54,61],[22,56,63],[23,59,66],[24,61,68],[25,64,71],[26,67,74],[27,69,76],[28,72,79],[29,74,81],[30,77,84],[31,75,85],[32,78,88],[33,80,90],[34,83,93],[35,85,95],[36,88,98],[37,90,100],[38,92,102],[39,95,105],[40,97,117],[41,94,114],[42,97,117],[43,99,119],[44,101,121],[45,104,124],[46,106,126],[47,108,128],[48,111,131],[49,113,133],[50,115,135],[51,111,131],[52,113,133],[53,115,135],[54,118,138],[55,120,140],[56,122,142],[57,124,144],[58,126,146],[59,128,148],[60,131,151],[61,133,153],[62,135,155],[63,137,157],[64,139,159],[65,141,161],[66,144,164],[67,146,166],[68,148,168],[69,150,170],[70,152,172],[71,154,174],[72,157,177],[73,159,179],[74,161,181],[75,163,183],[76,165,185],[77,168,188],[78,170,190],[79,172,192],[80,174,194],[81,176,196],[82,178,198],[83,181,201],[84,183,203],[85,185,205],[86,187,207],[87,189,209],[88,191,211],[89,194,214],[90,196,216],[91,198,218],[92,200,220],[93,202,222],[94,205,225],[95,207,227],[96,209,229],[97,211,231],[98,213,233],[99,215,235],[100,218,238],[101,207,227],[102,209,229],[103,211,231],[104,213,233],[105,215,235],[106,217,237],[107,219,239],[108,221,241],[109,223,243],[110,225,245],[111,227,247],[112,229,249],[113,231,251],[114,233,253],[115,236,256],[116,238,258],[117,240,260],[118,242,262],[119,244,264],[120,246,266],[121,248,268],[122,250,270],[123,252,272],[124,254,274],[125,256,276],[126,258,278],[127,260,280],[128,262,282],[129,264,284],[130,266,286],[131,268,288],[132,270,290],[133,272,292],[134,274,294],[135,276,296],[136,279,299],[137,281,301],[138,283,303],[139,285,305],[140,287,307],[141,289,309],[142,291,311],[143,293,313],[144,295,315],[145,297,317],[146,299,319],[147,301,321],[148,303,323],[149,305,325],[150,307,327],[151,290,310],[152,292,312],[153,294,314],[154,296,316],[155,298,318],[156,300,320],[157,301,321],[158,303,323],[159,305,325],[160,307,327],[161,309,329],[162,311,331],[163,313,333],[164,315,335],[165,317,337],[166,319,339],[167,321,341],[168,323,343],[169,324,344],[170,326,346],[171,328,348],[172,330,350],[173,332,352],[174,334,354],[175,336,356],[176,338,358],[177,340,360],[178,342,362],[179,344,364],[180,346,366],[181,348,368],[182,349,369],[183,351,371],[184,353,373],[185,355,375],[186,357,377],[187,359,379],[188,361,381],[189,363,383],[190,365,385],[191,367,387],[192,369,389],[193,371,391],[194,372,392],[195,374,394],[196,376,396],[197,378,398],[198,380,400],[199,382,402],[200,384,414],[201,386,416],[202,388,418],[203,390,420],[204,392,422],[205,394,424],[206,396,426],[207,397,427],[208,399,429],[209,401,431],[210,403,433],[211,405,435],[212,407,437],[213,409,439],[214,411,441],[215,413,443],[216,415,445],[217,417,447],[218,419,449],[219,420,450],[220,422,452],[221,424,454],[222,426,456],[223,428,458],[224,430,460],[225,432,462],[226,434,464],[227,436,466],[228,438,468],[229,440,470],[230,442,472],[231,444,474],[232,445,475],[233,447,477],[234,449,479],[235,451,481],[236,453,483],[237,455,485],[238,457,487],[239,459,489],[240,461,491],[241,463,493],[242,465,495],[243,467,497],[244,468,498],[245,470,500],[246,472,502],[247,474,504],[248,476,506],[249,478,508],[250,480,510],[251,482,512],[252,484,514],[253,486,516],[254,488,518],[255,490,520],[256,492,522],[257,493,523],[258,495,525],[259,497,527],[260,499,529],[261,501,531],[262,503,533],[263,505,535],[264,507,537],[265,509,539],[266,511,541],[267,513,543],[268,515,545],[269,516,546],[270,518,548],[271,520,550],[272,522,552],[273,524,554],[274,526,556],[275,528,558],[276,530,560],[277,532,562],[278,534,564],[279,536,566],[280,538,568],[281,540,570],[282,541,571],[283,543,573],[284,545,575],[285,547,577],[286,549,579],[287,551,581],[288,553,583],[289,555,585],[290,557,587],[291,559,589],[292,561,591],[293,563,593],[294,564,594],[295,566,596],[296,568,598],[297,570,600],[298,572,602],[299,574,604],[300,576,606],[301,578,608],[302,580,610],[303,582,612],[304,584,614],[305,586,616],[306,588,618],[307,589,619],[308,591,621],[309,593,623],[310,595,625],[311,597,627],[312,599,629],[313,601,631],[314,603,633],[315,605,635],[316,607,637],[317,609,639],[318,611,641],[319,612,642],[320,614,644],[321,616,646],[322,618,648],[323,620,650],[324,622,652],[325,624,654],[326,626,656],[327,628,658],[328,630,660],[329,632,662],[330,634,664],[331,636,666],[332,637,667],[333,639,669],[334,641,671],[335,643,673],[336,645,675],[337,647,677],[338,649,679],[339,651,681],[340,653,683],[341,655,685],[342,657,687],[343,659,689],[344,660,690],[345,662,692],[346,664,694],[347,666,696],[348,668,698],[349,670,700],[350,672,702],[351,674,704],[352,676,706],[353,678,708],[354,680,710],[355,682,712],[356,684,714],[357,685,715],[358,687,717],[359,689,719],[360,691,721],[361,693,723],[362,695,725],[363,697,727],[364,699,729],[365,701,731],[366,703,733],[367,705,735],[368,707,737],[369,708,738],[370,710,740],[371,712,742],[372,714,744],[373,716,746],[374,718,748],[375,720,750],[376,722,752],[377,724,754],[378,726,756],[379,728,758],[380,730,760],[381,732,762],[382,733,763],[383,735,765],[384,737,767],[385,739,769],[386,741,771],[387,743,773],[388,745,775],[389,747,777],[390,749,779],[391,751,781],[392,753,783],[393,755,785],[394,756,786],[395,758,788],[396,760,790],[397,762,792],[398,764,794],[399,766,796],[400,768,798],[401,770,800],[402,772,802],[403,774,804],[404,776,806],[405,778,808],[406,780,810],[407,781,811],[408,783,813],[409,785,815],[410,787,817],[411,789,819],[412,791,821],[413,793,823],[414,795,825],[415,797,827],[416,799,829],[417,801,831],[418,803,833],[419,804,834],[420,806,836],[421,808,838],[422,810,840],[423,812,842],[424,814,844],[425,816,846],[426,818,848],[427,820,850],[428,822,852],[429,824,854],[430,826,856],[431,828,858],[432,829,859],[433,831,861],[434,833,863],[435,835,865],[436,837,867],[437,839,869],[438,841,871],[439,843,873],[440,845,875],[441,847,877],[442,849,879],[443,851,881],[444,852,882],[445,854,884],[446,856,886],[447,858,888],[448,860,890],[449,862,892],[450,864,894],[451,866,896],[452,868,898],[453,870,900],[454,872,902],[455,874,904],[456,876,906],[457,877,907],[458,879,909],[459,881,911],[460,883,913],[461,885,915],[462,887,917],[463,889,919],[464,891,921],[465,893,923],[466,895,925],[467,897,927],[468,899,929],[469,900,930],[470,902,932],[471,904,934],[472,906,936],[473,908,938],[474,910,940],[475,912,942],[476,914,944],[477,916,946],[478,918,948],[479,920,950],[480,922,952],[481,924,954],[482,925,955],[483,927,957],[484,929,959],[485,931,961],[486,933,963],[487,935,965],[488,937,967],[489,939,969],[490,941,971],[491,943,973],[492,945,975],[493,947,977],[494,948,978],[495,950,980],[496,952,982],[497,954,984],[498,956,986],[499,958,988],[500,960,990],[501,962,992],[502,964,994],[503,966,996],[504,968,998],[505,970,1e3],[506,972,1002],[507,973,1003],[508,975,1005],[509,977,1007],[510,979,1009],[511,981,1011],[512,983,1013],[513,985,1015],[514,987,1017],[515,989,1019],[516,991,1021],[517,993,1023],[518,995,1025],[519,996,1026],[520,998,1028],[521,1e3,1030],[522,1002,1032],[523,1004,1034],[524,1006,1036],[525,1008,1038],[526,1010,1040],[527,1012,1042],[528,1014,1044],[529,1016,1046],[530,1018,1048],[531,1020,1050],[532,1021,1051],[533,1023,1053],[534,1025,1055],[535,1027,1057],[536,1029,1059],[537,1031,1061],[538,1033,1063],[539,1035,1065],[540,1037,1067],[541,1039,1069],[542,1041,1071],[543,1043,1073],[544,1044,1074],[545,1046,1076],[546,1048,1078],[547,1050,1080],[548,1052,1082],[549,1054,1084],[550,1056,1086],[551,1058,1088],[552,1060,1090],[553,1062,1092],[554,1064,1094],[555,1066,1096],[556,1068,1098],[557,1069,1099],[558,1071,1101],[559,1073,1103],[560,1075,1105],[561,1077,1107],[562,1079,1109],[563,1081,1111],[564,1083,1113],[565,1085,1115],[566,1087,1117],[567,1089,1119],[568,1091,1121],[569,1092,1122],[570,1094,1124],[571,1096,1126],[572,1098,1128],[573,1100,1130],[574,1102,1132],[575,1104,1134],[576,1106,1136],[577,1108,1138],[578,1110,1140],[579,1112,1142],[580,1114,1144],[581,1116,1146],[582,1117,1147],[583,1119,1149],[584,1121,1151],[585,1123,1153],[586,1125,1155],[587,1127,1157],[588,1129,1159],[589,1131,1161],[590,1133,1163],[591,1135,1165],[592,1137,1167],[593,1139,1169],[594,1140,1170],[595,1142,1172],[596,1144,1174],[597,1146,1176],[598,1148,1178],[599,1150,1180],[600,1152,1182],[601,1154,1184],[602,1156,1186],[603,1158,1188],[604,1160,1190],[605,1162,1192],[606,1164,1194],[607,1165,1195],[608,1167,1197],[609,1169,1199],[610,1171,1201],[611,1173,1203],[612,1175,1205],[613,1177,1207],[614,1179,1209],[615,1181,1211],[616,1183,1213],[617,1185,1215],[618,1187,1217],[619,1188,1218],[620,1190,1220],[621,1192,1222],[622,1194,1224],[623,1196,1226],[624,1198,1228],[625,1200,1230],[626,1202,1232],[627,1204,1234],[628,1206,1236],[629,1208,1238],[630,1210,1240],[631,1212,1242],[632,1213,1243],[633,1215,1245],[634,1217,1247],[635,1219,1249],[636,1221,1251],[637,1223,1253],[638,1225,1255],[639,1227,1257],[640,1229,1259],[641,1231,1261],[642,1233,1263],[643,1235,1265],[644,1236,1266],[645,1238,1268],[646,1240,1270],[647,1242,1272],[648,1244,1274],[649,1246,1276],[650,1248,1278],[651,1250,1280],[652,1252,1282],[653,1254,1284],[654,1256,1286],[655,1258,1288],[656,1260,1290],[657,1261,1291],[658,1263,1293],[659,1265,1295],[660,1267,1297],[661,1269,1299],[662,1271,1301],[663,1273,1303],[664,1275,1305],[665,1277,1307],[666,1279,1309],[667,1281,1311],[668,1283,1313],[669,1284,1314],[670,1286,1316],[671,1288,1318],[672,1290,1320],[673,1292,1322],[674,1294,1324],[675,1296,1326],[676,1298,1328],[677,1300,1330],[678,1302,1332],[679,1304,1334],[680,1306,1336],[681,1308,1338],[682,1309,1339],[683,1311,1341],[684,1313,1343],[685,1315,1345],[686,1317,1347],[687,1319,1349],[688,1321,1351],[689,1323,1353],[690,1325,1355],[691,1327,1357],[692,1329,1359],[693,1331,1361],[694,1332,1362],[695,1334,1364],[696,1336,1366],[697,1338,1368],[698,1340,1370],[699,1342,1372],[700,1344,1374],[701,1346,1376],[702,1348,1378],[703,1350,1380],[704,1352,1382],[705,1354,1384],[706,1356,1386],[707,1357,1387],[708,1359,1389],[709,1361,1391],[710,1363,1393],[711,1365,1395],[712,1367,1397],[713,1369,1399],[714,1371,1401],[715,1373,1403],[716,1375,1405],[717,1377,1407],[718,1379,1409],[719,1380,1410],[720,1382,1412],[721,1384,1414],[722,1386,1416],[723,1388,1418],[724,1390,1420],[725,1392,1422],[726,1394,1424],[727,1396,1426],[728,1398,1428],[729,1400,1430],[730,1402,1432],[731,1404,1434],[732,1405,1435],[733,1407,1437],[734,1409,1439],[735,1411,1441],[736,1413,1443],[737,1415,1445],[738,1417,1447],[739,1419,1449],[740,1421,1451],[741,1423,1453],[742,1425,1455],[743,1427,1457],[744,1428,1458],[745,1430,1460],[746,1432,1462],[747,1434,1464],[748,1436,1466],[749,1438,1468],[750,1440,1470],[751,1442,1472],[752,1444,1474],[753,1446,1476],[754,1448,1478],[755,1450,1480],[756,1452,1482],[757,1453,1483],[758,1455,1485],[759,1457,1487],[760,1459,1489],[761,1461,1491],[762,1463,1493],[763,1465,1495],[764,1467,1497],[765,1469,1499],[766,1471,1501],[767,1473,1503],[768,1475,1505],[769,1476,1506],[770,1478,1508],[771,1480,1510],[772,1482,1512],[773,1484,1514],[774,1486,1516],[775,1488,1518],[776,1490,1520],[777,1492,1522],[778,1494,1524],[779,1496,1526],[780,1498,1528],[781,1500,1530],[782,1501,1531],[783,1503,1533],[784,1505,1535],[785,1507,1537],[786,1509,1539],[787,1511,1541],[788,1513,1543],[789,1515,1545],[790,1517,1547],[791,1519,1549],[792,1521,1551],[793,1523,1553],[794,1524,1554],[795,1526,1556],[796,1528,1558],[797,1530,1560],[798,1532,1562],[799,1534,1564],[800,1536,1566],[801,1538,1568],[802,1540,1570],[803,1542,1572],[804,1544,1574],[805,1546,1576],[806,1548,1578],[807,1549,1579],[808,1551,1581],[809,1553,1583],[810,1555,1585],[811,1557,1587],[812,1559,1589],[813,1561,1591],[814,1563,1593],[815,1565,1595],[816,1567,1597],[817,1569,1599],[818,1571,1601],[819,1572,1602],[820,1574,1604],[821,1576,1606],[822,1578,1608],[823,1580,1610],[824,1582,1612],[825,1584,1614],[826,1586,1616],[827,1588,1618],[828,1590,1620],[829,1592,1622],[830,1594,1624],[831,1596,1626],[832,1597,1627],[833,1599,1629],[834,1601,1631],[835,1603,1633],[836,1605,1635],[837,1607,1637],[838,1609,1639],[839,1611,1641],[840,1613,1643],[841,1615,1645],[842,1617,1647],[843,1619,1649],[844,1620,1650],[845,1622,1652],[846,1624,1654],[847,1626,1656],[848,1628,1658],[849,1630,1660],[850,1632,1662],[851,1634,1664],[852,1636,1666],[853,1638,1668],[854,1640,1670],[855,1642,1672],[856,1644,1674],[857,1645,1675],[858,1647,1677],[859,1649,1679],[860,1651,1681],[861,1653,1683],[862,1655,1685],[863,1657,1687],[864,1659,1689],[865,1661,1691],[866,1663,1693],[867,1665,1695],[868,1667,1697],[869,1668,1698],[870,1670,1700],[871,1672,1702],[872,1674,1704],[873,1676,1706],[874,1678,1708],[875,1680,1710],[876,1682,1712],[877,1684,1714],[878,1686,1716],[879,1688,1718],[880,1690,1720],[881,1692,1722],[882,1693,1723],[883,1695,1725],[884,1697,1727],[885,1699,1729],[886,1701,1731],[887,1703,1733],[888,1705,1735],[889,1707,1737],[890,1709,1739],[891,1711,1741],[892,1713,1743],[893,1715,1745],[894,1716,1746],[895,1718,1748],[896,1720,1750],[897,1722,1752],[898,1724,1754],[899,1726,1756],[900,1728,1758],[901,1730,1760],[902,1732,1762],[903,1734,1764],[904,1736,1766],[905,1738,1768],[906,1740,1770],[907,1741,1771],[908,1743,1773],[909,1745,1775],[910,1747,1777],[911,1749,1779],[912,1751,1781],[913,1753,1783],[914,1755,1785],[915,1757,1787],[916,1759,1789],[917,1761,1791],[918,1763,1793],[919,1764,1794],[920,1766,1796],[921,1768,1798],[922,1770,1800],[923,1772,1802],[924,1774,1804],[925,1776,1806],[926,1778,1808],[927,1780,1810],[928,1782,1812],[929,1784,1814],[930,1786,1816],[931,1788,1818],[932,1789,1819],[933,1791,1821],[934,1793,1823],[935,1795,1825],[936,1797,1827],[937,1799,1829],[938,1801,1831],[939,1803,1833],[940,1805,1835],[941,1807,1837],[942,1809,1839],[943,1811,1841],[944,1812,1842],[945,1814,1844],[946,1816,1846],[947,1818,1848],[948,1820,1850],[949,1822,1852],[950,1824,1854],[951,1826,1856],[952,1828,1858],[953,1830,1860],[954,1832,1862],[955,1834,1864],[956,1836,1866],[957,1837,1867],[958,1839,1869],[959,1841,1871],[960,1843,1873],[961,1845,1875],[962,1847,1877],[963,1849,1879],[964,1851,1881],[965,1853,1883],[966,1855,1885],[967,1857,1887],[968,1859,1889],[969,1860,1890],[970,1862,1892],[971,1864,1894],[972,1866,1896],[973,1868,1898],[974,1870,1900],[975,1872,1902],[976,1874,1904],[977,1876,1906],[978,1878,1908],[979,1880,1910],[980,1882,1912],[981,1884,1914],[982,1885,1915],[983,1887,1917],[984,1889,1919],[985,1891,1921],[986,1893,1923],[987,1895,1925],[988,1897,1927],[989,1899,1929],[990,1901,1931],[991,1903,1933],[992,1905,1935],[993,1907,1937],[994,1908,1938],[995,1910,1940],[996,1912,1942],[997,1914,1944],[998,1916,1946],[999,1918,1948],[1e3,1920,1950]],JN=[[1,38,43],[2,77,82],[3,108,113],[4,143,148],[5,179,184],[6,207,212],[7,242,247],[8,276,281],[9,300,305],[10,333,338],[11,366,371],[12,384,389]];function ZN(i){return i-Math.floor(i)>=.5?Math.ceil(i):Math.floor(i)}function cE(i,e){if(e>6)throw new Error("El nmero mximo de pasajeros es 6");const n=e<=4?1:2,s=ZN(i);if(s>1e3)return Qm[Qm.length-1][n];const o=Qm.find(c=>c[0]===s);return o?o[n]:null}function e8(i,e){if(e>6)throw new Error("El nmero mximo de pasajeros es 6");const n=e<=4?1:2,s=JN.find(o=>o[0]===i);return s?s[n]:null}const t8=()=>{VN(),LN(),zN();const{obtenerUbicacionActual:i}=BN(),e=HN(),{guardarReservaProgramada:n,guardarReservaHoras:s}=qN(),{currentUser:o}=kc(),[c,h]=O.useState(""),[p,g]=O.useState(null),[y,E]=O.useState(null),[b,w]=O.useState(!1),[L,U]=O.useState(""),[B,V]=O.useState(""),[X,J]=O.useState(""),[ie,oe]=O.useState(null),[ce,ve]=O.useState(null),[x,R]=O.useState(null),[I,k]=O.useState({pickup:null,dropoff:null,horas:null}),{ampm:D,setAmpm:P,formatearHoraParaFirebase:C}=lE(),{ampm:Oe,setAmpm:Ve}=lE(),[K,se]=O.useState(""),[ge,Le]=O.useState(""),je=O.useRef(null),j=O.useRef(null),Q=O.useRef({pickup:null,dropoff:null,horas:null}),ae=()=>{j.current&&(j.current.setMap(null),j.current=null)},ue=()=>{console.log(" Limpiando todo al cambiar de pestaa"),U(""),V(""),J(""),oe(null),ve(null),R(null),se(""),Le(""),P("AM"),Ve("AM"),Object.values(I).forEach(fe=>{fe&&fe.setMap(null)}),k({pickup:null,dropoff:null,horas:null}),ae(),["pickup","dropoff","horasRecojo","progHoraInput","horasHoraInput"].forEach(fe=>{const be=document.getElementById(fe);be&&(be.value="")});const Ce=document.getElementById("progDistance"),xe=document.getElementById("progPrice"),Re=document.getElementById("horasPrice");Ce&&(Ce.textContent=""),xe&&(xe.textContent="S/ 0.00"),Re&&(Re.textContent="S/ 38.00")},Ae=pe=>{if(!o){w(!0),document.body.style.overflow="hidden";return}ue(),h(pe),pe==="programada"?e.mostrarExplicacionProgramada():e.mostrarExplicacionPorHoras()},Te=(pe,Ce,xe,Re=null)=>{if(!je.current||!window.google)return;console.log(` Agregando marcador tipo: ${pe}`,Ce),I[pe]&&(console.log(` Eliminando marcador anterior tipo: ${pe}`),I[pe].setMap(null));const be=Re||(pe==="pickup"?"Punto de recojo":pe==="dropoff"?"Destino final":"Punto de recojo (horas)"),He={url:pe==="pickup"?"https://maps.google.com/mapfiles/ms/icons/green-dot.png":pe==="dropoff"?"https://maps.google.com/mapfiles/ms/icons/red-dot.png":"https://maps.google.com/mapfiles/ms/icons/blue-dot.png",scaledSize:new window.google.maps.Size(40,40)},Gt={text:pe==="pickup"?"A":pe==="dropoff"?"B":"H",color:"white",fontSize:"14px",fontWeight:"bold"},hn={position:Ce,map:je.current,title:be,icon:He,label:Gt},pt=new window.google.maps.Marker(hn);k(Pn=>({...Pn,[pe]:pt})),je.current.panTo(Ce),je.current.setZoom(15)},Be=(pe,Ce)=>{if(!je.current||!window.google||!pe||!Ce)return;new window.google.maps.DirectionsService().route({origin:pe,destination:Ce,travelMode:window.google.maps.TravelMode.DRIVING,provideRouteAlternatives:!0},(Re,fe)=>{if(fe==="OK"){let be=Re.routes[0],He=Re.routes[0].legs[0].distance.value;Re.routes.forEach(dn=>{const Zn=dn.legs[0].distance.value;Zn<He&&(He=Zn,be=dn)}),j.current=new window.google.maps.DirectionsRenderer({map:je.current,suppressMarkers:!0,polylineOptions:{strokeColor:"#0d6efd",strokeWeight:6,strokeOpacity:1}}),j.current.setDirections({...Re,routes:[be]});const Gt=He/1e3,hn=document.getElementById("progPax");let pt=hn&&parseInt(hn.value)||1;pt>6&&(pt=6),pt<1&&(pt=1);const Pn=document.getElementById("progDistance");Pn&&(Pn.textContent=Gt.toFixed(2)+" km");try{const dn=cE(Gt,pt),Zn=document.getElementById("progPrice");Zn&&dn&&(Zn.textContent=`S/ ${dn}.00`,console.log(` Ruta ms corta: ${Gt}km, Pasajeros: ${pt}, Tarifa: S/ ${dn}.00`))}catch(dn){console.log("Error calculando tarifa:",dn)}}else console.log(" Error calculando ruta:",fe)})};O.useEffect(()=>{c==="programada"&&ie&&ce&&(console.log(" Trazando ruta por cambio en ubicaciones"),ae(),Be(ie,ce))},[ie,ce,c]),O.useEffect(()=>{if(c!=="programada")return;const pe=document.getElementById("progPax"),Ce=document.getElementById("progDistance"),xe=document.getElementById("progPrice");if(!pe||!Ce||!xe)return;const Re=()=>{const fe=Ce.textContent;if(!fe||fe==="")return;const be=fe.match(/([\d.]+)/);if(!be)return;const He=parseFloat(be[0]);let Gt=parseInt(pe.value)||1;Gt>6&&(Gt=6),Gt<1&&(Gt=1);try{const hn=cE(He,Gt);hn&&(xe.textContent=`S/ ${hn}.00`,console.log(` Tiempo real - Km: ${He}, Pasajeros: ${Gt}, Tarifa: S/ ${hn}.00`))}catch(hn){console.log("Error actualizando precio:",hn)}};return pe.addEventListener("change",Re),pe.addEventListener("input",Re),()=>{pe.removeEventListener("change",Re),pe.removeEventListener("input",Re)}},[c]),O.useEffect(()=>{if(c!=="porhoras")return;const pe=document.getElementById("horasPax"),Ce=document.getElementById("horasCantidad"),xe=document.getElementById("horasPrice");if(!pe||!Ce||!xe)return;const Re=()=>{const fe=parseInt(Ce.value);let be=parseInt(pe.value)||1;be>6&&(be=6),be<1&&(be=1);try{const He=e8(fe,be);He&&(xe.textContent=`S/ ${He}.00`,console.log(` Tiempo real - Horas: ${fe}, Pasajeros: ${be}, Tarifa: S/ ${He}.00`))}catch(He){console.log("Error actualizando precio:",He)}};return pe.addEventListener("change",Re),pe.addEventListener("input",Re),Ce.addEventListener("change",Re),Re(),()=>{pe.removeEventListener("change",Re),pe.removeEventListener("input",Re),Ce.removeEventListener("change",Re)}},[c]),O.useEffect(()=>{if(!je.current||!window.google)return;Q.current.pickup&&window.google.maps.event.clearInstanceListeners(Q.current.pickup),Q.current.dropoff&&window.google.maps.event.clearInstanceListeners(Q.current.dropoff),Q.current.horas&&window.google.maps.event.clearInstanceListeners(Q.current.horas);const pe=document.getElementById("pickup");if(pe){const Re=new window.google.maps.places.Autocomplete(pe,{fields:["place_id","geometry","formatted_address","name"],componentRestrictions:{country:"pe"},types:["geocode","establishment"],bounds:new window.google.maps.LatLngBounds(new window.google.maps.LatLng(-5.5,-81.5),new window.google.maps.LatLng(-4.5,-80)),strictBounds:!0});Re.addListener("place_changed",()=>{const fe=Re.getPlace();if(fe?.geometry){const be={lat:fe.geometry.location.lat(),lng:fe.geometry.location.lng()},He=fe.name||fe.formatted_address;U(He),oe(be),Te("pickup",be,He,fe.name)}}),Q.current.pickup=Re}const Ce=document.getElementById("dropoff");if(Ce){const Re=new window.google.maps.places.Autocomplete(Ce,{fields:["place_id","geometry","formatted_address","name"],componentRestrictions:{country:"pe"},types:["geocode","establishment"]});Re.addListener("place_changed",()=>{const fe=Re.getPlace();if(fe?.geometry){const be={lat:fe.geometry.location.lat(),lng:fe.geometry.location.lng()},He=fe.name||fe.formatted_address;V(He),ve(be),Te("dropoff",be,He,fe.name)}}),Q.current.dropoff=Re}const xe=document.getElementById("horasRecojo");if(xe){const Re=new window.google.maps.places.Autocomplete(xe,{fields:["place_id","geometry","formatted_address","name"],componentRestrictions:{country:"pe"},types:["geocode","establishment"],bounds:new window.google.maps.LatLngBounds(new window.google.maps.LatLng(-5.5,-81.5),new window.google.maps.LatLng(-4.5,-80)),strictBounds:!0});Re.addListener("place_changed",()=>{const fe=Re.getPlace();if(fe?.geometry){const be={lat:fe.geometry.location.lat(),lng:fe.geometry.location.lng()},He=fe.name||fe.formatted_address;J(He),R(be),Te("horas",be,He,fe.name)}}),Q.current.horas=Re}return()=>{Q.current.pickup&&window.google.maps.event.clearInstanceListeners(Q.current.pickup),Q.current.dropoff&&window.google.maps.event.clearInstanceListeners(Q.current.dropoff),Q.current.horas&&window.google.maps.event.clearInstanceListeners(Q.current.horas)}},[je.current,c]);const St=pe=>{je.current=pe},ut=(pe,Ce,xe,Re=null)=>{I[pe]&&I[pe].setMap(null),pe==="pickup"?(U(Ce),oe(xe),Te("pickup",xe,Ce,Re)):pe==="dropoff"?(V(Ce),ve(xe),Te("dropoff",xe,Ce,Re)):pe==="horas"&&(J(Ce),R(xe),Te("horas",xe,Ce,Re)),g(null),E(null)},vi=pe=>{g(pe),E(pe)},Or=async pe=>{const Ce=document.getElementById("pickup");try{const xe=await i(Ce,pe,je.current);xe&&(U(xe.address),oe(xe.location),Te("pickup",xe.location,xe.address))}catch(xe){console.log("Error en ubicacin actual:",xe)}},jr=async pe=>{const Ce=document.getElementById("horasRecojo");try{const xe=await i(Ce,pe,je.current);xe&&(J(xe.address),R(xe.location),Te("horas",xe.location,xe.address))}catch(xe){console.log("Error en ubicacin actual:",xe)}},Mr=async()=>{const pe=document.getElementById("progFecha")?.value,Ce=parseInt(document.getElementById("progPax")?.value)||1;if(Ce<1||Ce>6){alert("El nmero de pasajeros debe ser entre 1 y 6");return}if(!ie||!ce){alert("Por favor selecciona punto de recojo y destino final");return}const xe=C(K,D),Re=document.getElementById("progDistance")?.textContent||"",fe=document.getElementById("progPrice")?.textContent||"S/ 0.00",be=`https://www.google.com/maps/dir/${ie.lat},${ie.lng}/${ce.lat},${ce.lng}`,He={tipoReserva:"programada",email:o?.email||"",nombreCompleto:o?.displayName||"",lugarRecojo:L,destino:B,fechaViaje:pe,horaInicio:xe,horaOriginal:`${K} ${D}`,pasajeros:Ce,distancia:Re,precio:fe,recojoLat:ie.lat,recojoLng:ie.lng,destinoLat:ce.lat,destinoLng:ce.lng,mapsLink:be};(await n(He)).success&&(e.mostrarConfirmacionProgramada(),ue())},kn=async()=>{const pe=document.getElementById("horasFecha")?.value,Ce=parseInt(document.getElementById("horasPax")?.value)||1,xe=parseInt(document.getElementById("horasCantidad")?.value)||1;if(Ce<1||Ce>6){alert("El nmero de pasajeros debe ser entre 1 y 6");return}if(!x){alert("Por favor selecciona punto de recojo");return}const Re=C(ge,Oe),fe=document.getElementById("horasPrice")?.textContent||"S/ 38.00",be=`https://www.google.com/maps/search/?api=1&query=${x.lat},${x.lng}`,He={tipoReserva:"horas",email:o?.email||"",nombreCompleto:o?.displayName||"",lugarRecojo:X,fechaServicio:pe,horaInicio:Re,horaOriginal:`${ge} ${Oe}`,horasContratadas:xe,pasajeros:Ce,precio:fe,recojoLat:x.lat,recojoLng:x.lng,mapsLink:be};(await s(He)).success&&(e.mostrarConfirmacionHoras(),ue())};return m.jsxs("section",{id:"reservas",className:"section",children:[m.jsxs("div",{className:"container",children:[m.jsx("h2",{className:"section-title",children:"Reservas"}),m.jsx("p",{className:"section-subtitle reveal",children:"Las reservas pueden realizarse en cualquier momento."}),m.jsxs("div",{className:"tab-container reveal",children:[m.jsx("button",{className:`tab-btn ${c==="programada"?"active":""}`,onClick:()=>Ae("programada"),children:"Reserva de punto a punto"}),m.jsx("button",{className:`tab-btn ${c==="porhoras"?"active":""}`,onClick:()=>Ae("porhoras"),children:"Reserva por horas"})]}),m.jsxs("div",{className:"grid",children:[m.jsx("div",{className:"col form-col",children:c==="programada"?m.jsx(FN,{pickupAddress:L,dropoffAddress:B,setPickupAddress:U,setDropoffAddress:V,onSelectInMap:vi,onReservar:Mr,onUbicacionActual:Or,activeMode:y,horaValue:K,onHoraChange:se,ampm:D,onAmpmChange:P,markers:I,setMarkers:k}):c==="porhoras"?m.jsx(GN,{horasAddress:X,setHorasAddress:J,onSelectInMap:vi,onReservar:kn,onUbicacionActual:jr,activeMode:y,horaValue:ge,onHoraChange:Le,ampm:Oe,onAmpmChange:Ve,markers:I,setMarkers:k}):m.jsx("div",{className:"form",style:{padding:"2rem",textAlign:"center"},children:m.jsx("p",{children:"Selecciona un tipo de reserva para comenzar"})})}),m.jsx("div",{className:"col map-col",children:m.jsx("div",{className:"map",children:m.jsx($N,{onMapReady:St,onMapClick:ut,selectedInput:p})})})]})]}),b&&m.jsx(Lg,{onClose:()=>{w(!1),document.body.style.overflow="auto"},onSuccess:()=>{w(!1),document.body.style.overflow="auto"}}),e.modalExplicacionProgramada&&m.jsx(KN,{onClose:e.cerrarModales}),e.modalExplicacionHoras&&m.jsx(QN,{onClose:e.cerrarModales}),e.modalConfirmacionProgramada&&m.jsx(XN,{onClose:e.cerrarModales}),e.modalConfirmacionHoras&&m.jsx(WN,{onClose:e.cerrarModales})]})},n8=()=>(O.useEffect(()=>{const i=new IntersectionObserver(n=>{n.forEach(s=>{s.isIntersecting&&s.target.classList.add("active")})},{threshold:.2,rootMargin:"0px 0px -50px 0px"}),e=document.querySelectorAll(".reveal");return e.forEach(n=>i.observe(n)),()=>{e.forEach(n=>i.unobserve(n))}},[]),m.jsx("section",{id:"sobre-nosotros",className:"section about-section",children:m.jsxs("div",{className:"container",children:[m.jsx("div",{className:"about-logo reveal",children:m.jsx("img",{src:"/img/premium.png",alt:"YipiAs",className:"about-logo-img"})}),m.jsx("h2",{className:"about-title reveal",children:"SOBRE NOSOTROS"}),m.jsx("div",{className:"about-divider reveal"}),m.jsxs("div",{className:"about-content reveal",children:[m.jsxs("p",{className:"about-text",children:["Somos una empresa dedicada al servicio de ",m.jsx("span",{className:"about-highlight",children:"transporte seguro y confiable"}),", orientada a personas que llegan a Piura con el propsito de disfrutar de sus playas, su reconocido arte culinario y su valioso patrimonio histrico."]}),m.jsxs("p",{className:"about-text",children:["Nuestra empresa se distingue por ofrecer un servicio de ",m.jsx("span",{className:"about-highlight",children:"alta calidad"}),", respaldado por una flota de vehculos modernos, as como por choferes debidamente calificados, comprometidos con la seguridad, puntualidad y comodidad de nuestros usuarios."]}),m.jsxs("p",{className:"about-text",children:["Operamos formalmente bajo el ",m.jsx("span",{className:"about-highlight",children:"RUC N. 20610695257"}),", registrados legalmente como Plataformas y Soluciones S.A.C. Emitimos facturas y boletas."]})]}),m.jsxs("div",{className:"about-legal reveal",children:[m.jsxs("div",{className:"legal-item",children:[m.jsx("span",{className:"legal-label",children:"RUC:"}),m.jsx("span",{className:"legal-value",children:"20610695257"})]}),m.jsxs("div",{className:"legal-item",children:[m.jsx("span",{className:"legal-label",children:"Razn Social:"}),m.jsx("span",{className:"legal-value",children:"Plataformas y Soluciones S.A.C"})]}),m.jsxs("div",{className:"legal-item",children:[m.jsx("span",{className:"legal-label",children:"Marca:"}),m.jsx("span",{className:"legal-value",children:"YipiAs Per"})]})]}),m.jsxs("div",{className:"about-contact reveal",children:[m.jsxs("div",{className:"contact-item",children:[m.jsx("svg",{className:"contact-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.362 1.903.7 2.81a2 2 0 0 1-.45 2.11L8 10a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.907.338 1.85.573 2.81.7A2 2 0 0 1 22 16.92z"})}),m.jsx("span",{children:"+51 904 635 462"})]}),m.jsxs("div",{className:"contact-item",children:[m.jsxs("svg",{className:"contact-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),m.jsx("polyline",{points:"22,6 12,13 2,6"})]}),m.jsx("span",{children:"soporte@yipias.com"})]})]}),m.jsxs("div",{className:"about-copyright reveal",children:[" ",new Date().getFullYear()," YipiAs  Transporte Turstico Autorizado"]})]})})),i8=()=>m.jsx("footer",{id:"contacto",className:"footer",children:m.jsxs("div",{className:"container",children:[m.jsx("div",{children:"Contacto: +51 904 635 462  Email: soporte@yipias.com"}),m.jsxs("div",{className:"muted",children:[" ",new Date().getFullYear()," YipiAs"]})]})}),r8=()=>m.jsx("a",{href:`https://wa.me/${Ug.replace(/\D/g,"")}?text=${encodeURIComponent("Hola! Deseo ms informacin")}`,className:"whatsapp-float",target:"_blank",rel:"noopener noreferrer",children:m.jsx("img",{src:"/img/whatsapp-icon.png",alt:"WhatsApp",className:"whatsapp-icon"})}),s8=()=>{const i=Tc(),[e,n]=O.useState(!1),s=o=>{n(o.target.checked),o.target.checked&&setTimeout(()=>{i("/")},500)};return m.jsx("main",{className:"terminos-page",style:{paddingTop:"30px"},children:m.jsxs("div",{className:"container terminos-container",children:[m.jsx("h1",{children:"TRMINOS Y CONDICIONES  YipiAs Premium"}),m.jsx("div",{className:"fecha",children:"ltima actualizacin: 15/02/2026"}),m.jsxs("p",{children:["Los presentes Trminos y Condiciones regulan el acceso y uso de los servicios ofrecidos por ",m.jsx("strong",{children:"YipiAs Premium"}),", marca operada por ",m.jsx("strong",{children:"Plataformas y Soluciones Digitales S.A.C."}),", Repblica del Per (en adelante, YIPIAS). RUC 20610695257  email corporativo ",m.jsx("strong",{children:"soporte@yipias.com"}),"."]}),m.jsx("p",{children:"El uso de la plataforma implica la aceptacin plena, expresa y sin reservas de todas las disposiciones aqu contenidas."}),m.jsx("h2",{children:"1. NATURALEZA DEL SERVICIO Y POSICIONAMIENTO"}),m.jsx("p",{children:"YipiAs es una plataforma tecnolgica de soluciones de movilidad ejecutiva y corporativa, orientada a estndares superiores de calidad, puntualidad, seguridad y confidencialidad."}),m.jsxs("div",{className:"legal-block",children:[m.jsx("p",{children:m.jsx("strong",{children:"YipiAs:"})}),m.jsxs("ul",{children:[m.jsx("li",{children:"No opera como empresa de taxi tradicional."}),m.jsx("li",{children:"No funciona bajo el modelo de aplicacin masiva de transporte urbano."}),m.jsx("li",{children:'No es una app de "carreras inmediatas" de bajo costo.'})]})]}),m.jsxs("div",{className:"legal-block",children:[m.jsx("p",{children:m.jsx("strong",{children:"YipiAs:"})}),m.jsxs("ul",{children:[m.jsx("li",{children:"Establece estndares operativos."}),m.jsx("li",{children:"Define condiciones de servicio."}),m.jsx("li",{children:"Gestiona reservas y pagos."}),m.jsx("li",{children:"Supervisa cumplimiento."}),m.jsx("li",{children:"Mantiene protocolos de calidad ejecutiva."})]})]}),m.jsx("p",{children:"El traslado es ejecutado materialmente por conductores afiliados previamente verificados, quienes actan bajo su responsabilidad operativa conforme a la normativa vigente en el Per."}),m.jsx("h3",{children:"1.1 Cmo funciona YipiAs Premium  Para pasajeros"}),m.jsxs("ul",{children:[m.jsxs("li",{children:[m.jsx("strong",{children:"Solicita tu viaje:"})," Solo desde yipias.com, acepta los Trminos y Condiciones. Elige inmediato o programado."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Reserva validada:"})," Nuestro equipo revisa tu solicitud y asigna un conductor que cumpla estndares de seguridad, limpieza y presentacin."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Pago seguro:"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Anticipado: transferencia o billetera digital (YAPE/PLIN)"}),m.jsx("li",{children:"En efectivo: al conductor, quien registrar tu pago en la plataforma."})]})]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Disfruta el viaje:"})," Puntualidad, trato cordial y aire acondicionado operativo garantizados."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Comprobante:"})," Recibe tu boleta o factura electrnica segn tu forma de pago."]})]}),m.jsx("p",{children:"Nuestros conductores: Seleccionados para asegurar seguridad, confort y confiabilidad en cada traslado."}),m.jsx("h2",{children:"2.0 REGISTRO Y CUENTA DE USUARIO"}),m.jsxs("p",{children:[m.jsx("strong",{children:"2.1 Cuenta Personal e Intransferible"}),"  Cada usuario debe registrarse con datos reales, exactos y actualizados. La cuenta es personal e intransferible. El titular asume responsabilidad total por toda reserva realizada desde su cuenta."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"2.2 Capacidad Legal"}),"  Solo pueden registrarse mayores de 18 aos. Los menores debern viajar bajo supervisin de adulto responsable."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"2.3 Facultades de YipiAs"}),"  YipiAs podr suspender o cancelar cuentas cuando exista informacin falsa, se incumplan normas de conducta o se detecte uso indebido."]}),m.jsx("h2",{children:"3. CDIGO DE CONDUCTA Y ESTNDAR EJECUTIVO"}),m.jsx("p",{children:"YipiAs promueve un modelo de movilidad ejecutiva basado en respeto, formalidad y trato profesional."}),m.jsxs("p",{children:[m.jsx("strong",{children:"3.1 Trato Respetuoso"}),"  El usuario deber mantener conducta adecuada hacia conductor y unidad."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"3.2 Tolerancia Cero"}),"  No se permitir discriminacin, acoso, agresividad o intoxicacin que comprometa seguridad. La infraccin podr generar suspensin definitiva sin reembolso."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"3.3 Uso Lcito"}),"  Queda prohibido utilizar el servicio para actividades ilcitas. El conductor podr cancelar el servicio sin derecho a reembolso si detecta riesgo legal o de seguridad."]}),m.jsx("h2",{children:"4. MODALIDADES DE SERVICIO"}),m.jsxs("p",{children:[m.jsx("strong",{children:"4.1 Servicio por Trayecto"}),"  Traslado entre origen y destino determinados."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"4.2 Servicio por Tiempo"}),"  Disponibilidad del conductor por horas contratadas."]}),m.jsx("h2",{children:"5. POLTICA DE RESERVAS Y HORARIOS"}),m.jsxs("p",{children:[m.jsx("strong",{children:"5.1 Anticipacin"}),"  Reserva mnima: 30 minutos previos al servicio."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"5.2 Horario Ordinario de atencin"}),"  24/7 los 365 das del ao. 6:00 a.m.  12:00 a.m."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"5.3 Horario Extraordinario"}),"  12:00 a.m.  6:00 a.m. Incrementos de tarifa segn demanda en fechas festivas o en circunstancias de trfico de horas punta. Servicio sujeto a disponibilidad operativa."]}),m.jsx("h2",{children:"6. TARIFAS Y PAGOS"}),m.jsx("p",{children:"Modalidades: Pago anticipado, pago inmediato o prepago corporativo. YipiAs no otorga crditos."}),m.jsxs("p",{children:[m.jsx("strong",{children:"6.1 Medios Aceptados"}),"  Transferencia bancaria, YAPE, PLIN, efectivo (monto exacto)."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"6.2 Facturacin"}),"  Comprobantes electrnicos emitidos dentro de 24 horas."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"6.3 No Pago"}),"  Bloqueo inmediato, gestin de cobranza y suspensin hasta cancelacin total."]}),m.jsx("h2",{children:"7. GESTIN DE TIEMPOS"}),m.jsxs("p",{children:[m.jsx("strong",{children:"7.1 Punto a Punto"}),"  5 minutos de cortesa. S/ 0.70 por minuto adicional. 15 minutos sin presentarse = No Show."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"7.2 Servicios por Horas"}),"  20 km por hora incluidos. S/ 3.00 por km adicional. Excesos menores a 30 min = media hora. Mayores a 30 min = hora completa."]}),m.jsx("h2",{children:"8. PASAJEROS, EQUIPAJE Y MASCOTAS"}),m.jsx("p",{children:"Capacidad determinada por cinturones de seguridad. Equipaje incluido si cabe en maletera. Mascotas permitidas con aviso previo. El usuario asume daos o limpieza adicional."}),m.jsx("h2",{children:"9. CANCELACIONES Y PENALIDADES"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Ms de 2 horas: 0%"}),m.jsx("li",{children:"12 horas: 10%"}),m.jsx("li",{children:"Menos de 1 hora: 20%"}),m.jsx("li",{children:"No Show: 50%"})]}),m.jsx("p",{children:"YipiAs podr cancelar por fuerza mayor con reembolso total o re-agendamiento."}),m.jsx("h2",{children:"10. RESPONSABILIDAD Y SEGUROS"}),m.jsx("p",{children:"Las unidades cuentan con SOAT vigente. YipiAs acta como facilitador tecnolgico. No responde por factores externos (trfico, clima, bloqueos), conducta del usuario o fuerza mayor. La responsabilidad total de YIPIAS no exceder el monto pagado por el servicio que origine la reclamacin."}),m.jsx("h2",{children:"11. SERVICIOS CORPORATIVOS"}),m.jsx("p",{children:"YipiAs podr celebrar contratos especficos con empresas para la prestacin de servicios de movilidad ejecutiva y empresarial..."}),m.jsx("h2",{children:"12. PROHIBICIN DE DESINTERMEDIACIN"}),m.jsx("p",{children:"Est prohibido contratar directamente con conductores afiliados fuera de la plataforma. El incumplimiento podr generar suspensin y acciones legales."}),m.jsx("h2",{children:"13. PROPIEDAD INTELECTUAL"}),m.jsx("p",{children:"Todos los contenidos, marcas, diseos y software pertenecen a YipiAs y estn protegidos por ley."}),m.jsx("h2",{children:"14. PROTECCIN DE DATOS"}),m.jsx("p",{children:"El tratamiento de datos personales se rige por la Poltica de Privacidad publicada por YipiAs, conforme a la Ley N. 29733."}),m.jsx("h2",{children:"15. FUERZA MAYOR"}),m.jsx("p",{children:"YipiAs no ser responsable por manifestaciones, desastres naturales, bloqueos de vas, disposiciones gubernamentales o fallas tcnicas externas."}),m.jsx("h2",{children:"16. MODIFICACIONES"}),m.jsx("p",{children:"YipiAs podr modificar estos Trminos cuando lo considere necesario. Las modificaciones entrarn en vigor 5 das hbiles despus de su publicacin."}),m.jsx("h2",{children:"17. LEY APLICABLE Y JURISDICCIN"}),m.jsx("p",{children:"Los presentes Trminos se rigen por las leyes de la Repblica del Per. Toda controversia ser sometida a los jueces y tribunales competentes de la ciudad de Piura."}),m.jsx("hr",{}),m.jsxs("div",{className:"contacto-final",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"CONTACTO"}),m.jsx("br",{}),"Correo: soporte@yipias.com",m.jsx("br",{}),"WhatsApp: +51 904-635-462"]}),m.jsx("p",{children:" 2026 YipiAs PREMIUM. Todos los derechos reservados."})]}),m.jsxs("div",{className:"footer-checkbox",children:[m.jsx("input",{type:"checkbox",id:"volverCheckbox",checked:e,onChange:s}),m.jsx("label",{htmlFor:"volverCheckbox",children:"He ledo y acepto los Trminos y Condiciones. Al marcar, ser redirigido al inicio."})]})]})})},a8=()=>{const i=Tc(),[e,n]=O.useState(!1),s=o=>{n(o.target.checked),o.target.checked&&setTimeout(()=>{i("/")},500)};return m.jsx("main",{className:"privacidad-page",children:m.jsxs("div",{className:"container privacidad-container",children:[m.jsx("h1",{children:"POLTICA DE PRIVACIDAD"}),m.jsx("div",{className:"fecha",children:"YipiAs Premium  ltima actualizacin: 15/02/2026"}),m.jsx("div",{className:"legal-block",children:m.jsxs("p",{children:[m.jsx("strong",{children:"Responsable del tratamiento:"}),m.jsx("br",{}),"Plataformas y Soluciones Digitales S.A.C.",m.jsx("br",{}),"RUC: 20610695257",m.jsx("br",{}),"Marca: YipiAs Premium",m.jsx("br",{}),"Correo: soporte@yipias.com"]})}),m.jsx("h2",{children:"1. DATOS PERSONALES RECOPILADOS"}),m.jsx("p",{children:"YIPIAS recopila nicamente datos necesarios para la operacin de los servicios:"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Nombre completo"}),m.jsx("li",{children:"Documento de identidad (DNI u otro equivalente)"}),m.jsx("li",{children:"Nmero de telfono"}),m.jsx("li",{children:"Correo electrnico"}),m.jsx("li",{children:"Direccin de origen y destino"}),m.jsx("li",{children:"Informacin de ubicacin durante el servicio"}),m.jsx("li",{children:"Historial de servicios"}),m.jsx("li",{children:"Datos de facturacin"})]}),m.jsx("p",{children:"En caso de usuarios corporativos:"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Empresa"}),m.jsx("li",{children:"Cargo"}),m.jsx("li",{children:"Datos de contacto laboral"})]}),m.jsx("h2",{children:"2. FINALIDAD DEL TRATAMIENTO"}),m.jsx("p",{children:"Los datos se usan exclusivamente para:"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Gestin y coordinacin de los traslados"}),m.jsx("li",{children:"Facturacin electrnica"}),m.jsx("li",{children:"Atencin de solicitudes y reclamos"}),m.jsx("li",{children:"Seguridad y prevencin de fraudes"}),m.jsx("li",{children:"Supervisin de conductores y cumplimiento operativo"})]}),m.jsx("p",{children:"No se usarn para fines publicitarios ni comerciales, salvo autorizacin expresa posterior."}),m.jsx("h2",{children:"3. BASE LEGAL"}),m.jsx("p",{children:"El tratamiento de datos se realiza sobre la base de:"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Consentimiento del titular"}),m.jsx("li",{children:"Ejecucin del servicio contratado"}),m.jsx("li",{children:"Cumplimiento de obligaciones legales y tributarias"})]}),m.jsx("h2",{children:"4. CONSERVACIN DE DATOS"}),m.jsx("p",{children:"Los datos se conservarn:"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Mientras exista relacin contractual activa"}),m.jsx("li",{children:"Durante los plazos exigidos por ley"}),m.jsx("li",{children:"Hasta que el titular solicite su cancelacin, siempre que no exista obligacin legal de conservarlos"})]}),m.jsx("h2",{children:"5. TRANSFERENCIA DE DATOS"}),m.jsx("p",{children:"Los datos podrn compartirse solo con:"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Conductores afiliados (solo lo necesario para la prestacin del servicio)"}),m.jsx("li",{children:"Proveedores tecnolgicos para hosting, facturacin electrnica o soporte operativo"}),m.jsx("li",{children:"Autoridades competentes cuando la ley lo exija"})]}),m.jsx("p",{children:"No se cedern datos a terceros con fines publicitarios."}),m.jsx("h2",{children:"6. DERECHOS DEL TITULAR (ARCO)"}),m.jsx("p",{children:"El titular puede ejercer:"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Acceso"}),m.jsx("li",{children:"Rectificacin"}),m.jsx("li",{children:"Cancelacin"}),m.jsx("li",{children:"Oposicin"})]}),m.jsxs("p",{children:["Para ello debe enviar solicitud al correo: ",m.jsx("strong",{children:"soporte@yipias.com"}),m.jsx("br",{}),"Indicando nombre completo y nmero de documento."]}),m.jsx("h2",{children:"7. MEDIDAS DE SEGURIDAD"}),m.jsx("p",{children:"YIPIAS aplica medidas tcnicas y organizativas razonables para proteger los datos contra:"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Acceso no autorizado"}),m.jsx("li",{children:"Uso indebido"}),m.jsx("li",{children:"Prdida o alteracin"})]}),m.jsx("h2",{children:"8. MODIFICACIONES"}),m.jsxs("p",{children:["YIPIAS puede actualizar esta Poltica cuando lo considere necesario.",m.jsx("br",{}),"Las modificaciones se publicarn en la plataforma y entrarn en vigor desde su publicacin."]}),m.jsx("h2",{children:"9. LEY APLICABLE"}),m.jsx("p",{children:"La presente Poltica se rige por las leyes de la Repblica del Per."}),m.jsx("hr",{}),m.jsxs("div",{className:"contacto-final",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"CONTACTO"}),m.jsx("br",{}),"Correo: soporte@yipias.com",m.jsx("br",{}),"WhatsApp: +51 904-635-462"]}),m.jsx("p",{children:" 2026 YipiAs Premium. Todos los derechos reservados."})]}),m.jsxs("div",{className:"footer-checkbox",children:[m.jsx("input",{type:"checkbox",id:"privacidadCheckbox",checked:e,onChange:s}),m.jsx("label",{htmlFor:"privacidadCheckbox",children:"He ledo y acepto la Poltica de Privacidad y autorizo el tratamiento de mis datos personales exclusivamente para fines operativos segn la Ley N. 29733."})]})]})})},o8=()=>{const{currentUser:i}=kc(),[e,n]=O.useState([]),[s,o]=O.useState(!0);return O.useEffect(()=>{if(!i){n([]),o(!1);return}console.log(" Buscando reservas para:",i.email);const c=Es(Hi,"reservas"),h=Xl(c,Wl("email","==",i.email),Gx("fechaReserva","desc")),p=Qx(h,g=>{const y=g.docs.map(E=>({id:E.id,...E.data(),fechaReserva:E.data().fechaReserva?.toDate?E.data().fechaReserva.toDate():E.data().fechaReserva}));console.log(" Reservas cargadas:",y.length),n(y),o(!1)},g=>{console.error(" Error al cargar reservas:",g),g.code==="failed-precondition"&&console.log(" Se necesita crear el ndice en Firebase"),o(!1)});return()=>p()},[i]),{reservas:e,loading:s}},l8=({reserva:i})=>{const e=O.useRef(null),[n,s]=O.useState(!1),o=i.estado||"pendiente";O.useEffect(()=>{if(!i.recojoLat||!i.recojoLng)return;const g=()=>{if(!window.google?.maps||!e.current){setTimeout(g,500);return}try{const y=new window.google.maps.Map(e.current,{center:{lat:i.recojoLat,lng:i.recojoLng},zoom:13,disableDefaultUI:!0,zoomControl:!0,mapTypeControl:!1,streetViewControl:!1,styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]}]});if(new window.google.maps.Marker({position:{lat:i.recojoLat,lng:i.recojoLng},map:y,icon:{url:"https://maps.google.com/mapfiles/ms/icons/green-dot.png",scaledSize:new window.google.maps.Size(40,40)},label:{text:"A",color:"white",fontSize:"14px",fontWeight:"bold"}}),i.destinoLat&&i.destinoLng){new window.google.maps.Marker({position:{lat:i.destinoLat,lng:i.destinoLng},map:y,icon:{url:"https://maps.google.com/mapfiles/ms/icons/red-dot.png",scaledSize:new window.google.maps.Size(40,40)},label:{text:"B",color:"white",fontSize:"14px",fontWeight:"bold"}});const E=new window.google.maps.DirectionsService,b=new window.google.maps.DirectionsRenderer({map:y,suppressMarkers:!0,polylineOptions:{strokeColor:"#0d6efd",strokeWeight:5}});E.route({origin:{lat:i.recojoLat,lng:i.recojoLng},destination:{lat:i.destinoLat,lng:i.destinoLng},travelMode:window.google.maps.TravelMode.DRIVING},(w,L)=>{L==="OK"&&b.setDirections(w)})}s(!0)}catch(y){console.error("Error al crear mapa:",y),setTimeout(g,1e3)}};g()},[i.recojoLat,i.recojoLng,i.destinoLat,i.destinoLng]);const c=g=>{if(!g)return"Fecha no disponible";try{if(typeof g=="string"&&g.includes("/"))return g;if(g?.seconds){const E=new Date(g.seconds*1e3),b=E.getDate().toString().padStart(2,"0"),w=(E.getMonth()+1).toString().padStart(2,"0"),L=E.getFullYear();return`${b}/${w}/${L}`}if(typeof g=="string"&&g.includes("-")){const[E,b,w]=g.split("-");return`${w}/${b}/${E}`}const y=new Date(g);if(!isNaN(y.getTime())){const E=y.getDate().toString().padStart(2,"0"),b=(y.getMonth()+1).toString().padStart(2,"0"),w=y.getFullYear();return`${E}/${b}/${w}`}return"Fecha no disponible"}catch(y){return console.error("Error formateando fecha:",y),"Fecha no disponible"}},p=o==="confirmado"?{texto:"Confirmado",desc:"Reserva confirmada",color:"#4caf50",bg:"rgba(76, 175, 80, 0.15)"}:{texto:"Pendiente",desc:"En espera de confirmacin",color:"#ffc107",bg:"rgba(255, 193, 7, 0.15)"};return m.jsxs("div",{className:`tarjeta-reserva ${o}`,children:[m.jsxs("div",{className:"tarjeta-header",children:[m.jsxs("div",{className:"estado-badge",style:{backgroundColor:p.bg,color:p.color,borderColor:p.color},children:[m.jsx("span",{className:"estado-texto",children:p.texto}),m.jsx("span",{className:"estado-desc",children:p.desc})]}),m.jsx("span",{className:"fecha-reserva",children:c(i.fechaReserva)})]}),m.jsxs("div",{className:"tarjeta-contenido",children:[i.recojoLat&&i.recojoLng&&m.jsxs("div",{className:"mapa-contenedor",children:[m.jsx("div",{ref:e,className:"mapa",style:{width:"100%",height:"250px",borderRadius:"12px"}}),!n&&m.jsxs("div",{className:"mapa-loading",children:[m.jsx("div",{className:"spinner"}),m.jsx("p",{children:"Cargando mapa..."})]})]}),m.jsxs("div",{className:"datos-contenedor",children:[m.jsxs("div",{className:"info-item",children:[m.jsx(Jm,{size:18,className:"icon"}),m.jsxs("div",{children:[m.jsx("span",{className:"label",children:"De:"}),m.jsx("span",{className:"value",children:i.lugarRecojo})]})]}),i.tipoReserva==="programada"&&i.destino&&m.jsxs("div",{className:"info-item",children:[m.jsx(Jm,{size:18,className:"icon",style:{color:"#dc3545"}}),m.jsxs("div",{children:[m.jsx("span",{className:"label",children:"Para:"}),m.jsx("span",{className:"value",children:i.destino})]})]}),m.jsxs("div",{className:"info-item",children:[m.jsx(n4,{size:18,className:"icon"}),m.jsxs("div",{children:[m.jsx("span",{className:"label",children:"Fecha del viaje:"}),m.jsx("span",{className:"value",children:c(i.fechaViaje||i.fechaServicio)})]})]}),m.jsxs("div",{className:"info-item",children:[m.jsx(wv,{size:18,className:"icon"}),m.jsxs("div",{children:[m.jsx("span",{className:"label",children:"Hora de inicio:"}),m.jsx("span",{className:"value",children:i.horaOriginal||i.horaInicio})]})]}),m.jsxs("div",{className:"info-item",children:[m.jsx(z4,{size:18,className:"icon"}),m.jsxs("div",{children:[m.jsx("span",{className:"label",children:"Pasajeros:"}),m.jsx("span",{className:"value",children:i.pasajeros})]})]}),i.tipoReserva==="horas"&&m.jsxs("div",{className:"info-item",children:[m.jsx(wv,{size:18,className:"icon"}),m.jsxs("div",{children:[m.jsx("span",{className:"label",children:"Horas contratadas:"}),m.jsx("span",{className:"value",children:i.horasContratadas})]})]}),m.jsxs("div",{className:"info-item precio",children:[m.jsx(g4,{size:18,className:"icon"}),m.jsxs("div",{children:[m.jsx("span",{className:"label",children:"Total:"}),m.jsx("span",{className:"value",children:i.precio})]})]})]})]}),m.jsxs("div",{className:"tarjeta-footer",children:[o==="confirmado"&&m.jsxs("button",{className:"btn-conductor",children:[m.jsx(NE,{size:16})," Ver conductor"]}),i.mapsLink&&m.jsx("a",{href:i.mapsLink,target:"_blank",rel:"noopener noreferrer",className:"btn-maps",children:"Ver en Google Maps"})]})]})},c8=()=>{const{currentUser:i}=kc(),{reservas:e,loading:n}=o8(),s=(o,c)=>{console.log("Guardando cambios:",o,c)};return i?m.jsxs("div",{className:"mis-reservas-container",children:[m.jsx("h1",{children:"Mis Reservas"}),n?m.jsx("div",{className:"cargando",children:"Cargando tus reservas..."}):e.length===0?m.jsxs("div",{className:"sin-reservas",children:[m.jsx("p",{children:"No tienes reservas an."}),m.jsxs("a",{href:"/#/",className:"btn-reservar",children:["  ","Reservar ahora"]})]}):m.jsx("div",{className:"reservas-lista",children:e.map(o=>m.jsx(l8,{reserva:o,onGuardar:s},o.id))})]}):m.jsx("div",{className:"mis-reservas-container",children:m.jsxs("div",{className:"acceso-denegado",children:[m.jsx("h2",{children:"Acceso denegado"}),m.jsx("p",{children:"Debes iniciar sesin para ver tus reservas."})]})})},u8=({onSubmit:i,loading:e})=>{const[n,s]=O.useState({nombreCompleto:"",ciudadOperacion:"",telefono:"",fechaNacimiento:"",direccion:"",vehiculo:{ao:"",color:"",placa:"",aireAcondicionado:"",aireAcondicionadoOtro:""},fotos:{perfil:null,vehiculoFrontal:null,vehiculoLateral:null,vehiculoInterior:null,tarjetaPropiedadFrente:null,tarjetaPropiedadTrasero:null,breveteFrente:null,breveteTrasero:null,soat:null,reciboLuz:null},codigoVestimenta:"",manejoClienteExigente:"",significadoPremium:""}),[o,c]=O.useState({perfil:"",vehiculoFrontal:"",vehiculoLateral:"",vehiculoInterior:"",tarjetaPropiedadFrente:"",tarjetaPropiedadTrasero:"",breveteFrente:"",breveteTrasero:"",soat:"",reciboLuz:""}),[h,p]=O.useState(!1),g=["Lima","Tacna","Piura","Chachapoyas"],y=["S","No","Otros"],E=B=>{const{name:V,value:X}=B.target;if(V.includes(".")){const[J,ie]=V.split(".");s(oe=>({...oe,[J]:{...oe[J],[ie]:X}}))}else s(J=>({...J,[V]:X}))},b=(B,V)=>{if(V){s(J=>({...J,fotos:{...J.fotos,[B]:V}}));const X=new FileReader;X.onloadend=()=>{c(J=>({...J,[B]:X.result}))},X.readAsDataURL(V)}},w=B=>{s(V=>({...V,fotos:{...V.fotos,[B]:null}})),c(V=>({...V,[B]:""}))},L=B=>{if(B.preventDefault(),!h){alert("Debes aceptar los trminos y condiciones");return}const V=["perfil","vehiculoFrontal","vehiculoLateral","vehiculoInterior","tarjetaPropiedadFrente","tarjetaPropiedadTrasero","breveteFrente","breveteTrasero","soat","reciboLuz"];for(let X of V)if(!n.fotos[X]){alert(`Debes adjuntar la foto de ${X.replace(/([A-Z])/g," $1").toLowerCase()}`);return}i(n,n.fotos)},U=({campo:B,label:V,required:X=!0})=>m.jsxs("div",{className:"foto-uploader",children:[m.jsxs("label",{children:[V," ",X&&m.jsx("span",{className:"required",children:"*"})]}),m.jsxs("div",{className:"foto-input-container",children:[o[B]?m.jsxs("div",{className:"foto-preview-wrapper",children:[m.jsx("img",{src:o[B],alt:V}),m.jsx("button",{type:"button",className:"remove-foto",onClick:()=>w(B),children:m.jsx(F4,{size:16})})]}):m.jsxs("div",{className:"foto-upload-placeholder",onClick:()=>document.getElementById(`foto-${B}`).click(),children:[m.jsx(r4,{size:24}),m.jsx("span",{children:"Subir foto"})]}),m.jsx("input",{type:"file",id:`foto-${B}`,accept:"image/*",onChange:J=>b(B,J.target.files[0]),style:{display:"none"}})]})]});return m.jsxs("form",{className:"conductor-form",onSubmit:L,children:[m.jsx("h2",{children:"nete a YipiAs como conductor"}),m.jsx("p",{className:"form-subtitle",children:"Completa todos los datos para ser parte de nuestra flota Premium"}),m.jsx("div",{className:"foto-perfil-section",children:m.jsx(U,{campo:"perfil",label:"Foto de perfil"})}),m.jsx("h3",{children:"Datos personales"}),m.jsxs("div",{className:"form-grid",children:[m.jsxs("div",{className:"input-group",children:[m.jsx(ME,{size:18,className:"input-icon"}),m.jsx("input",{type:"text",name:"nombreCompleto",value:n.nombreCompleto,onChange:E,placeholder:"Nombres y apellidos",required:!0})]}),m.jsxs("div",{className:"input-group",children:[m.jsx(Jm,{size:18,className:"input-icon"}),m.jsxs("select",{name:"ciudadOperacion",value:n.ciudadOperacion,onChange:E,required:!0,children:[m.jsx("option",{value:"",children:"Ciudad de operacin"}),g.map(B=>m.jsx("option",{value:B,children:B},B))]})]}),m.jsxs("div",{className:"input-group",children:[m.jsx(jE,{size:18,className:"input-icon"}),m.jsx("input",{type:"tel",name:"telefono",value:n.telefono,onChange:E,placeholder:"Nmero de celular",required:!0})]}),m.jsxs("div",{className:"input-group",children:[m.jsx(e4,{size:18,className:"input-icon"}),m.jsx("input",{type:"text",name:"fechaNacimiento",value:n.fechaNacimiento,onChange:E,placeholder:"Ingresa tu fecha de nacimiento",required:!0})]}),m.jsxs("div",{className:"input-group full-width",children:[m.jsx(S4,{size:18,className:"input-icon"}),m.jsx("input",{type:"text",name:"direccion",value:n.direccion,onChange:E,placeholder:"Direccin con referencia",required:!0})]})]}),m.jsx("h3",{children:"Datos del vehculo"}),m.jsxs("div",{className:"form-grid",children:[m.jsxs("div",{className:"input-group",children:[m.jsx(Rv,{size:18,className:"input-icon"}),m.jsx("input",{type:"text",name:"vehiculo.ao",value:n.vehiculo.ao,onChange:E,placeholder:"Ao",required:!0})]}),m.jsxs("div",{className:"input-group",children:[m.jsx(O4,{size:18,className:"input-icon"}),m.jsx("input",{type:"text",name:"vehiculo.color",value:n.vehiculo.color,onChange:E,placeholder:"Color",required:!0})]}),m.jsxs("div",{className:"input-group",children:[m.jsx(Rv,{size:18,className:"input-icon"}),m.jsx("input",{type:"text",name:"vehiculo.placa",value:n.vehiculo.placa,onChange:E,placeholder:"Placa",required:!0})]}),m.jsxs("div",{className:"input-group",children:[m.jsx(H4,{size:18,className:"input-icon"}),m.jsxs("select",{name:"vehiculo.aireAcondicionado",value:n.vehiculo.aireAcondicionado,onChange:E,required:!0,children:[m.jsx("option",{value:"",children:"Aire acondicionado?"}),y.map(B=>m.jsx("option",{value:B,children:B},B))]})]}),n.vehiculo.aireAcondicionado==="Otros"&&m.jsx("div",{className:"input-group full-width",children:m.jsx("input",{type:"text",name:"vehiculo.aireAcondicionadoOtro",value:n.vehiculo.aireAcondicionadoOtro,onChange:E,placeholder:"Especificar",required:!0})})]}),m.jsx("h3",{children:"Fotos del vehculo"}),m.jsxs("div",{className:"fotos-grid",children:[m.jsx(U,{campo:"vehiculoFrontal",label:"Frontal (placa visible)"}),m.jsx(U,{campo:"vehiculoLateral",label:"Lateral"}),m.jsx(U,{campo:"vehiculoInterior",label:"Interior (desde asiento trasero)"})]}),m.jsx("h3",{children:"Documentos"}),m.jsxs("div",{className:"fotos-grid",children:[m.jsx(U,{campo:"tarjetaPropiedadFrente",label:"Tarjeta propiedad (Frente)"}),m.jsx(U,{campo:"tarjetaPropiedadTrasero",label:"Tarjeta propiedad (Trasero)"}),m.jsx(U,{campo:"breveteFrente",label:"Brevete (Frente)"}),m.jsx(U,{campo:"breveteTrasero",label:"Brevete (Trasero)"}),m.jsx(U,{campo:"soat",label:"SOAT (Vigente)"}),m.jsx(U,{campo:"reciboLuz",label:"Recibo de luz y/o agua"})]}),m.jsx("h3",{children:"Preguntas"}),m.jsxs("div",{className:"form-grid",children:[m.jsxs("div",{className:"input-group full-width",children:[m.jsx(Jw,{size:18,className:"input-icon"}),m.jsxs("select",{name:"codigoVestimenta",value:n.codigoVestimenta,onChange:E,required:!0,children:[m.jsx("option",{value:"",children:"Cumpliras cdigo de vestimenta formal?"}),m.jsx("option",{value:"si",children:"S, estoy de acuerdo"}),m.jsx("option",{value:"no",children:"No, prefiero informal"}),m.jsx("option",{value:"duda",children:"Tengo dudas"})]})]}),m.jsx("div",{className:"input-group full-width",children:m.jsx("textarea",{name:"manejoClienteExigente",value:n.manejoClienteExigente,onChange:E,placeholder:"Cmo manejaras a un cliente exigente?",rows:"2",required:!0})}),m.jsx("div",{className:"input-group full-width",children:m.jsx("textarea",{name:"significadoPremium",value:n.significadoPremium,onChange:E,placeholder:"Qu significa para ti un servicio premium?",rows:"2",required:!0})})]}),m.jsxs("label",{className:"checkbox-label",children:[m.jsx("input",{type:"checkbox",checked:h,onChange:B=>p(B.target.checked)}),m.jsx(Mp,{size:16,className:`checkbox-icon ${h?"checked":""}`}),m.jsx("span",{children:"Confirmo que la informacin es verdica"})]}),m.jsx("button",{type:"submit",className:"submit-btn",disabled:e,children:e?"Enviando...":"Enviar solicitud"})]})},h8=()=>{const[i,e]=O.useState(!1),[n,s]=O.useState(""),[o,c]=O.useState(!1);return{registrarConductor:async(p,g)=>{e(!0),s("");try{let y="";if(g){const w=SN(NN,`conductores/${Date.now()}_${g.name}`);await bN(w,g),y=await AN(w)}const E={...p,fotoURL:y,fechaRegistro:Tp(),estado:"pendiente",disponible:!1},b=await bp(Es(Hi,"conductores"),E);return c(!0),e(!1),{success:!0,id:b.id}}catch(y){return console.error("Error al registrar conductor:",y),s("Error al enviar la solicitud. Intenta nuevamente."),e(!1),{success:!1,error:y}}},loading:i,error:n,success:o}},d8=()=>{const i=Tc(),{registrarConductor:e,loading:n,error:s,success:o}=h8(),c=async(h,p)=>{(await e(h,p)).success&&setTimeout(()=>{i("/")},3e3)};return o?m.jsx("div",{className:"conductor-success",children:m.jsxs("div",{className:"success-card",children:[m.jsx(Mp,{size:64,className:"success-icon"}),m.jsx("h2",{children:"Solicitud enviada!"}),m.jsx("p",{children:"Gracias por tu inters en ser parte de YipiAs."}),m.jsx("p",{children:"Revisaremos tu informacin y te contactaremos pronto."}),m.jsx("button",{onClick:()=>i("/"),className:"btn-volver",children:"Volver al inicio"})]})}):m.jsxs("div",{className:"conductor-registro-container",children:[s&&m.jsx("div",{className:"error-mensaje",children:s}),m.jsx(u8,{onSubmit:c,loading:n})]})},f8=()=>{const{pathname:i}=Ir();return O.useEffect(()=>{window.scrollTo(0,0)},[i]),null},m8=({onFinish:i})=>{const[e,n]=O.useState(!1);return O.useEffect(()=>{const s=setTimeout(()=>{n(!0)},4500),o=setTimeout(()=>{i()},5500);return()=>{clearTimeout(s),clearTimeout(o)}},[i]),m.jsx("div",{className:`splash-screen ${e?"fade-out":""}`,children:m.jsxs("div",{className:"splash-content",children:[m.jsx("img",{src:"/img/premium.png",alt:"YipiAs",className:"splash-logo"}),m.jsx("div",{className:"splash-loader"}),m.jsx("p",{className:"splash-text",children:"Cargando..."})]})})};function p8(){const[i,e]=O.useState(!1),[n,s]=O.useState(!0),o=()=>{s(!1)};return m.jsxs(m.Fragment,{children:[n&&m.jsx(m8,{onFinish:o}),m.jsx(f8,{}),m.jsx(jN,{onOpenAuth:()=>e(!0)}),m.jsxs(dw,{children:[m.jsx(_o,{path:"/",element:m.jsxs("div",{className:"App",children:[m.jsx(MN,{}),m.jsx(kN,{}),m.jsx("hr",{}),m.jsx(PN,{}),m.jsx(t8,{}),m.jsx(n8,{}),m.jsx(r8,{})]})}),m.jsx(_o,{path:"/terminos",element:m.jsx(s8,{})}),m.jsx(_o,{path:"/privacidad",element:m.jsx(a8,{})}),m.jsx(_o,{path:"/mis-reservas",element:m.jsx(c8,{})}),m.jsx(_o,{path:"/conductor-registro",element:m.jsx(d8,{})})," "]}),m.jsx(i8,{}),i&&m.jsx(Lg,{onClose:()=>{e(!1),document.body.style.overflow="auto"}})]})}pS.createRoot(document.getElementById("root")).render(m.jsx(oS.StrictMode,{children:m.jsx(Pw,{children:m.jsx(DN,{children:m.jsx(p8,{})})})}));
