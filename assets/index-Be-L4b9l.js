(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function L0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var om={exports:{}},Nl={};var V_;function yA(){if(V_)return Nl;V_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var j_;function _A(){return j_||(j_=1,om.exports=yA()),om.exports}var g=_A(),lm={exports:{}},Ne={};var P_;function vA(){if(P_)return Ne;P_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function L(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,U={};function ee(O,$,ae){this.props=O,this.context=$,this.refs=U,this.updater=ae||z}ee.prototype.isReactComponent={},ee.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},ee.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ie(){}ie.prototype=ee.prototype;function ne(O,$,ae){this.props=O,this.context=$,this.refs=U,this.updater=ae||z}var oe=ne.prototype=new ie;oe.constructor=ne,K(oe,ee.prototype),oe.isPureReactComponent=!0;var ce=Array.isArray;function ve(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function x(O,$,ae){var le=ae.ref;return{$$typeof:r,type:O,key:$,ref:le!==void 0?le:null,props:ae}}function k(O,$){return x(O.type,$,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return $[ae]})}var C=/\/+/g;function Oe(O,$){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):$.toString(36)}function Pe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ve,ve):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,$,ae,le,Ae){var Te=typeof O;(Te==="undefined"||Te==="boolean")&&(O=null);var Be=!1;if(O===null)Be=!0;else switch(Te){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(O.$$typeof){case r:case e:Be=!0;break;case T:return Be=O._init,Q(Be(O._payload),$,ae,le,Ae)}}if(Be)return Ae=Ae(O),Be=le===""?"."+Oe(O,0):le,ce(Ae)?(ae="",Be!=null&&(ae=Be.replace(C,"$&/")+"/"),Q(Ae,$,ae,"",function(pi){return pi})):Ae!=null&&(D(Ae)&&(Ae=k(Ae,ae+(Ae.key==null||O&&O.key===Ae.key?"":(""+Ae.key).replace(C,"$&/")+"/")+Be)),$.push(Ae)),1;Be=0;var Tt=le===""?".":le+":";if(ce(O))for(var ct=0;ct<O.length;ct++)le=O[ct],Te=Tt+Oe(le,ct),Be+=Q(le,$,ae,Te,Ae);else if(ct=L(O),typeof ct=="function")for(O=ct.call(O),ct=0;!(le=O.next()).done;)le=le.value,Te=Tt+Oe(le,ct++),Be+=Q(le,$,ae,Te,Ae);else if(Te==="object"){if(typeof O.then=="function")return Q(Pe(O),$,ae,le,Ae);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Be}function se(O,$,ae){if(O==null)return O;var le=[],Ae=0;return Q(O,le,"","",function(Te){return $.call(ae,Te,Ae++)}),le}function ge(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Le=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Me={map:se,forEach:function(O,$,ae){se(O,function(){$.apply(this,arguments)},ae)},count:function(O){var $=0;return se(O,function(){$++}),$},toArray:function(O){return se(O,function($){return $})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ne.Activity=S,Ne.Children=Me,Ne.Component=ee,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=ne,Ne.StrictMode=s,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Ne.cache=function(O){return function(){return O.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(O,$,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=K({},O.props),Ae=O.key;if($!=null)for(Te in $.key!==void 0&&(Ae=""+$.key),$)!R.call($,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&$.ref===void 0||(le[Te]=$[Te]);var Te=arguments.length-2;if(Te===1)le.children=ae;else if(1<Te){for(var Be=Array(Te),Tt=0;Tt<Te;Tt++)Be[Tt]=arguments[Tt+2];le.children=Be}return x(O.type,Ae,le)},Ne.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ne.createElement=function(O,$,ae){var le,Ae={},Te=null;if($!=null)for(le in $.key!==void 0&&(Te=""+$.key),$)R.call($,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Ae[le]=$[le]);var Be=arguments.length-2;if(Be===1)Ae.children=ae;else if(1<Be){for(var Tt=Array(Be),ct=0;ct<Be;ct++)Tt[ct]=arguments[ct+2];Ae.children=Tt}if(O&&O.defaultProps)for(le in Be=O.defaultProps,Be)Ae[le]===void 0&&(Ae[le]=Be[le]);return x(O,Te,Ae)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(O){return{$$typeof:m,render:O}},Ne.isValidElement=D,Ne.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ge}},Ne.memo=function(O,$){return{$$typeof:y,type:O,compare:$===void 0?null:$}},Ne.startTransition=function(O){var $=I.T,ae={};I.T=ae;try{var le=O(),Ae=I.S;Ae!==null&&Ae(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ve,Le)}catch(Te){Le(Te)}finally{$!==null&&ae.types!==null&&($.types=ae.types),I.T=$}},Ne.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ne.use=function(O){return I.H.use(O)},Ne.useActionState=function(O,$,ae){return I.H.useActionState(O,$,ae)},Ne.useCallback=function(O,$){return I.H.useCallback(O,$)},Ne.useContext=function(O){return I.H.useContext(O)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(O,$){return I.H.useDeferredValue(O,$)},Ne.useEffect=function(O,$){return I.H.useEffect(O,$)},Ne.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Ne.useId=function(){return I.H.useId()},Ne.useImperativeHandle=function(O,$,ae){return I.H.useImperativeHandle(O,$,ae)},Ne.useInsertionEffect=function(O,$){return I.H.useInsertionEffect(O,$)},Ne.useLayoutEffect=function(O,$){return I.H.useLayoutEffect(O,$)},Ne.useMemo=function(O,$){return I.H.useMemo(O,$)},Ne.useOptimistic=function(O,$){return I.H.useOptimistic(O,$)},Ne.useReducer=function(O,$,ae){return I.H.useReducer(O,$,ae)},Ne.useRef=function(O){return I.H.useRef(O)},Ne.useState=function(O){return I.H.useState(O)},Ne.useSyncExternalStore=function(O,$,ae){return I.H.useSyncExternalStore(O,$,ae)},Ne.useTransition=function(){return I.H.useTransition()},Ne.version="19.2.4",Ne}var L_;function hp(){return L_||(L_=1,lm.exports=vA()),lm.exports}var j=hp();const EA=L0(j);var cm={exports:{}},Dl={},um={exports:{}},hm={};var U_;function TA(){return U_||(U_=1,(function(r){function e(Q,se){var ge=Q.length;Q.push(se);e:for(;0<ge;){var Le=ge-1>>>1,Me=Q[Le];if(0<o(Me,se))Q[Le]=se,Q[ge]=Me,ge=Le;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],ge=Q.pop();if(ge!==se){Q[0]=ge;e:for(var Le=0,Me=Q.length,O=Me>>>1;Le<O;){var $=2*(Le+1)-1,ae=Q[$],le=$+1,Ae=Q[le];if(0>o(ae,ge))le<Me&&0>o(Ae,ae)?(Q[Le]=Ae,Q[le]=ge,Le=le):(Q[Le]=ae,Q[$]=ge,Le=$);else if(le<Me&&0>o(Ae,ge))Q[Le]=Ae,Q[le]=ge,Le=le;else break e}}return se}function o(Q,se){var ge=Q.sortIndex-se.sortIndex;return ge!==0?ge:Q.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],T=1,S=null,w=3,L=!1,z=!1,K=!1,U=!1,ee=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function oe(Q){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=Q)s(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(y)}}function ce(Q){if(K=!1,oe(Q),!z)if(n(p)!==null)z=!0,ve||(ve=!0,V());else{var se=n(y);se!==null&&Pe(ce,se.startTime-Q)}}var ve=!1,I=-1,R=5,x=-1;function k(){return U?!0:!(r.unstable_now()-x<R)}function D(){if(U=!1,ve){var Q=r.unstable_now();x=Q;var se=!0;try{e:{z=!1,K&&(K=!1,ie(I),I=-1),L=!0;var ge=w;try{t:{for(oe(Q),S=n(p);S!==null&&!(S.expirationTime>Q&&k());){var Le=S.callback;if(typeof Le=="function"){S.callback=null,w=S.priorityLevel;var Me=Le(S.expirationTime<=Q);if(Q=r.unstable_now(),typeof Me=="function"){S.callback=Me,oe(Q),se=!0;break t}S===n(p)&&s(p),oe(Q)}else s(p);S=n(p)}if(S!==null)se=!0;else{var O=n(y);O!==null&&Pe(ce,O.startTime-Q),se=!1}}break e}finally{S=null,w=ge,L=!1}se=void 0}}finally{se?V():ve=!1}}}var V;if(typeof ne=="function")V=function(){ne(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Oe=C.port2;C.port1.onmessage=D,V=function(){Oe.postMessage(null)}}else V=function(){ee(D,0)};function Pe(Q,se){I=ee(function(){Q(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var ge=w;w=se;try{return Q()}finally{w=ge}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=w;w=Q;try{return se()}finally{w=ge}},r.unstable_scheduleCallback=function(Q,se,ge){var Le=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Le+ge:Le):ge=Le,Q){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ge+Me,Q={id:T++,callback:se,priorityLevel:Q,startTime:ge,expirationTime:Me,sortIndex:-1},ge>Le?(Q.sortIndex=ge,e(y,Q),n(p)===null&&Q===n(y)&&(K?(ie(I),I=-1):K=!0,Pe(ce,ge-Le))):(Q.sortIndex=Me,e(p,Q),z||L||(z=!0,ve||(ve=!0,V()))),Q},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(Q){var se=w;return function(){var ge=w;w=se;try{return Q.apply(this,arguments)}finally{w=ge}}}})(hm)),hm}var z_;function SA(){return z_||(z_=1,um.exports=TA()),um.exports}var fm={exports:{}},rn={};var B_;function AA(){if(B_)return rn;B_=1;var r=hp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,T)},rn.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},rn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},rn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},rn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,S=m(T,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:L}):T==="script"&&s.d.X(p,{crossOrigin:S,integrity:w,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},rn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},rn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},rn.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},rn.requestFormReset=function(p){s.d.r(p)},rn.unstable_batchedUpdates=function(p,y){return p(y)},rn.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},rn.useFormStatus=function(){return f.H.useHostTransitionStatus()},rn.version="19.2.4",rn}var H_;function bA(){if(H_)return fm.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=AA(),fm.exports}var q_;function wA(){if(q_)return Dl;q_=1;var r=SA(),e=hp(),n=bA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,A=h.child;A;){if(A===a){v=!0,a=h,l=d;break}if(A===l){v=!0,l=h,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,l=h;break}if(A===l){v=!0,l=d,a=h;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case ee:return"Profiler";case U:return"StrictMode";case ce:return"Suspense";case ve:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case ne:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case oe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:Oe(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Oe(t(i))}catch{}}return null}var Pe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Le=[],Me=-1;function O(t){return{current:t}}function $(t){0>Me||(t.current=Le[Me],Le[Me]=null,Me--)}function ae(t,i){Me++,Le[Me]=t.current,t.current=i}var le=O(null),Ae=O(null),Te=O(null),Be=O(null);function Tt(t,i){switch(ae(Te,i),ae(Ae,t),ae(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?r_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=r_(i),t=s_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(le),ae(le,t)}function ct(){$(le),$(Ae),$(Te)}function pi(t){t.memoizedState!==null&&ae(Be,t);var i=le.current,a=s_(i,t.type);i!==a&&(ae(Ae,t),ae(le,a))}function Ir(t){Ae.current===t&&($(le),$(Ae)),Be.current===t&&($(Be),Rl._currentValue=ge)}var xr,Nr;function Dn(t){if(xr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);xr=i&&i[1]||"",Nr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xr+t+Nr}var pe=!1;function Ce(t,i){if(!t||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Y){var F=Y}Reflect.construct(t,[],J)}else{try{J.call()}catch(Y){F=Y}t.call(J.prototype)}}else{try{throw Error()}catch(Y){F=Y}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var N=v.split(`
`),q=A.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===q.length)for(l=N.length-1,h=q.length-1;1<=l&&0<=h&&N[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==q[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Dn(a):""}function Ie(t,i){switch(t.tag){case 26:case 27:case 5:return Dn(t.type);case 16:return Dn("Lazy");case 13:return t.child!==i&&i!==null?Dn("Suspense Fallback"):Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return Ce(t.type,!1);case 11:return Ce(t.type.render,!1);case 1:return Ce(t.type,!0);case 31:return Dn("Activity");default:return""}}function Re(t){try{var i="",a=null;do i+=Ie(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var de=Object.prototype.hasOwnProperty,Se=r.unstable_scheduleCallback,He=r.unstable_cancelCallback,Bt=r.unstable_shouldYield,cn=r.unstable_requestPaint,mt=r.unstable_now,On=r.unstable_getCurrentPriorityLevel,un=r.unstable_ImmediatePriority,$n=r.unstable_UserBlockingPriority,Dr=r.unstable_NormalPriority,uf=r.unstable_LowPriority,Tc=r.unstable_IdlePriority,Sc=r.log,Ac=r.unstable_setDisableYieldValue,Xn=null,Yt=null;function Mn(t){if(typeof Sc=="function"&&Ac(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Xn,t)}catch{}}var St=Math.clz32?Math.clz32:wc,bc=Math.log,Ea=Math.LN2;function wc(t){return t>>>=0,t===0?32:31-(bc(t)/Ea|0)|0}var gi=256,Is=262144,Ct=4194304;function yi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _i(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=yi(l):(v&=A,v!==0?h=yi(v):a||(a=A&~t,a!==0&&(h=yi(a))))):(A=l&~d,A!==0?h=yi(A):v!==0?h=yi(v):a||(a=l&~t,a!==0&&(h=yi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Wn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function hf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rc(){var t=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),t}function vi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function xs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ff(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,N=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-St(a),J=1<<X;A[X]=0,N[X]=-1;var F=q[X];if(F!==null)for(q[X]=null,X=0;X<F.length;X++){var Y=F[X];Y!==null&&(Y.lane&=-536870913)}a&=~J}l!==0&&Ns(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Ns(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-St(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Do(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-St(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Oo(t,i){var a=i&-i;return a=(a&42)!==0?1:Ds(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ds(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Cc(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:I_(t.type))}function Jn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Zn=Math.random().toString(36).slice(2),It="__reactFiber$"+Zn,Ht="__reactProps$"+Zn,Ei="__reactContainer$"+Zn,Ta="__reactEvents$"+Zn,df="__reactListeners$"+Zn,Ic="__reactHandles$"+Zn,xc="__reactResources$"+Zn,Ti="__reactMarker$"+Zn;function Sa(t){delete t[It],delete t[Ht],delete t[Ta],delete t[df],delete t[Ic]}function Si(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ei]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=f_(t);t!==null;){if(a=t[It])return a;t=f_(t)}return i}t=a,a=t.parentNode}return null}function kn(t){if(t=t[It]||t[Ei]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Tn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ai(t){var i=t[xc];return i||(i=t[xc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(t){t[Ti]=!0}var Mo=new Set,ko={};function bi(t,i){wi(t,i),wi(t+"Capture",i)}function wi(t,i){for(ko[t]=i,t=0;t<i.length;t++)Mo.add(i[t])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},Po={};function Nc(t){return de.call(Po,t)?!0:de.call(jo,t)?!1:Vo.test(t)?Po[t]=!0:(jo[t]=!0,!1)}function Aa(t,i,a){if(Nc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Sn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Nt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Or(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Lo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function tt(t){if(!t._valueTracker){var i=Or(t)?"checked":"value";t._valueTracker=Lo(t,i,""+t[i])}}function Os(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Or(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ms=/[\n"\\]/g;function dn(t){return t.replace(Ms,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ba(t,i,a,l,h,d,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+qt(i)):t.value!==""+qt(i)&&(t.value=""+qt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Uo(t,v,qt(i)):a!=null?Uo(t,v,qt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+qt(A):t.removeAttribute("name")}function Dc(t,i,a,l,h,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){tt(t);return}a=a!=null?""+qt(a):"",i=i!=null?""+qt(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),tt(t)}function Uo(t,i,a){i==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Mr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+qt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Oc(t,i,a){if(i!=null&&(i=""+qt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+qt(a):""}function kr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=qt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),tt(t)}function mn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Mc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Mc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Bo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&zo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&zo(t,d,i[d])}function wa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Vr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var Ho=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jr=null,Ci=null;function ks(t){var i=kn(t);if(i&&(t=i.stateNode)){var a=t[Ht]||null;e:switch(t=i.stateNode,i.type){case"input":if(ba(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Ht]||null;if(!h)throw Error(s(90));ba(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Os(l)}break e;case"textarea":Oc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Mr(t,!!a.multiple,i,!1)}}}var Ca=!1;function Pr(t,i,a){if(Ca)return t(i,a);Ca=!0;try{var l=t(i);return l}finally{if(Ca=!1,(jr!==null||Ci!==null)&&(Cu(),jr&&(i=jr,t=Ci,Ci=jr=null,ks(i),t)))for(i=0;i<t.length;i++)ks(t[i])}}function ti(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ht]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(jn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Vs=!1}var Ii=null,qo=null,js=null;function Fo(){if(js)return js;var t,i=qo,a=i.length,l,h="value"in Ii?Ii.value:Ii.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return js=h.slice(t,1<l?1-l:void 0)}function Ps(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Wi(){return!0}function ni(){return!1}function Kt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wi:ni,this.isPropagationStopped=ni,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),i}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Kt(Ji),Lr=S({},Ji,{view:0,detail:0}),Go=Kt(Lr),Ur,Ia,Ni,xa=S({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Ur=t.screenX-Ni.screenX,Ia=t.screenY-Ni.screenY):Ia=Ur=0,Ni=t),Ur)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),Yo=Kt(xa),Ls=S({},xa,{dataTransfer:0}),Vc=Kt(Ls),jc=S({},Lr,{relatedTarget:0}),Us=Kt(jc),Ko=S({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Pc=Kt(Ko),Na=S({},Ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lc=Kt(Na),Uc=S({},Ji,{data:0}),Di=Kt(Uc),zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Hc[t])?!!i[t]:!1}function zr(){return qc}var hn=S({},Lr,{key:function(t){if(t.key){var i=zc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fc=Kt(hn),Gc=S({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Kt(Gc),u=S({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),_=Kt(u),E=S({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Kt(E),B=S({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Kt(B),re=S({},Ji,{newState:0,oldState:0}),ke=Kt(re),At=[9,13,27,32],Je=jn&&"CompositionEvent"in window,pt=null;jn&&"documentMode"in document&&(pt=document.documentMode);var Pn=jn&&"TextEvent"in window&&!pt,Oi=jn&&(!Je||pt&&8<pt&&11>=pt),ii=" ",ri=!1;function zs(t,i){switch(t){case"keyup":return At.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function BT(t,i){switch(t){case"compositionend":return Da(i);case"keypress":return i.which!==32?null:(ri=!0,ii);case"textInput":return t=i.data,t===ii&&ri?null:t;default:return null}}function HT(t,i){if(Oa)return t==="compositionend"||!Je&&zs(t,i)?(t=Fo(),js=qo=Ii=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Oi&&i.locale!=="ko"?null:i.data;default:return null}}var qT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!qT[t.type]:i==="textarea"}function gg(t,i,a,l){jr?Ci?Ci.push(l):Ci=[l]:jr=l,i=ku(i,"onChange"),0<i.length&&(a=new xi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Qo=null,$o=null;function FT(t){Jy(t,0)}function Yc(t){var i=Tn(t);if(Os(i))return t}function yg(t,i){if(t==="change")return i}var _g=!1;if(jn){var mf;if(jn){var pf="oninput"in document;if(!pf){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),pf=typeof vg.oninput=="function"}mf=pf}else mf=!1;_g=mf&&(!document.documentMode||9<document.documentMode)}function Eg(){Qo&&(Qo.detachEvent("onpropertychange",Tg),$o=Qo=null)}function Tg(t){if(t.propertyName==="value"&&Yc($o)){var i=[];gg(i,$o,t,Vn(t)),Pr(FT,i)}}function GT(t,i,a){t==="focusin"?(Eg(),Qo=i,$o=a,Qo.attachEvent("onpropertychange",Tg)):t==="focusout"&&Eg()}function YT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yc($o)}function KT(t,i){if(t==="click")return Yc(i)}function QT(t,i){if(t==="input"||t==="change")return Yc(i)}function $T(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var An=typeof Object.is=="function"?Object.is:$T;function Xo(t,i){if(An(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!de.call(i,h)||!An(t[h],i[h]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ag(t,i){var a=Sg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sg(a)}}function bg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?bg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ri(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ri(t.document)}return i}function gf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var XT=jn&&"documentMode"in document&&11>=document.documentMode,Ma=null,yf=null,Wo=null,_f=!1;function Rg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_f||Ma==null||Ma!==Ri(l)||(l=Ma,"selectionStart"in l&&gf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Xo(Wo,l)||(Wo=l,l=ku(yf,"onSelect"),0<l.length&&(i=new xi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ma)))}function Bs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ka={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},vf={},Cg={};jn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Hs(t){if(vf[t])return vf[t];if(!ka[t])return t;var i=ka[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cg)return vf[t]=i[a];return t}var Ig=Hs("animationend"),xg=Hs("animationiteration"),Ng=Hs("animationstart"),WT=Hs("transitionrun"),JT=Hs("transitionstart"),ZT=Hs("transitioncancel"),Dg=Hs("transitionend"),Og=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function si(t,i){Og.set(t,i),bi(i,[t])}var Kc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ln=[],Va=0,Tf=0;function Qc(){for(var t=Va,i=Tf=Va=0;i<t;){var a=Ln[i];Ln[i++]=null;var l=Ln[i];Ln[i++]=null;var h=Ln[i];Ln[i++]=null;var d=Ln[i];if(Ln[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Mg(a,h,d)}}function $c(t,i,a,l){Ln[Va++]=t,Ln[Va++]=i,Ln[Va++]=a,Ln[Va++]=l,Tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sf(t,i,a,l){return $c(t,i,a,l),Xc(t)}function qs(t,i){return $c(t,null,null,i),Xc(t)}function Mg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-St(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Xc(t){if(50<vl)throw vl=0,Dd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ja={};function eS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,i,a,l){return new eS(t,i,a,l)}function Af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function er(t,i){var a=t.alternate;return a===null?(a=bn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function kg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Wc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Af(t)&&(v=1);else if(typeof t=="string")v=sA(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=bn(31,a,i,h),t.elementType=x,t.lanes=d,t;case K:return Fs(a.children,h,d,i);case U:v=8,h|=24;break;case ee:return t=bn(12,a,i,h|2),t.elementType=ee,t.lanes=d,t;case ce:return t=bn(13,a,i,h),t.elementType=ce,t.lanes=d,t;case ve:return t=bn(19,a,i,h),t.elementType=ve,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:v=10;break e;case ie:v=9;break e;case oe:v=11;break e;case I:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=bn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Fs(t,i,a,l){return t=bn(7,t,l,i),t.lanes=a,t}function bf(t,i,a){return t=bn(6,t,null,i),t.lanes=a,t}function Vg(t){var i=bn(18,null,null,0);return i.stateNode=t,i}function wf(t,i,a){return i=bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var jg=new WeakMap;function Un(t,i){if(typeof t=="object"&&t!==null){var a=jg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Re(i)},jg.set(t,i),i)}return{value:t,source:i,stack:Re(i)}}var Pa=[],La=0,Jc=null,Jo=0,zn=[],Bn=0,Br=null,Mi=1,ki="";function tr(t,i){Pa[La++]=Jo,Pa[La++]=Jc,Jc=t,Jo=i}function Pg(t,i,a){zn[Bn++]=Mi,zn[Bn++]=ki,zn[Bn++]=Br,Br=t;var l=Mi;t=ki;var h=32-St(l)-1;l&=~(1<<h),a+=1;var d=32-St(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Mi=1<<32-St(i)+h|a<<h|l,ki=d+t}else Mi=1<<d|a<<h|l,ki=t}function Rf(t){t.return!==null&&(tr(t,1),Pg(t,1,0))}function Cf(t){for(;t===Jc;)Jc=Pa[--La],Pa[La]=null,Jo=Pa[--La],Pa[La]=null;for(;t===Br;)Br=zn[--Bn],zn[Bn]=null,ki=zn[--Bn],zn[Bn]=null,Mi=zn[--Bn],zn[Bn]=null}function Lg(t,i){zn[Bn++]=Mi,zn[Bn++]=ki,zn[Bn++]=Br,Mi=i.id,ki=i.overflow,Br=t}var Qt=null,ht=null,Qe=!1,Hr=null,Hn=!1,If=Error(s(519));function qr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(Un(i,t)),If}function Ug(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[Ht]=l,a){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)ze(Tl[a],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),Dc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),kr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||n_(i.textContent,a)?(l.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),l.onScroll!=null&&ze("scroll",i),l.onScrollEnd!=null&&ze("scrollend",i),l.onClick!=null&&(i.onclick=ei),i=!0):i=!1,i||qr(t,!0)}function zg(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Qt=Qt.return}}function Ua(t){if(t!==Qt)return!1;if(!Qe)return zg(t),Qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Yd(t.type,t.memoizedProps)),a=!a),a&&ht&&qr(t),zg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ht=h_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ht=h_(t)}else i===27?(i=ht,is(t.type)?(t=Wd,Wd=null,ht=t):ht=i):ht=Qt?Fn(t.stateNode.nextSibling):null;return!0}function Gs(){ht=Qt=null,Qe=!1}function xf(){var t=Hr;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),Hr=null),t}function Zo(t){Hr===null?Hr=[t]:Hr.push(t)}var Nf=O(null),Ys=null,nr=null;function Fr(t,i,a){ae(Nf,i._currentValue),i._currentValue=a}function ir(t){t._currentValue=Nf.current,$(Nf)}function Df(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Of(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var N=0;N<i.length;N++)if(A.context===i[N]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),Df(d.return,a,t),l||(v=null);break e}d=A.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Df(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function za(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=h.type;An(h.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(h===Be.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&Of(i,t,a,l),i.flags|=262144}function Zc(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ks(t){Ys=t,nr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Bg(Ys,t)}function eu(t,i){return Ys===null&&Ks(t),Bg(t,i)}function Bg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},nr===null){if(t===null)throw Error(s(308));nr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else nr=nr.next=i;return a}var tS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},nS=r.unstable_scheduleCallback,iS=r.unstable_NormalPriority,Dt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new tS,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&nS(iS,function(){t.controller.abort()})}var tl=null,kf=0,Ba=0,Ha=null;function rS(t,i){if(tl===null){var a=tl=[];kf=0,Ba=Pd(),Ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return kf++,i.then(Hg,Hg),i}function Hg(){if(--kf===0&&tl!==null){Ha!==null&&(Ha.status="fulfilled");var t=tl;tl=null,Ba=0,Ha=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function sS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var qg=Q.S;Q.S=function(t,i){Ry=mt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&rS(t,i),qg!==null&&qg(t,i)};var Qs=O(null);function Vf(){var t=Qs.current;return t!==null?t:lt.pooledCache}function tu(t,i){i===null?ae(Qs,Qs.current):ae(Qs,i.pool)}function Fg(){var t=Vf();return t===null?null:{parent:Dt._currentValue,pool:t}}var qa=Error(s(460)),jf=Error(s(474)),nu=Error(s(542)),iu={then:function(){}};function Gg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ei,ei),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Qg(t),t;default:if(typeof i.status=="string")i.then(ei,ei);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Qg(t),t}throw Xs=i,qa}}function $s(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xs=a,qa):a}}var Xs=null;function Kg(){if(Xs===null)throw Error(s(459));var t=Xs;return Xs=null,t}function Qg(t){if(t===qa||t===nu)throw Error(s(483))}var Fa=null,nl=0;function ru(t){var i=nl;return nl+=1,Fa===null&&(Fa=[]),Yg(Fa,t,i)}function il(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function su(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function $g(t){function i(P,M){if(t){var H=P.deletions;H===null?(P.deletions=[M],P.flags|=16):H.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)i(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=er(P,M),P.index=0,P.sibling=null,P}function d(P,M,H){return P.index=H,t?(H=P.alternate,H!==null?(H=H.index,H<M?(P.flags|=67108866,M):H):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function A(P,M,H,W){return M===null||M.tag!==6?(M=bf(H,P.mode,W),M.return=P,M):(M=h(M,H),M.return=P,M)}function N(P,M,H,W){var ye=H.type;return ye===K?X(P,M,H.props.children,W,H.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&$s(ye)===M.type)?(M=h(M,H.props),il(M,H),M.return=P,M):(M=Wc(H.type,H.key,H.props,null,P.mode,W),il(M,H),M.return=P,M)}function q(P,M,H,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=wf(H,P.mode,W),M.return=P,M):(M=h(M,H.children||[]),M.return=P,M)}function X(P,M,H,W,ye){return M===null||M.tag!==7?(M=Fs(H,P.mode,W,ye),M.return=P,M):(M=h(M,H),M.return=P,M)}function J(P,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=bf(""+M,P.mode,H),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return H=Wc(M.type,M.key,M.props,null,P.mode,H),il(H,M),H.return=P,H;case z:return M=wf(M,P.mode,H),M.return=P,M;case R:return M=$s(M),J(P,M,H)}if(Pe(M)||V(M))return M=Fs(M,P.mode,H,null),M.return=P,M;if(typeof M.then=="function")return J(P,ru(M),H);if(M.$$typeof===ne)return J(P,eu(P,M),H);su(P,M)}return null}function F(P,M,H,W){var ye=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ye!==null?null:A(P,M,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L:return H.key===ye?N(P,M,H,W):null;case z:return H.key===ye?q(P,M,H,W):null;case R:return H=$s(H),F(P,M,H,W)}if(Pe(H)||V(H))return ye!==null?null:X(P,M,H,W,null);if(typeof H.then=="function")return F(P,M,ru(H),W);if(H.$$typeof===ne)return F(P,M,eu(P,H),W);su(P,H)}return null}function Y(P,M,H,W,ye){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(H)||null,A(M,P,""+W,ye);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case L:return P=P.get(W.key===null?H:W.key)||null,N(M,P,W,ye);case z:return P=P.get(W.key===null?H:W.key)||null,q(M,P,W,ye);case R:return W=$s(W),Y(P,M,H,W,ye)}if(Pe(W)||V(W))return P=P.get(H)||null,X(M,P,W,ye,null);if(typeof W.then=="function")return Y(P,M,H,ru(W),ye);if(W.$$typeof===ne)return Y(P,M,H,eu(M,W),ye);su(M,W)}return null}function fe(P,M,H,W){for(var ye=null,Xe=null,me=M,je=M=0,Fe=null;me!==null&&je<H.length;je++){me.index>je?(Fe=me,me=null):Fe=me.sibling;var We=F(P,me,H[je],W);if(We===null){me===null&&(me=Fe);break}t&&me&&We.alternate===null&&i(P,me),M=d(We,M,je),Xe===null?ye=We:Xe.sibling=We,Xe=We,me=Fe}if(je===H.length)return a(P,me),Qe&&tr(P,je),ye;if(me===null){for(;je<H.length;je++)me=J(P,H[je],W),me!==null&&(M=d(me,M,je),Xe===null?ye=me:Xe.sibling=me,Xe=me);return Qe&&tr(P,je),ye}for(me=l(me);je<H.length;je++)Fe=Y(me,P,je,H[je],W),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?je:Fe.key),M=d(Fe,M,je),Xe===null?ye=Fe:Xe.sibling=Fe,Xe=Fe);return t&&me.forEach(function(ls){return i(P,ls)}),Qe&&tr(P,je),ye}function Ee(P,M,H,W){if(H==null)throw Error(s(151));for(var ye=null,Xe=null,me=M,je=M=0,Fe=null,We=H.next();me!==null&&!We.done;je++,We=H.next()){me.index>je?(Fe=me,me=null):Fe=me.sibling;var ls=F(P,me,We.value,W);if(ls===null){me===null&&(me=Fe);break}t&&me&&ls.alternate===null&&i(P,me),M=d(ls,M,je),Xe===null?ye=ls:Xe.sibling=ls,Xe=ls,me=Fe}if(We.done)return a(P,me),Qe&&tr(P,je),ye;if(me===null){for(;!We.done;je++,We=H.next())We=J(P,We.value,W),We!==null&&(M=d(We,M,je),Xe===null?ye=We:Xe.sibling=We,Xe=We);return Qe&&tr(P,je),ye}for(me=l(me);!We.done;je++,We=H.next())We=Y(me,P,je,We.value,W),We!==null&&(t&&We.alternate!==null&&me.delete(We.key===null?je:We.key),M=d(We,M,je),Xe===null?ye=We:Xe.sibling=We,Xe=We);return t&&me.forEach(function(gA){return i(P,gA)}),Qe&&tr(P,je),ye}function ot(P,M,H,W){if(typeof H=="object"&&H!==null&&H.type===K&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case L:e:{for(var ye=H.key;M!==null;){if(M.key===ye){if(ye=H.type,ye===K){if(M.tag===7){a(P,M.sibling),W=h(M,H.props.children),W.return=P,P=W;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&$s(ye)===M.type){a(P,M.sibling),W=h(M,H.props),il(W,H),W.return=P,P=W;break e}a(P,M);break}else i(P,M);M=M.sibling}H.type===K?(W=Fs(H.props.children,P.mode,W,H.key),W.return=P,P=W):(W=Wc(H.type,H.key,H.props,null,P.mode,W),il(W,H),W.return=P,P=W)}return v(P);case z:e:{for(ye=H.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(P,M.sibling),W=h(M,H.children||[]),W.return=P,P=W;break e}else{a(P,M);break}else i(P,M);M=M.sibling}W=wf(H,P.mode,W),W.return=P,P=W}return v(P);case R:return H=$s(H),ot(P,M,H,W)}if(Pe(H))return fe(P,M,H,W);if(V(H)){if(ye=V(H),typeof ye!="function")throw Error(s(150));return H=ye.call(H),Ee(P,M,H,W)}if(typeof H.then=="function")return ot(P,M,ru(H),W);if(H.$$typeof===ne)return ot(P,M,eu(P,H),W);su(P,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(a(P,M.sibling),W=h(M,H),W.return=P,P=W):(a(P,M),W=bf(H,P.mode,W),W.return=P,P=W),v(P)):a(P,M)}return function(P,M,H,W){try{nl=0;var ye=ot(P,M,H,W);return Fa=null,ye}catch(me){if(me===qa||me===nu)throw me;var Xe=bn(29,me,null,P.mode);return Xe.lanes=W,Xe.return=P,Xe}}}var Ws=$g(!0),Xg=$g(!1),Gr=!1;function Pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Kr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Xc(t),Mg(t,null,a),i}return $c(t,l,i,a),Xc(t)}function rl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Do(t,a)}}function Uf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var zf=!1;function sl(){if(zf){var t=Ha;if(t!==null)throw t}}function al(t,i,a,l){zf=!1;var h=t.updateQueue;Gr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var N=A,q=N.next;N.next=null,v===null?d=q:v.next=q,v=N;var X=t.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==v&&(A===null?X.firstBaseUpdate=q:A.next=q,X.lastBaseUpdate=N))}if(d!==null){var J=h.baseState;v=0,X=q=N=null,A=d;do{var F=A.lane&-536870913,Y=F!==A.lane;if(Y?(qe&F)===F:(l&F)===F){F!==0&&F===Ba&&(zf=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var fe=t,Ee=A;F=i;var ot=a;switch(Ee.tag){case 1:if(fe=Ee.payload,typeof fe=="function"){J=fe.call(ot,J,F);break e}J=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ee.payload,F=typeof fe=="function"?fe.call(ot,J,F):fe,F==null)break e;J=S({},J,F);break e;case 2:Gr=!0}}F=A.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(q=X=Y,N=J):X=X.next=Y,v|=F;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Y=A,A=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);X===null&&(N=J),h.baseState=N,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Jr|=v,t.lanes=v,t.memoizedState=J}}function Wg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Jg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wg(a[t],i)}var Ga=O(null),au=O(0);function Zg(t,i){t=fr,ae(au,t),ae(Ga,i),fr=t|i.baseLanes}function Bf(){ae(au,fr),ae(Ga,Ga.current)}function Hf(){fr=au.current,$(Ga),$(au)}var wn=O(null),qn=null;function Qr(t){var i=t.alternate;ae(bt,bt.current&1),ae(wn,t),qn===null&&(i===null||Ga.current!==null||i.memoizedState!==null)&&(qn=t)}function qf(t){ae(bt,bt.current),ae(wn,t),qn===null&&(qn=t)}function e1(t){t.tag===22?(ae(bt,bt.current),ae(wn,t),qn===null&&(qn=t)):$r()}function $r(){ae(bt,bt.current),ae(wn,wn.current)}function Rn(t){$(wn),qn===t&&(qn=null),$(bt)}var bt=O(0);function ou(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||$d(a)||Xd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var rr=0,Ve=null,st=null,Ot=null,lu=!1,Ya=!1,Js=!1,cu=0,ol=0,Ka=null,aS=0;function vt(){throw Error(s(321))}function Ff(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!An(t[a],i[a]))return!1;return!0}function Gf(t,i,a,l,h,d){return rr=d,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?P1:ad,Js=!1,d=a(l,h),Js=!1,Ya&&(d=n1(i,a,l,h)),t1(t),d}function t1(t){Q.H=ul;var i=st!==null&&st.next!==null;if(rr=0,Ot=st=Ve=null,lu=!1,ol=0,Ka=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&Zc(t)&&(Mt=!0))}function n1(t,i,a,l){Ve=t;var h=0;do{if(Ya&&(Ka=null),ol=0,Ya=!1,25<=h)throw Error(s(301));if(h+=1,Ot=st=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=L1,d=i(a,l)}while(Ya);return d}function oS(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?ll(i):i,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Ve.flags|=1024),i}function Yf(){var t=cu!==0;return cu=0,t}function Kf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Qf(t){if(lu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}lu=!1}rr=0,Ot=st=Ve=null,Ya=!1,ol=cu=0,Ka=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ve.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function wt(){if(st===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var i=Ot===null?Ve.memoizedState:Ot.next;if(i!==null)Ot=i,st=t;else{if(t===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Ot===null?Ve.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var i=ol;return ol+=1,Ka===null&&(Ka=[]),t=Yg(Ka,t,i),i=Ve,(Ot===null?i.memoizedState:Ot.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?P1:ad),t}function hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===ne)return $t(t)}throw Error(s(438,String(t)))}function $f(t){var i=null,a=Ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=uu(),Ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function sr(t,i){return typeof i=="function"?i(t):i}function fu(t){var i=wt();return Xf(i,st,t)}function Xf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=v=null,N=null,q=i,X=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(qe&J)===J:(rr&J)===J){var F=q.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===Ba&&(X=!0);else if((rr&F)===F){q=q.next,F===Ba&&(X=!0);continue}else J={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(A=N=J,v=d):N=N.next=J,Ve.lanes|=F,Jr|=F;J=q.action,Js&&a(d,J),d=q.hasEagerState?q.eagerState:a(d,J)}else F={lane:J,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(A=N=F,v=d):N=N.next=F,Ve.lanes|=J,Jr|=J;q=q.next}while(q!==null&&q!==i);if(N===null?v=d:N.next=A,!An(d,t.memoizedState)&&(Mt=!0,X&&(a=Ha,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wf(t){var i=wt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);An(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function i1(t,i,a){var l=Ve,h=wt(),d=Qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!An((st||h).memoizedState,a);if(v&&(h.memoizedState=a,Mt=!0),h=h.queue,ed(a1.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,Qa(9,{destroy:void 0},s1.bind(null,l,h,a,i),null),lt===null)throw Error(s(349));d||(rr&127)!==0||r1(l,i,a)}return a}function r1(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ve.updateQueue,i===null?(i=uu(),Ve.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function s1(t,i,a,l){i.value=a,i.getSnapshot=l,o1(i)&&l1(t)}function a1(t,i,a){return a(function(){o1(i)&&l1(t)})}function o1(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!An(t,a)}catch{return!0}}function l1(t){var i=qs(t,2);i!==null&&vn(i,t,2)}function Jf(t){var i=fn();if(typeof t=="function"){var a=t;if(t=a(),Js){Mn(!0);try{a()}finally{Mn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:t},i}function c1(t,i,a,l){return t.baseState=a,Xf(t,st,typeof l=="function"?l:sr)}function lS(t,i,a,l,h){if(pu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,u1(i,d)):(d.next=a.next,i.pending=a.next=d)}}function u1(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,v={};Q.T=v;try{var A=a(h,l),N=Q.S;N!==null&&N(v,A),h1(t,i,A)}catch(q){Zf(t,i,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),Q.T=d}}else try{d=a(h,l),h1(t,i,d)}catch(q){Zf(t,i,q)}}function h1(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){f1(t,i,l)},function(l){return Zf(t,i,l)}):f1(t,i,a)}function f1(t,i,a){i.status="fulfilled",i.value=a,d1(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,u1(t,a)))}function Zf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,d1(i),i=i.next;while(i!==l)}t.action=null}function d1(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function m1(t,i){return i}function p1(t,i){if(Qe){var a=lt.formState;if(a!==null){e:{var l=Ve;if(Qe){if(ht){t:{for(var h=ht,d=Hn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ht=Fn(h.nextSibling),l=h.data==="F!";break e}}qr(l)}l=!1}l&&(i=a[0])}}return a=fn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m1,lastRenderedState:i},a.queue=l,a=k1.bind(null,Ve,l),l.dispatch=a,l=Jf(!1),d=sd.bind(null,Ve,!1,l.queue),l=fn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=lS.bind(null,Ve,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function g1(t){var i=wt();return y1(i,st,t)}function y1(t,i,a){if(i=Xf(t,i,m1)[0],t=fu(sr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ll(i)}catch(v){throw v===qa?nu:v}else l=i;i=wt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ve.flags|=2048,Qa(9,{destroy:void 0},cS.bind(null,h,a),null)),[l,d,t]}function cS(t,i){t.action=i}function _1(t){var i=wt(),a=st;if(a!==null)return y1(i,a,t);wt(),i=i.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Qa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=uu(),Ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function v1(){return wt().memoizedState}function du(t,i,a,l){var h=fn();Ve.flags|=t,h.memoizedState=Qa(1|i,{destroy:void 0},a,l===void 0?null:l)}function mu(t,i,a,l){var h=wt();l=l===void 0?null:l;var d=h.memoizedState.inst;st!==null&&l!==null&&Ff(l,st.memoizedState.deps)?h.memoizedState=Qa(i,d,a,l):(Ve.flags|=t,h.memoizedState=Qa(1|i,d,a,l))}function E1(t,i){du(8390656,8,t,i)}function ed(t,i){mu(2048,8,t,i)}function uS(t){Ve.flags|=4;var i=Ve.updateQueue;if(i===null)i=uu(),Ve.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function T1(t){var i=wt().memoizedState;return uS({ref:i,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function S1(t,i){return mu(4,2,t,i)}function A1(t,i){return mu(4,4,t,i)}function b1(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function w1(t,i,a){a=a!=null?a.concat([t]):null,mu(4,4,b1.bind(null,i,t),a)}function td(){}function R1(t,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Ff(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function C1(t,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Ff(i,l[1]))return l[0];if(l=t(),Js){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,i],l}function nd(t,i,a){return a===void 0||(rr&1073741824)!==0&&(qe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Iy(),Ve.lanes|=t,Jr|=t,a)}function I1(t,i,a,l){return An(a,i)?a:Ga.current!==null?(t=nd(t,a,l),An(t,i)||(Mt=!0),t):(rr&42)===0||(rr&1073741824)!==0&&(qe&261930)===0?(Mt=!0,t.memoizedState=a):(t=Iy(),Ve.lanes|=t,Jr|=t,i)}function x1(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=Q.T,A={};Q.T=A,sd(t,!1,i,a);try{var N=h(),q=Q.S;if(q!==null&&q(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=sS(N,l);cl(t,i,X,xn(t))}else cl(t,i,l,xn(t))}catch(J){cl(t,i,{then:function(){},status:"rejected",reason:J},xn())}finally{se.p=d,v!==null&&A.types!==null&&(v.types=A.types),Q.T=v}}function hS(){}function id(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=N1(t).queue;x1(t,h,i,ge,a===null?hS:function(){return D1(t),a(l)})}function N1(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function D1(t){var i=N1(t);i.next===null&&(i=t.alternate.memoizedState),cl(t,i.next.queue,{},xn())}function rd(){return $t(Rl)}function O1(){return wt().memoizedState}function M1(){return wt().memoizedState}function fS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();t=Yr(a);var l=Kr(i,t,a);l!==null&&(vn(l,i,a),rl(l,i,a)),i={cache:Mf()},t.payload=i;return}i=i.return}}function dS(t,i,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pu(t)?V1(i,a):(a=Sf(t,i,a,l),a!==null&&(vn(a,t,l),j1(a,i,l)))}function k1(t,i,a){var l=xn();cl(t,i,a,l)}function cl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pu(t))V1(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,A=d(v,a);if(h.hasEagerState=!0,h.eagerState=A,An(A,v))return $c(t,i,h,0),lt===null&&Qc(),!1}catch{}if(a=Sf(t,i,h,l),a!==null)return vn(a,t,l),j1(a,i,l),!0}return!1}function sd(t,i,a,l){if(l={lane:2,revertLane:Pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pu(t)){if(i)throw Error(s(479))}else i=Sf(t,a,l,2),i!==null&&vn(i,t,2)}function pu(t){var i=t.alternate;return t===Ve||i!==null&&i===Ve}function V1(t,i){Ya=lu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function j1(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Do(t,a)}}var ul={readContext:$t,use:hu,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};ul.useEffectEvent=vt;var P1={readContext:$t,use:hu,useCallback:function(t,i){return fn().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:E1,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,du(4194308,4,b1.bind(null,i,t),a)},useLayoutEffect:function(t,i){return du(4194308,4,t,i)},useInsertionEffect:function(t,i){du(4,2,t,i)},useMemo:function(t,i){var a=fn();i=i===void 0?null:i;var l=t();if(Js){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=fn();if(a!==void 0){var h=a(i);if(Js){Mn(!0);try{a(i)}finally{Mn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=dS.bind(null,Ve,t),[l.memoizedState,t]},useRef:function(t){var i=fn();return t={current:t},i.memoizedState=t},useState:function(t){t=Jf(t);var i=t.queue,a=k1.bind(null,Ve,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:td,useDeferredValue:function(t,i){var a=fn();return nd(a,t,i)},useTransition:function(){var t=Jf(!1);return t=x1.bind(null,Ve,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ve,h=fn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),lt===null)throw Error(s(349));(qe&127)!==0||r1(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,E1(a1.bind(null,l,d,t),[t]),l.flags|=2048,Qa(9,{destroy:void 0},s1.bind(null,l,d,a,i),null),a},useId:function(){var t=fn(),i=lt.identifierPrefix;if(Qe){var a=ki,l=Mi;a=(l&~(1<<32-St(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=cu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=aS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:rd,useFormState:p1,useActionState:p1,useOptimistic:function(t){var i=fn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=sd.bind(null,Ve,!0,a),a.dispatch=i,[t,i]},useMemoCache:$f,useCacheRefresh:function(){return fn().memoizedState=fS.bind(null,Ve)},useEffectEvent:function(t){var i=fn(),a={impl:t};return i.memoizedState=a,function(){if((Ze&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ad={readContext:$t,use:hu,useCallback:R1,useContext:$t,useEffect:ed,useImperativeHandle:w1,useInsertionEffect:S1,useLayoutEffect:A1,useMemo:C1,useReducer:fu,useRef:v1,useState:function(){return fu(sr)},useDebugValue:td,useDeferredValue:function(t,i){var a=wt();return I1(a,st.memoizedState,t,i)},useTransition:function(){var t=fu(sr)[0],i=wt().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:i1,useId:O1,useHostTransitionStatus:rd,useFormState:g1,useActionState:g1,useOptimistic:function(t,i){var a=wt();return c1(a,st,t,i)},useMemoCache:$f,useCacheRefresh:M1};ad.useEffectEvent=T1;var L1={readContext:$t,use:hu,useCallback:R1,useContext:$t,useEffect:ed,useImperativeHandle:w1,useInsertionEffect:S1,useLayoutEffect:A1,useMemo:C1,useReducer:Wf,useRef:v1,useState:function(){return Wf(sr)},useDebugValue:td,useDeferredValue:function(t,i){var a=wt();return st===null?nd(a,t,i):I1(a,st.memoizedState,t,i)},useTransition:function(){var t=Wf(sr)[0],i=wt().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:i1,useId:O1,useHostTransitionStatus:rd,useFormState:_1,useActionState:_1,useOptimistic:function(t,i){var a=wt();return st!==null?c1(a,st,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:$f,useCacheRefresh:M1};L1.useEffectEvent=T1;function od(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ld={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=xn(),h=Yr(l);h.payload=i,a!=null&&(h.callback=a),i=Kr(t,h,l),i!==null&&(vn(i,t,l),rl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=xn(),h=Yr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Kr(t,h,l),i!==null&&(vn(i,t,l),rl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=xn(),l=Yr(a);l.tag=2,i!=null&&(l.callback=i),i=Kr(t,l,a),i!==null&&(vn(i,t,a),rl(i,t,a))}};function U1(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Xo(a,l)||!Xo(h,d):!0}function z1(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&ld.enqueueReplaceState(i,i.state,null)}function Zs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function B1(t){Kc(t)}function H1(t){console.error(t)}function q1(t){Kc(t)}function gu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function F1(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cd(t,i,a){return a=Yr(a),a.tag=3,a.payload={element:null},a.callback=function(){gu(t,i)},a}function G1(t){return t=Yr(t),t.tag=3,t}function Y1(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){F1(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){F1(i,a,l),typeof h!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function mS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&za(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return qn===null?Iu():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===iu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),kd(t,l,h)),!1;case 22:return a.flags|=65536,l===iu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),kd(t,l,h)),!1}throw Error(s(435,a.tag))}return kd(t,l,h),Iu(),!1}if(Qe)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==If&&(t=Error(s(422),{cause:l}),Zo(Un(t,a)))):(l!==If&&(i=Error(s(423),{cause:l}),Zo(Un(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,a),h=cd(t.stateNode,l,h),Uf(t,h),Et!==4&&(Et=2)),!1;var d=Error(s(520),{cause:l});if(d=Un(d,a),_l===null?_l=[d]:_l.push(d),Et!==4&&(Et=2),i===null)return!0;l=Un(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=cd(a.stateNode,l,t),Uf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Zr===null||!Zr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=G1(h),Y1(h,t,a,l),Uf(a,h),!1}a=a.return}while(a!==null);return!1}var ud=Error(s(461)),Mt=!1;function Xt(t,i,a,l){i.child=t===null?Xg(i,null,a,l):Ws(i,t.child,a,l)}function K1(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return Ks(i),l=Gf(t,i,a,v,d,h),A=Yf(),t!==null&&!Mt?(Kf(t,i,h),ar(t,i,h)):(Qe&&A&&Rf(i),i.flags|=1,Xt(t,i,l,h),i.child)}function Q1(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Af(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,$1(t,i,d,l,h)):(t=Wc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!_d(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(v,l)&&t.ref===i.ref)return ar(t,i,h)}return i.flags|=1,t=er(d,l),t.ref=i.ref,t.return=i,i.child=t}function $1(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Xo(d,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,_d(t,h))(t.flags&131072)!==0&&(Mt=!0);else return i.lanes=t.lanes,ar(t,i,h)}return hd(t,i,a,l,h)}function X1(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return W1(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&tu(i,d!==null?d.cachePool:null),d!==null?Zg(i,d):Bf(),e1(i);else return l=i.lanes=536870912,W1(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(tu(i,d.cachePool),Zg(i,d),$r(),i.memoizedState=null):(t!==null&&tu(i,null),Bf(),$r());return Xt(t,i,h,a),i.child}function hl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function W1(t,i,a,l,h){var d=Vf();return d=d===null?null:{parent:Dt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&tu(i,null),Bf(),e1(i),t!==null&&za(t,i,l,!0),i.childLanes=h,null}function yu(t,i){return i=vu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function J1(t,i,a){return Ws(i,t.child,null,a),t=yu(i,i.pendingProps),t.flags|=2,Rn(i),i.memoizedState=null,t}function pS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Qe){if(l.mode==="hidden")return t=yu(i,l),i.lanes=536870912,hl(null,t);if(qf(i),(t=ht)?(t=u_(t,Hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Br!==null?{id:Mi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,Qt=i,ht=null)):t=null,t===null)throw qr(i);return i.lanes=536870912,null}return yu(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(qf(i),h)if(i.flags&256)i.flags&=-257,i=J1(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Mt||za(t,i,a,!1),h=(a&t.childLanes)!==0,Mt||h){if(l=lt,l!==null&&(v=Oo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,qs(t,v),vn(l,t,v),ud;Iu(),i=J1(t,i,a)}else t=d.treeContext,ht=Fn(v.nextSibling),Qt=i,Qe=!0,Hr=null,Hn=!1,t!==null&&Lg(i,t),i=yu(i,l),i.flags|=4096;return i}return t=er(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function _u(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function hd(t,i,a,l,h){return Ks(i),a=Gf(t,i,a,l,void 0,h),l=Yf(),t!==null&&!Mt?(Kf(t,i,h),ar(t,i,h)):(Qe&&l&&Rf(i),i.flags|=1,Xt(t,i,a,h),i.child)}function Z1(t,i,a,l,h,d){return Ks(i),i.updateQueue=null,a=n1(i,l,a,h),t1(t),l=Yf(),t!==null&&!Mt?(Kf(t,i,d),ar(t,i,d)):(Qe&&l&&Rf(i),i.flags|=1,Xt(t,i,a,d),i.child)}function ey(t,i,a,l,h){if(Ks(i),i.stateNode===null){var d=ja,v=a.contextType;typeof v=="object"&&v!==null&&(d=$t(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ld,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Pf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?$t(v):ja,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(od(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&ld.enqueueReplaceState(d,d.state,null),al(i,l,d,h),sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,N=Zs(a,A);d.props=N;var q=d.context,X=a.contextType;v=ja,typeof X=="object"&&X!==null&&(v=$t(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||q!==v)&&z1(i,d,l,v),Gr=!1;var F=i.memoizedState;d.state=F,al(i,l,d,h),sl(),q=i.memoizedState,A||F!==q||Gr?(typeof J=="function"&&(od(i,a,J,l),q=i.memoizedState),(N=Gr||U1(i,a,N,l,F,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Lf(t,i),v=i.memoizedProps,X=Zs(a,v),d.props=X,J=i.pendingProps,F=d.context,q=a.contextType,N=ja,typeof q=="object"&&q!==null&&(N=$t(q)),A=a.getDerivedStateFromProps,(q=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||F!==N)&&z1(i,d,l,N),Gr=!1,F=i.memoizedState,d.state=F,al(i,l,d,h),sl();var Y=i.memoizedState;v!==J||F!==Y||Gr||t!==null&&t.dependencies!==null&&Zc(t.dependencies)?(typeof A=="function"&&(od(i,a,A,l),Y=i.memoizedState),(X=Gr||U1(i,a,X,l,F,Y,N)||t!==null&&t.dependencies!==null&&Zc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,_u(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ws(i,t.child,null,h),i.child=Ws(i,null,a,h)):Xt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=ar(t,i,h),t}function ty(t,i,a,l){return Gs(),i.flags|=256,Xt(t,i,a,l),i.child}var fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(t){return{baseLanes:t,cachePool:Fg()}}function md(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=In),t}function ny(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Qe){if(h?Qr(i):$r(),(t=ht)?(t=u_(t,Hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Br!==null?{id:Mi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,Qt=i,ht=null)):t=null,t===null)throw qr(i);return Xd(t)?i.lanes=32:i.lanes=536870912,null}var A=l.children;return l=l.fallback,h?($r(),h=i.mode,A=vu({mode:"hidden",children:A},h),l=Fs(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,l=i.child,l.memoizedState=dd(a),l.childLanes=md(t,v,a),i.memoizedState=fd,hl(null,l)):(Qr(i),pd(i,A))}var N=t.memoizedState;if(N!==null&&(A=N.dehydrated,A!==null)){if(d)i.flags&256?(Qr(i),i.flags&=-257,i=gd(t,i,a)):i.memoizedState!==null?($r(),i.child=t.child,i.flags|=128,i=null):($r(),A=l.fallback,h=i.mode,l=vu({mode:"visible",children:l.children},h),A=Fs(A,h,a,null),A.flags|=2,l.return=i,A.return=i,l.sibling=A,i.child=l,Ws(i,t.child,null,a),l=i.child,l.memoizedState=dd(a),l.childLanes=md(t,v,a),i.memoizedState=fd,i=hl(null,l));else if(Qr(i),Xd(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,Zo({value:l,source:null,stack:null}),i=gd(t,i,a)}else if(Mt||za(t,i,a,!1),v=(a&t.childLanes)!==0,Mt||v){if(v=lt,v!==null&&(l=Oo(v,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,qs(t,l),vn(v,t,l),ud;$d(A)||Iu(),i=gd(t,i,a)}else $d(A)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,ht=Fn(A.nextSibling),Qt=i,Qe=!0,Hr=null,Hn=!1,t!==null&&Lg(i,t),i=pd(i,l.children),i.flags|=4096);return i}return h?($r(),A=l.fallback,h=i.mode,N=t.child,q=N.sibling,l=er(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?A=er(q,A):(A=Fs(A,h,a,null),A.flags|=2),A.return=i,l.return=i,l.sibling=A,i.child=l,hl(null,l),l=i.child,A=t.child.memoizedState,A===null?A=dd(a):(h=A.cachePool,h!==null?(N=Dt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Fg(),A={baseLanes:A.baseLanes|a,cachePool:h}),l.memoizedState=A,l.childLanes=md(t,v,a),i.memoizedState=fd,hl(t.child,l)):(Qr(i),a=t.child,t=a.sibling,a=er(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function pd(t,i){return i=vu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function vu(t,i){return t=bn(22,t,null,i),t.lanes=0,t}function gd(t,i,a){return Ws(i,t.child,null,a),t=pd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function iy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Df(t.return,i,a)}function yd(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function ry(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=bt.current,A=(v&2)!==0;if(A?(v=v&1|2,i.flags|=128):v&=1,ae(bt,v),Xt(t,i,l,a),l=Qe?Jo:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iy(t,a,i);else if(t.tag===19)iy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ou(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),yd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ou(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}yd(i,!0,a,null,d,l);break;case"together":yd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ar(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Jr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(za(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=er(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=er(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function _d(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Zc(t)))}function gS(t,i,a){switch(i.tag){case 3:Tt(i,i.stateNode.containerInfo),Fr(i,Dt,t.memoizedState.cache),Gs();break;case 27:case 5:pi(i);break;case 4:Tt(i,i.stateNode.containerInfo);break;case 10:Fr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,qf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Qr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ny(t,i,a):(Qr(i),t=ar(t,i,a),t!==null?t.sibling:null);Qr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(za(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ry(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(bt,bt.current),l)break;return null;case 22:return i.lanes=0,X1(t,i,a,i.pendingProps);case 24:Fr(i,Dt,t.memoizedState.cache)}return ar(t,i,a)}function sy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!_d(t,a)&&(i.flags&128)===0)return Mt=!1,gS(t,i,a);Mt=(t.flags&131072)!==0}else Mt=!1,Qe&&(i.flags&1048576)!==0&&Pg(i,Jo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=$s(i.elementType),i.type=t,typeof t=="function")Af(t)?(l=Zs(t,l),i.tag=1,i=ey(null,i,t,l,a)):(i.tag=0,i=hd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===oe){i.tag=11,i=K1(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=Q1(null,i,t,l,a);break e}}throw i=Oe(t)||t,Error(s(306,i,""))}}return i;case 0:return hd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Zs(l,i.pendingProps),ey(t,i,l,h,a);case 3:e:{if(Tt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Lf(t,i),al(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Fr(i,Dt,l),l!==d.cache&&Of(i,[Dt],a,!0),sl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ty(t,i,l,a);break e}else if(l!==h){h=Un(Error(s(424)),i),Zo(h),i=ty(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ht=Fn(t.firstChild),Qt=i,Qe=!0,Hr=null,Hn=!0,a=Xg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Gs(),l===h){i=ar(t,i,a);break e}Xt(t,i,l,a)}i=i.child}return i;case 26:return _u(t,i),t===null?(a=g_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qe||(a=i.type,t=i.pendingProps,l=Vu(Te.current).createElement(a),l[It]=i,l[Ht]=t,Wt(l,a,t),xt(l),i.stateNode=l):i.memoizedState=g_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return pi(i),t===null&&Qe&&(l=i.stateNode=d_(i.type,i.pendingProps,Te.current),Qt=i,Hn=!0,h=ht,is(i.type)?(Wd=h,ht=Fn(l.firstChild)):ht=h),Xt(t,i,i.pendingProps.children,a),_u(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Qe&&((h=l=ht)&&(l=YS(l,i.type,i.pendingProps,Hn),l!==null?(i.stateNode=l,Qt=i,ht=Fn(l.firstChild),Hn=!1,h=!0):h=!1),h||qr(i)),pi(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Yd(h,d)?l=null:v!==null&&Yd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Gf(t,i,oS,null,null,a),Rl._currentValue=h),_u(t,i),Xt(t,i,l,a),i.child;case 6:return t===null&&Qe&&((t=a=ht)&&(a=KS(a,i.pendingProps,Hn),a!==null?(i.stateNode=a,Qt=i,ht=null,t=!0):t=!1),t||qr(i)),null;case 13:return ny(t,i,a);case 4:return Tt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ws(i,null,l,a):Xt(t,i,l,a),i.child;case 11:return K1(t,i,i.type,i.pendingProps,a);case 7:return Xt(t,i,i.pendingProps,a),i.child;case 8:return Xt(t,i,i.pendingProps.children,a),i.child;case 12:return Xt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Fr(i,i.type,l.value),Xt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ks(i),h=$t(h),l=l(h),i.flags|=1,Xt(t,i,l,a),i.child;case 14:return Q1(t,i,i.type,i.pendingProps,a);case 15:return $1(t,i,i.type,i.pendingProps,a);case 19:return ry(t,i,a);case 31:return pS(t,i,a);case 22:return X1(t,i,a,i.pendingProps);case 24:return Ks(i),l=$t(Dt),t===null?(h=Vf(),h===null&&(h=lt,d=Mf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Pf(i),Fr(i,Dt,h)):((t.lanes&a)!==0&&(Lf(t,i),al(i,null,null,a),sl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Fr(i,Dt,l)):(l=d.cache,Fr(i,Dt,l),l!==h.cache&&Of(i,[Dt],a,!0))),Xt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function or(t){t.flags|=4}function vd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Oy())t.flags|=8192;else throw Xs=iu,jf}else t.flags&=-16777217}function ay(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!T_(i))if(Oy())t.flags|=8192;else throw Xs=iu,jf}function Eu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Rc():536870912,t.lanes|=i,Ja|=i)}function fl(t,i){if(!Qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ft(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function yS(t,i,a){var l=i.pendingProps;switch(Cf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(i),null;case 1:return ft(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ir(Dt),ct(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ua(i)?or(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xf())),ft(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(or(i),d!==null?(ft(i),ay(i,d)):(ft(i),vd(i,h,null,l,a))):d?d!==t.memoizedState?(or(i),ft(i),ay(i,d)):(ft(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&or(i),ft(i),vd(i,h,t,l,a)),null;case 27:if(Ir(i),a=Te.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&or(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ft(i),null}t=le.current,Ua(i)?Ug(i):(t=d_(h,l,a),i.stateNode=t,or(i))}return ft(i),null;case 5:if(Ir(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&or(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ft(i),null}if(d=le.current,Ua(i))Ug(i);else{var v=Vu(Te.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[It]=i,d[Ht]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Wt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&or(i)}}return ft(i),vd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&or(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Te.current,Ua(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||n_(t.nodeValue,a)),t||qr(i,!0)}else t=Vu(t).createTextNode(l),t[It]=i,i.stateNode=t}return ft(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ua(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[It]=i}else Gs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),t=!1}else a=xf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Rn(i),i):(Rn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ft(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ua(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=i}else Gs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),h=!1}else h=xf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Rn(i),i):(Rn(i),null)}return Rn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Eu(i,i.updateQueue),ft(i),null);case 4:return ct(),t===null&&Bd(i.stateNode.containerInfo),ft(i),null;case 10:return ir(i.type),ft(i),null;case 19:if($(bt),l=i.memoizedState,l===null)return ft(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)fl(l,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ou(t),d!==null){for(i.flags|=128,fl(l,!1),t=d.updateQueue,i.updateQueue=t,Eu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)kg(a,t),a=a.sibling;return ae(bt,bt.current&1|2),Qe&&tr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&mt()>wu&&(i.flags|=128,h=!0,fl(l,!1),i.lanes=4194304)}else{if(!h)if(t=ou(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Eu(i,t),fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Qe)return ft(i),null}else 2*mt()-l.renderingStartTime>wu&&a!==536870912&&(i.flags|=128,h=!0,fl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=mt(),t.sibling=null,a=bt.current,ae(bt,h?a&1|2:a&1),Qe&&tr(i,l.treeForkCount),t):(ft(i),null);case 22:case 23:return Rn(i),Hf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ft(i),i.subtreeFlags&6&&(i.flags|=8192)):ft(i),a=i.updateQueue,a!==null&&Eu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&$(Qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ir(Dt),ft(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function _S(t,i){switch(Cf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ir(Dt),ct(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ir(i),null;case 31:if(i.memoizedState!==null){if(Rn(i),i.alternate===null)throw Error(s(340));Gs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Rn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Gs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(bt),null;case 4:return ct(),null;case 10:return ir(i.type),null;case 22:case 23:return Rn(i),Hf(),t!==null&&$(Qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ir(Dt),null;case 25:return null;default:return null}}function oy(t,i){switch(Cf(i),i.tag){case 3:ir(Dt),ct();break;case 26:case 27:case 5:Ir(i);break;case 4:ct();break;case 31:i.memoizedState!==null&&Rn(i);break;case 13:Rn(i);break;case 19:$(bt);break;case 10:ir(i.type);break;case 22:case 23:Rn(i),Hf(),t!==null&&$(Qs);break;case 24:ir(Dt)}}function dl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(A){it(i,i.return,A)}}function Xr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,h=i;var N=a,q=A;try{q()}catch(X){it(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){it(i,i.return,X)}}function ly(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Jg(i,a)}catch(l){it(t,t.return,l)}}}function cy(t,i,a){a.props=Zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){it(t,i,l)}}function ml(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){it(t,i,h)}}function Vi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){it(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){it(t,i,h)}else a.current=null}function uy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){it(t,t.return,h)}}function Ed(t,i,a){try{var l=t.stateNode;zS(l,t.type,a,i),l[Ht]=i}catch(h){it(t,t.return,h)}}function hy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&is(t.type)||t.tag===4}function Td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&is(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ei));else if(l!==4&&(l===27&&is(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Sd(t,i,a),t=t.sibling;t!==null;)Sd(t,i,a),t=t.sibling}function Tu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&is(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Tu(t,i,a),t=t.sibling;t!==null;)Tu(t,i,a),t=t.sibling}function fy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Wt(i,l,a),i[It]=t,i[Ht]=a}catch(d){it(t,t.return,d)}}var lr=!1,kt=!1,Ad=!1,dy=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function vS(t,i){if(t=t.containerInfo,Fd=Hu,t=wg(t),gf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,A=-1,N=-1,q=0,X=0,J=t,F=null;t:for(;;){for(var Y;J!==a||h!==0&&J.nodeType!==3||(A=v+h),J!==d||l!==0&&J.nodeType!==3||(N=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(Y=J.firstChild)!==null;)F=J,J=Y;for(;;){if(J===t)break t;if(F===a&&++q===h&&(A=v),F===d&&++X===l&&(N=v),(Y=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=Y}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gd={focusedElem:t,selectionRange:a},Hu=!1,Ft=i;Ft!==null;)if(i=Ft,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ft=t;else for(;Ft!==null;){switch(i=Ft,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Zs(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){it(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Qd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ft=t;break}Ft=i.return}}function my(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ur(t,a),l&4&&dl(5,a);break;case 1:if(ur(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){it(a,a.return,v)}else{var h=Zs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){it(a,a.return,v)}}l&64&&ly(a),l&512&&ml(a,a.return);break;case 3:if(ur(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jg(t,i)}catch(v){it(a,a.return,v)}}break;case 27:i===null&&l&4&&fy(a);case 26:case 5:ur(t,a),i===null&&l&4&&uy(a),l&512&&ml(a,a.return);break;case 12:ur(t,a);break;case 31:ur(t,a),l&4&&yy(t,a);break;case 13:ur(t,a),l&4&&_y(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=IS.bind(null,a),QS(t,a))));break;case 22:if(l=a.memoizedState!==null||lr,!l){i=i!==null&&i.memoizedState!==null||kt,h=lr;var d=kt;lr=l,(kt=i)&&!d?hr(t,a,(a.subtreeFlags&8772)!==0):ur(t,a),lr=h,kt=d}break;case 30:break;default:ur(t,a)}}function py(t){var i=t.alternate;i!==null&&(t.alternate=null,py(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Sa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,pn=!1;function cr(t,i,a){for(a=a.child;a!==null;)gy(t,i,a),a=a.sibling}function gy(t,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:kt||Vi(a,i),cr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:kt||Vi(a,i);var l=gt,h=pn;is(a.type)&&(gt=a.stateNode,pn=!1),cr(t,i,a),Al(a.stateNode),gt=l,pn=h;break;case 5:kt||Vi(a,i);case 6:if(l=gt,h=pn,gt=null,cr(t,i,a),gt=l,pn=h,gt!==null)if(pn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(a.stateNode)}catch(d){it(a,i,d)}else try{gt.removeChild(a.stateNode)}catch(d){it(a,i,d)}break;case 18:gt!==null&&(pn?(t=gt,l_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ao(t)):l_(gt,a.stateNode));break;case 4:l=gt,h=pn,gt=a.stateNode.containerInfo,pn=!0,cr(t,i,a),gt=l,pn=h;break;case 0:case 11:case 14:case 15:Xr(2,a,i),kt||Xr(4,a,i),cr(t,i,a);break;case 1:kt||(Vi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&cy(a,i,l)),cr(t,i,a);break;case 21:cr(t,i,a);break;case 22:kt=(l=kt)||a.memoizedState!==null,cr(t,i,a),kt=l;break;default:cr(t,i,a)}}function yy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ao(t)}catch(a){it(i,i.return,a)}}}function _y(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(a){it(i,i.return,a)}}function ES(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new dy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new dy),i;default:throw Error(s(435,t.tag))}}function Su(t,i){var a=ES(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=xS.bind(null,t,l);l.then(h,h)}})}function gn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(is(A.type)){gt=A.stateNode,pn=!1;break e}break;case 5:gt=A.stateNode,pn=!1;break e;case 3:case 4:gt=A.stateNode.containerInfo,pn=!0;break e}A=A.return}if(gt===null)throw Error(s(160));gy(d,v,h),gt=null,pn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)vy(i,t),i=i.sibling}var ai=null;function vy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(i,t),yn(t),l&4&&(Xr(3,t,t.return),dl(3,t),Xr(5,t,t.return));break;case 1:gn(i,t),yn(t),l&512&&(kt||a===null||Vi(a,a.return)),l&64&&lr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ai;if(gn(i,t),yn(t),l&512&&(kt||a===null||Vi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ti]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Wt(d,l,a),d[It]=t,xt(d),l=d;break e;case"link":var v=v_("link","href",h).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}d=h.createElement(l),Wt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=v_("meta","content",h).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}d=h.createElement(l),Wt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,xt(d),l=d}t.stateNode=l}else E_(h,t.type,t.stateNode);else t.stateNode=__(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?E_(h,t.type,t.stateNode):__(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:gn(i,t),yn(t),l&512&&(kt||a===null||Vi(a,a.return)),a!==null&&l&4&&Ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(gn(i,t),yn(t),l&512&&(kt||a===null||Vi(a,a.return)),t.flags&32){h=t.stateNode;try{mn(h,"")}catch(fe){it(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ed(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ad=!0);break;case 6:if(gn(i,t),yn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){it(t,t.return,fe)}}break;case 3:if(Lu=null,h=ai,ai=ju(i.containerInfo),gn(i,t),ai=h,yn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(i.containerInfo)}catch(fe){it(t,t.return,fe)}Ad&&(Ad=!1,Ey(t));break;case 4:l=ai,ai=ju(t.stateNode.containerInfo),gn(i,t),yn(t),ai=l;break;case 12:gn(i,t),yn(t);break;case 31:gn(i,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Su(t,l)));break;case 13:gn(i,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bu=mt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Su(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,q=lr,X=kt;if(lr=q||h,kt=X||N,gn(i,t),kt=X,lr=q,yn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||lr||kt||ea(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=N.stateNode;var J=N.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){it(N,N.return,fe)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(fe){it(N,N.return,fe)}}}else if(i.tag===18){if(a===null){N=i;try{var Y=N.stateNode;h?c_(Y,!0):c_(N.stateNode,!1)}catch(fe){it(N,N.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Su(t,a))));break;case 19:gn(i,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Su(t,l)));break;case 30:break;case 21:break;default:gn(i,t),yn(t)}}function yn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(hy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Td(t);Tu(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(mn(v,""),a.flags&=-33);var A=Td(t);Tu(t,A,v);break;case 3:case 4:var N=a.stateNode.containerInfo,q=Td(t);Sd(t,q,N);break;default:throw Error(s(161))}}catch(X){it(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ey(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ey(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ur(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)my(t,i.alternate,i),i=i.sibling}function ea(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Xr(4,i,i.return),ea(i);break;case 1:Vi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&cy(i,i.return,a),ea(i);break;case 27:Al(i.stateNode);case 26:case 5:Vi(i,i.return),ea(i);break;case 22:i.memoizedState===null&&ea(i);break;case 30:ea(i);break;default:ea(i)}t=t.sibling}}function hr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:hr(h,d,a),dl(4,d);break;case 1:if(hr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){it(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Wg(N[h],A)}catch(q){it(l,l.return,q)}}a&&v&64&&ly(d),ml(d,d.return);break;case 27:fy(d);case 26:case 5:hr(h,d,a),a&&l===null&&v&4&&uy(d),ml(d,d.return);break;case 12:hr(h,d,a);break;case 31:hr(h,d,a),a&&v&4&&yy(h,d);break;case 13:hr(h,d,a),a&&v&4&&_y(h,d);break;case 22:d.memoizedState===null&&hr(h,d,a),ml(d,d.return);break;case 30:break;default:hr(h,d,a)}i=i.sibling}}function bd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function wd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t))}function oi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ty(t,i,a,l),i=i.sibling}function Ty(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:oi(t,i,a,l),h&2048&&dl(9,i);break;case 1:oi(t,i,a,l);break;case 3:oi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){oi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){it(i,i.return,N)}}else oi(t,i,a,l);break;case 31:oi(t,i,a,l);break;case 13:oi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?oi(t,i,a,l):pl(t,i):d._visibility&2?oi(t,i,a,l):(d._visibility|=2,$a(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&bd(v,i);break;case 24:oi(t,i,a,l),h&2048&&wd(i.alternate,i);break;default:oi(t,i,a,l)}}function $a(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,A=a,N=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:$a(d,v,A,N,h),dl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?$a(d,v,A,N,h):pl(d,v):(X._visibility|=2,$a(d,v,A,N,h)),h&&q&2048&&bd(v.alternate,v);break;case 24:$a(d,v,A,N,h),h&&q&2048&&wd(v.alternate,v);break;default:$a(d,v,A,N,h)}i=i.sibling}}function pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:pl(a,l),h&2048&&bd(l.alternate,l);break;case 24:pl(a,l),h&2048&&wd(l.alternate,l);break;default:pl(a,l)}i=i.sibling}}var gl=8192;function Xa(t,i,a){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)Sy(t,i,a),t=t.sibling}function Sy(t,i,a){switch(t.tag){case 26:Xa(t,i,a),t.flags&gl&&t.memoizedState!==null&&aA(a,ai,t.memoizedState,t.memoizedProps);break;case 5:Xa(t,i,a);break;case 3:case 4:var l=ai;ai=ju(t.stateNode.containerInfo),Xa(t,i,a),ai=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=gl,gl=16777216,Xa(t,i,a),gl=l):Xa(t,i,a));break;default:Xa(t,i,a)}}function Ay(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function yl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ft=l,wy(l,t)}Ay(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)by(t),t=t.sibling}function by(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&Xr(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Au(t)):yl(t);break;default:yl(t)}}function Au(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ft=l,wy(l,t)}Ay(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Xr(8,i,i.return),Au(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Au(i));break;default:Au(i)}t=t.sibling}}function wy(t,i){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:Xr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ft=l;else e:for(a=t;Ft!==null;){l=Ft;var h=l.sibling,d=l.return;if(py(l),l===a){Ft=null;break e}if(h!==null){h.return=d,Ft=h;break e}Ft=d}}}var TS={getCacheForType:function(t){var i=$t(Dt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return $t(Dt).controller.signal}},SS=typeof WeakMap=="function"?WeakMap:Map,Ze=0,lt=null,Ue=null,qe=0,nt=0,Cn=null,Wr=!1,Wa=!1,Rd=!1,fr=0,Et=0,Jr=0,ta=0,Cd=0,In=0,Ja=0,_l=null,_n=null,Id=!1,bu=0,Ry=0,wu=1/0,Ru=null,Zr=null,Ut=0,es=null,Za=null,dr=0,xd=0,Nd=null,Cy=null,vl=0,Dd=null;function xn(){return(Ze&2)!==0&&qe!==0?qe&-qe:Q.T!==null?Pd():Cc()}function Iy(){if(In===0)if((qe&536870912)===0||Qe){var t=Is;Is<<=1,(Is&3932160)===0&&(Is=262144),In=t}else In=536870912;return t=wn.current,t!==null&&(t.flags|=32),In}function vn(t,i,a){(t===lt&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(eo(t,0),ts(t,qe,In,!1)),xs(t,a),((Ze&2)===0||t!==lt)&&(t===lt&&((Ze&2)===0&&(ta|=a),Et===4&&ts(t,qe,In,!1)),ji(t))}function xy(t,i,a){if((Ze&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Wn(t,i),h=l?wS(t,i):Md(t,i,!0),d=l;do{if(h===0){Wa&&!l&&ts(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!AS(a)){h=Md(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var A=t;h=_l;var N=A.current.memoizedState.isDehydrated;if(N&&(eo(A,v).flags|=256),v=Md(A,v,!1),v!==2){if(Rd&&!N){A.errorRecoveryDisabledLanes|=d,ta|=d,h=4;break e}d=_n,_n=h,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){eo(t,0),ts(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ts(l,i,In,!Wr);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=bu+300-mt(),10<h)){if(ts(l,i,In,!Wr),_i(l,0,!0)!==0)break e;dr=i,l.timeoutHandle=a_(Ny.bind(null,l,a,_n,Ru,Id,i,In,ta,Ja,Wr,d,"Throttled",-0,0),h);break e}Ny(l,a,_n,Ru,Id,i,In,ta,Ja,Wr,d,null,-0,0)}}break}while(!0);ji(t)}function Ny(t,i,a,l,h,d,v,A,N,q,X,J,F,Y){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Sy(i,d,J);var fe=(d&62914560)===d?bu-mt():(d&4194048)===d?Ry-mt():0;if(fe=oA(J,fe),fe!==null){dr=d,t.cancelPendingCommit=fe(Ly.bind(null,t,i,d,a,l,h,v,A,N,X,J,null,F,Y)),ts(t,d,v,!q);return}}Ly(t,i,d,a,l,h,v,A,N)}function AS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!An(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ts(t,i,a,l){i&=~Cd,i&=~ta,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-St(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Ns(t,a,i)}function Cu(){return(Ze&6)===0?(El(0),!1):!0}function Od(){if(Ue!==null){if(nt===0)var t=Ue.return;else t=Ue,nr=Ys=null,Qf(t),Fa=null,nl=0,t=Ue;for(;t!==null;)oy(t.alternate,t),t=t.return;Ue=null}}function eo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,qS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),dr=0,Od(),lt=t,Ue=a=er(t.current,null),qe=i,nt=0,Cn=null,Wr=!1,Wa=Wn(t,i),Rd=!1,Ja=In=Cd=ta=Jr=Et=0,_n=_l=null,Id=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-St(l),d=1<<h;i|=t[h],l&=~d}return fr=i,Qc(),a}function Dy(t,i){Ve=null,Q.H=ul,i===qa||i===nu?(i=Kg(),nt=3):i===jf?(i=Kg(),nt=4):nt=i===ud?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Cn=i,Ue===null&&(Et=1,gu(t,Un(i,t.current)))}function Oy(){var t=wn.current;return t===null?!0:(qe&4194048)===qe?qn===null:(qe&62914560)===qe||(qe&536870912)!==0?t===qn:!1}function My(){var t=Q.H;return Q.H=ul,t===null?ul:t}function ky(){var t=Q.A;return Q.A=TS,t}function Iu(){Et=4,Wr||(qe&4194048)!==qe&&wn.current!==null||(Wa=!0),(Jr&134217727)===0&&(ta&134217727)===0||lt===null||ts(lt,qe,In,!1)}function Md(t,i,a){var l=Ze;Ze|=2;var h=My(),d=ky();(lt!==t||qe!==i)&&(Ru=null,eo(t,i)),i=!1;var v=Et;e:do try{if(nt!==0&&Ue!==null){var A=Ue,N=Cn;switch(nt){case 8:Od(),v=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var q=nt;if(nt=0,Cn=null,to(t,A,N,q),a&&Wa){v=0;break e}break;default:q=nt,nt=0,Cn=null,to(t,A,N,q)}}bS(),v=Et;break}catch(X){Dy(t,X)}while(!0);return i&&t.shellSuspendCounter++,nr=Ys=null,Ze=l,Q.H=h,Q.A=d,Ue===null&&(lt=null,qe=0,Qc()),v}function bS(){for(;Ue!==null;)Vy(Ue)}function wS(t,i){var a=Ze;Ze|=2;var l=My(),h=ky();lt!==t||qe!==i?(Ru=null,wu=mt()+500,eo(t,i)):Wa=Wn(t,i);e:do try{if(nt!==0&&Ue!==null){i=Ue;var d=Cn;t:switch(nt){case 1:nt=0,Cn=null,to(t,i,d,1);break;case 2:case 9:if(Gg(d)){nt=0,Cn=null,jy(i);break}i=function(){nt!==2&&nt!==9||lt!==t||(nt=7),ji(t)},d.then(i,i);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Gg(d)?(nt=0,Cn=null,jy(i)):(nt=0,Cn=null,to(t,i,d,7));break;case 5:var v=null;switch(Ue.tag){case 26:v=Ue.memoizedState;case 5:case 27:var A=Ue;if(v?T_(v):A.stateNode.complete){nt=0,Cn=null;var N=A.sibling;if(N!==null)Ue=N;else{var q=A.return;q!==null?(Ue=q,xu(q)):Ue=null}break t}}nt=0,Cn=null,to(t,i,d,5);break;case 6:nt=0,Cn=null,to(t,i,d,6);break;case 8:Od(),Et=6;break e;default:throw Error(s(462))}}RS();break}catch(X){Dy(t,X)}while(!0);return nr=Ys=null,Q.H=l,Q.A=h,Ze=a,Ue!==null?0:(lt=null,qe=0,Qc(),Et)}function RS(){for(;Ue!==null&&!Bt();)Vy(Ue)}function Vy(t){var i=sy(t.alternate,t,fr);t.memoizedProps=t.pendingProps,i===null?xu(t):Ue=i}function jy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Z1(a,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=Z1(a,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:Qf(i);default:oy(a,i),i=Ue=kg(i,fr),i=sy(a,i,fr)}t.memoizedProps=t.pendingProps,i===null?xu(t):Ue=i}function to(t,i,a,l){nr=Ys=null,Qf(i),Fa=null,nl=0;var h=i.return;try{if(mS(t,h,i,a,qe)){Et=1,gu(t,Un(a,t.current)),Ue=null;return}}catch(d){if(h!==null)throw Ue=h,d;Et=1,gu(t,Un(a,t.current)),Ue=null;return}i.flags&32768?(Qe||l===1?t=!0:Wa||(qe&536870912)!==0?t=!1:(Wr=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Py(i,t)):xu(i)}function xu(t){var i=t;do{if((i.flags&32768)!==0){Py(i,Wr);return}t=i.return;var a=yS(i.alternate,i,fr);if(a!==null){Ue=a;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=t}while(i!==null);Et===0&&(Et=5)}function Py(t,i){do{var a=_S(t.alternate,t);if(a!==null){a.flags&=32767,Ue=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=a}while(t!==null);Et=6,Ue=null}function Ly(t,i,a,l,h,d,v,A,N){t.cancelPendingCommit=null;do Nu();while(Ut!==0);if((Ze&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Tf,ff(t,a,d,v,A,N),t===lt&&(Ue=lt=null,qe=0),Za=i,es=t,dr=a,xd=d,Nd=h,Cy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,NS(Dr,function(){return qy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=se.p,se.p=2,v=Ze,Ze|=4;try{vS(t,i,a)}finally{Ze=v,se.p=h,Q.T=l}}Ut=1,Uy(),zy(),By()}}function Uy(){if(Ut===1){Ut=0;var t=es,i=Za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var h=Ze;Ze|=4;try{vy(i,t);var d=Gd,v=wg(t.containerInfo),A=d.focusedElem,N=d.selectionRange;if(v!==A&&A&&A.ownerDocument&&bg(A.ownerDocument.documentElement,A)){if(N!==null&&gf(A)){var q=N.start,X=N.end;if(X===void 0&&(X=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(X,A.value.length);else{var J=A.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var Y=F.getSelection(),fe=A.textContent.length,Ee=Math.min(N.start,fe),ot=N.end===void 0?Ee:Math.min(N.end,fe);!Y.extend&&Ee>ot&&(v=ot,ot=Ee,Ee=v);var P=Ag(A,Ee),M=Ag(A,ot);if(P&&M&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var H=J.createRange();H.setStart(P.node,P.offset),Y.removeAllRanges(),Ee>ot?(Y.addRange(H),Y.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),Y.addRange(H))}}}}for(J=[],Y=A;Y=Y.parentNode;)Y.nodeType===1&&J.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<J.length;A++){var W=J[A];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Hu=!!Fd,Gd=Fd=null}finally{Ze=h,se.p=l,Q.T=a}}t.current=i,Ut=2}}function zy(){if(Ut===2){Ut=0;var t=es,i=Za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var h=Ze;Ze|=4;try{my(t,i.alternate,i)}finally{Ze=h,se.p=l,Q.T=a}}Ut=3}}function By(){if(Ut===4||Ut===3){Ut=0,cn();var t=es,i=Za,a=dr,l=Cy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,Za=es=null,Hy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Zr=null),Xi(a),i=i.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Xn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=se.p,se.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var A=l[v];d(A.value,{componentStack:A.stack})}}finally{Q.T=i,se.p=h}}(dr&3)!==0&&Nu(),ji(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Dd?vl++:(vl=0,Dd=t):vl=0,El(0)}}function Hy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,el(i)))}function Nu(){return Uy(),zy(),By(),qy()}function qy(){if(Ut!==5)return!1;var t=es,i=xd;xd=0;var a=Xi(dr),l=Q.T,h=se.p;try{se.p=32>a?32:a,Q.T=null,a=Nd,Nd=null;var d=es,v=dr;if(Ut=0,Za=es=null,dr=0,(Ze&6)!==0)throw Error(s(331));var A=Ze;if(Ze|=4,by(d.current),Ty(d,d.current,v,a),Ze=A,El(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Xn,d)}catch{}return!0}finally{se.p=h,Q.T=l,Hy(t,i)}}function Fy(t,i,a){i=Un(a,i),i=cd(t.stateNode,i,2),t=Kr(t,i,2),t!==null&&(xs(t,2),ji(t))}function it(t,i,a){if(t.tag===3)Fy(t,t,a);else for(;i!==null;){if(i.tag===3){Fy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zr===null||!Zr.has(l))){t=Un(a,t),a=G1(2),l=Kr(i,a,2),l!==null&&(Y1(a,l,i,t),xs(l,2),ji(l));break}}i=i.return}}function kd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new SS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Rd=!0,h.add(a),t=CS.bind(null,t,i,a),i.then(t,t))}function CS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,lt===t&&(qe&a)===a&&(Et===4||Et===3&&(qe&62914560)===qe&&300>mt()-bu?(Ze&2)===0&&eo(t,0):Cd|=a,Ja===qe&&(Ja=0)),ji(t)}function Gy(t,i){i===0&&(i=Rc()),t=qs(t,i),t!==null&&(xs(t,i),ji(t))}function IS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Gy(t,a)}function xS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Gy(t,a)}function NS(t,i){return Se(t,i)}var Du=null,no=null,Vd=!1,Ou=!1,jd=!1,ns=0;function ji(t){t!==no&&t.next===null&&(no===null?Du=no=t:no=no.next=t),Ou=!0,Vd||(Vd=!0,OS())}function El(t,i){if(!jd&&Ou){jd=!0;do for(var a=!1,l=Du;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-St(42|t)+1)-1,d&=h&~(v&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,$y(l,d))}else d=qe,d=_i(l,l===lt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,$y(l,d));l=l.next}while(a);jd=!1}}function DS(){Yy()}function Yy(){Ou=Vd=!1;var t=0;ns!==0&&HS()&&(t=ns);for(var i=mt(),a=null,l=Du;l!==null;){var h=l.next,d=Ky(l,i);d===0?(l.next=null,a===null?Du=h:a.next=h,h===null&&(no=a)):(a=l,(t!==0||(d&3)!==0)&&(Ou=!0)),l=h}Ut!==0&&Ut!==5||El(t),ns!==0&&(ns=0)}function Ky(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-St(d),A=1<<v,N=h[v];N===-1?((A&a)===0||(A&l)!==0)&&(h[v]=hf(A,i)):N<=i&&(t.expiredLanes|=A),d&=~A}if(i=lt,a=qe,a=_i(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&He(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&He(l),Xi(a)){case 2:case 8:a=$n;break;case 32:a=Dr;break;case 268435456:a=Tc;break;default:a=Dr}return l=Qy.bind(null,t),a=Se(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&He(l),t.callbackPriority=2,t.callbackNode=null,2}function Qy(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nu()&&t.callbackNode!==a)return null;var l=qe;return l=_i(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(xy(t,l,i),Ky(t,mt()),t.callbackNode!=null&&t.callbackNode===a?Qy.bind(null,t):null)}function $y(t,i){if(Nu())return null;xy(t,i,!0)}function OS(){FS(function(){(Ze&6)!==0?Se(un,DS):Yy()})}function Pd(){if(ns===0){var t=Ba;t===0&&(t=gi,gi<<=1,(gi&261888)===0&&(gi=256)),ns=t}return ns}function Xy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function Wy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function MS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Xy((h[Ht]||null).action),v=l.submitter;v&&(i=(i=v[Ht]||null)?Xy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var A=new xi("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ns!==0){var N=v?Wy(h,v):new FormData(h);id(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(A.preventDefault(),N=v?Wy(h,v):new FormData(h),id(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Ld=0;Ld<Ef.length;Ld++){var Ud=Ef[Ld],kS=Ud.toLowerCase(),VS=Ud[0].toUpperCase()+Ud.slice(1);si(kS,"on"+VS)}si(Ig,"onAnimationEnd"),si(xg,"onAnimationIteration"),si(Ng,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(WT,"onTransitionRun"),si(JT,"onTransitionStart"),si(ZT,"onTransitionCancel"),si(Dg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Jy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var A=l[v],N=A.instance,q=A.currentTarget;if(A=A.listener,N!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=q;try{d(h)}catch(X){Kc(X)}h.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(A=l[v],N=A.instance,q=A.currentTarget,A=A.listener,N!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=q;try{d(h)}catch(X){Kc(X)}h.currentTarget=null,d=N}}}}function ze(t,i){var a=i[Ta];a===void 0&&(a=i[Ta]=new Set);var l=t+"__bubble";a.has(l)||(Zy(i,t,2,!1),a.add(l))}function zd(t,i,a){var l=0;i&&(l|=4),Zy(a,t,l,i)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Bd(t){if(!t[Mu]){t[Mu]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(jS.has(a)||zd(a,!1,t),zd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Mu]||(i[Mu]=!0,zd("selectionchange",!1,i))}}function Zy(t,i,a,l){switch(I_(i)){case 2:var h=uA;break;case 8:h=hA;break;default:h=nm}a=h.bind(null,i,a,t),h=void 0,!Vs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Hd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;A!==null;){if(v=Si(A),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}A=A.parentNode}}l=l.return}Pr(function(){var q=d,X=Vn(a),J=[];e:{var F=Og.get(t);if(F!==void 0){var Y=xi,fe=t;switch(t){case"keypress":if(Ps(a)===0)break e;case"keydown":case"keyup":Y=Fc;break;case"focusin":fe="focus",Y=Us;break;case"focusout":fe="blur",Y=Us;break;case"beforeblur":case"afterblur":Y=Us;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=_;break;case Ig:case xg:case Ng:Y=Pc;break;case Dg:Y=b;break;case"scroll":case"scrollend":Y=Go;break;case"wheel":Y=G;break;case"copy":case"cut":case"paste":Y=Lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Zi;break;case"toggle":case"beforetoggle":Y=ke}var Ee=(i&4)!==0,ot=!Ee&&(t==="scroll"||t==="scrollend"),P=Ee?F!==null?F+"Capture":null:F;Ee=[];for(var M=q,H;M!==null;){var W=M;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||P===null||(W=ti(M,P),W!=null&&Ee.push(Sl(M,W,H))),ot)break;M=M.return}0<Ee.length&&(F=new Y(F,fe,null,a,X),J.push({event:F,listeners:Ee}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&a!==Ho&&(fe=a.relatedTarget||a.fromElement)&&(Si(fe)||fe[Ei]))break e;if((Y||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(fe=a.relatedTarget||a.toElement,Y=q,fe=fe?Si(fe):null,fe!==null&&(ot=c(fe),Ee=fe.tag,fe!==ot||Ee!==5&&Ee!==27&&Ee!==6)&&(fe=null)):(Y=null,fe=q),Y!==fe)){if(Ee=Yo,W="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Zi,W="onPointerLeave",P="onPointerEnter",M="pointer"),ot=Y==null?F:Tn(Y),H=fe==null?F:Tn(fe),F=new Ee(W,M+"leave",Y,a,X),F.target=ot,F.relatedTarget=H,W=null,Si(X)===q&&(Ee=new Ee(P,M+"enter",fe,a,X),Ee.target=H,Ee.relatedTarget=ot,W=Ee),ot=W,Y&&fe)t:{for(Ee=PS,P=Y,M=fe,H=0,W=P;W;W=Ee(W))H++;W=0;for(var ye=M;ye;ye=Ee(ye))W++;for(;0<H-W;)P=Ee(P),H--;for(;0<W-H;)M=Ee(M),W--;for(;H--;){if(P===M||M!==null&&P===M.alternate){Ee=P;break t}P=Ee(P),M=Ee(M)}Ee=null}else Ee=null;Y!==null&&e_(J,F,Y,Ee,!1),fe!==null&&ot!==null&&e_(J,ot,fe,Ee,!0)}}e:{if(F=q?Tn(q):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Xe=yg;else if(pg(F))if(_g)Xe=QT;else{Xe=YT;var me=GT}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&wa(q.elementType)&&(Xe=yg):Xe=KT;if(Xe&&(Xe=Xe(t,q))){gg(J,Xe,a,X);break e}me&&me(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Uo(F,"number",F.value)}switch(me=q?Tn(q):window,t){case"focusin":(pg(me)||me.contentEditable==="true")&&(Ma=me,yf=q,Wo=null);break;case"focusout":Wo=yf=Ma=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,Rg(J,a,X);break;case"selectionchange":if(XT)break;case"keydown":case"keyup":Rg(J,a,X)}var je;if(Je)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Oa?zs(t,a)&&(Fe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(Oi&&a.locale!=="ko"&&(Oa||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Oa&&(je=Fo()):(Ii=X,qo="value"in Ii?Ii.value:Ii.textContent,Oa=!0)),me=ku(q,Fe),0<me.length&&(Fe=new Di(Fe,t,null,a,X),J.push({event:Fe,listeners:me}),je?Fe.data=je:(je=Da(a),je!==null&&(Fe.data=je)))),(je=Pn?BT(t,a):HT(t,a))&&(Fe=ku(q,"onBeforeInput"),0<Fe.length&&(me=new Di("onBeforeInput","beforeinput",null,a,X),J.push({event:me,listeners:Fe}),me.data=je)),MS(J,t,q,a,X)}Jy(J,i)})}function Sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function ku(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ti(t,a),h!=null&&l.unshift(Sl(t,h,d)),h=ti(t,i),h!=null&&l.push(Sl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function PS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function e_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var A=a,N=A.alternate,q=A.stateNode;if(A=A.tag,N!==null&&N===l)break;A!==5&&A!==26&&A!==27||q===null||(N=q,h?(q=ti(a,d),q!=null&&v.unshift(Sl(a,q,N))):h||(q=ti(a,d),q!=null&&v.push(Sl(a,q,N)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var LS=/\r\n?/g,US=/\u0000|\uFFFD/g;function t_(t){return(typeof t=="string"?t:""+t).replace(LS,`
`).replace(US,"")}function n_(t,i){return i=t_(i),t_(t)===i}function at(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&mn(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,a,l);break;case"style":Bo(t,l,d);break;case"data":if(i!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&at(t,i,"name",h.name,h,null),at(t,i,"formEncType",h.formEncType,h,null),at(t,i,"formMethod",h.formMethod,h,null),at(t,i,"formTarget",h.formTarget,h,null)):(at(t,i,"encType",h.encType,h,null),at(t,i,"method",h.method,h,null),at(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ei);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),Aa(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Aa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=kc.get(a)||a,Aa(t,a,l))}}function qd(t,i,a,l,h,d){switch(a){case"style":Bo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Ht]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Aa(t,a,l)}}}function Wt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:at(t,i,d,v,a,null)}}h&&at(t,i,"srcSet",a.srcSet,a,null),l&&at(t,i,"src",a.src,a,null);return;case"input":ze("invalid",t);var A=d=v=h=null,N=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":N=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:at(t,i,l,X,a,null)}}Dc(t,d,A,N,q,v,h,!1);return;case"select":ze("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:at(t,i,h,A,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Mr(t,!!l,i,!1):a!=null&&Mr(t,!!l,a,!0);return;case"textarea":ze("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:at(t,i,v,A,a,null)}kr(t,l,h,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":at(t,i,N,l,a,null));return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)ze(Tl[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:at(t,i,q,l,a,null)}return;default:if(wa(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&qd(t,i,X,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&at(t,i,A,l,a,null))}function zS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,A=null,N=null,q=null,X=null;for(Y in a){var J=a[Y];if(a.hasOwnProperty(Y)&&J!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=J;default:l.hasOwnProperty(Y)||at(t,i,Y,null,l,J)}}for(var F in l){var Y=l[F];if(J=a[F],l.hasOwnProperty(F)&&(Y!=null||J!=null))switch(F){case"type":d=Y;break;case"name":h=Y;break;case"checked":q=Y;break;case"defaultChecked":X=Y;break;case"value":v=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==J&&at(t,i,F,Y,l,J)}}ba(t,v,A,N,q,X,d,h);return;case"select":Y=v=A=F=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(d)||at(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":F=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==N&&at(t,i,h,d,l,N)}i=A,a=v,l=Y,F!=null?Mr(t,!!a,F,!1):!!l!=!!a&&(i!=null?Mr(t,!!a,i,!0):Mr(t,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:at(t,i,A,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&at(t,i,v,h,l,d)}Oc(t,F,Y);return;case"option":for(var fe in a)F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:at(t,i,fe,null,l,F));for(N in l)F=l[N],Y=a[N],l.hasOwnProperty(N)&&F!==Y&&(F!=null||Y!=null)&&(N==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":at(t,i,N,F,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)F=a[Ee],a.hasOwnProperty(Ee)&&F!=null&&!l.hasOwnProperty(Ee)&&at(t,i,Ee,null,l,F);for(q in l)if(F=l[q],Y=a[q],l.hasOwnProperty(q)&&F!==Y&&(F!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:at(t,i,q,F,l,Y)}return;default:if(wa(i)){for(var ot in a)F=a[ot],a.hasOwnProperty(ot)&&F!==void 0&&!l.hasOwnProperty(ot)&&qd(t,i,ot,void 0,l,F);for(X in l)F=l[X],Y=a[X],!l.hasOwnProperty(X)||F===Y||F===void 0&&Y===void 0||qd(t,i,X,F,l,Y);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&at(t,i,P,null,l,F);for(J in l)F=l[J],Y=a[J],!l.hasOwnProperty(J)||F===Y||F==null&&Y==null||at(t,i,J,F,l,Y)}function i_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,A=h.duration;if(d&&A&&i_(v)){for(v=0,A=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],q=N.startTime;if(q>A)break;var X=N.transferSize,J=N.initiatorType;X&&i_(J)&&(N=N.responseEnd,v+=X*(N<A?1:(A-q)/(N-q)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Fd=null,Gd=null;function Vu(t){return t.nodeType===9?t:t.ownerDocument}function r_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Yd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Kd=null;function HS(){var t=window.event;return t&&t.type==="popstate"?t===Kd?!1:(Kd=t,!0):(Kd=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,qS=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,FS=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(t){return o_.resolve(null).then(t).catch(GS)}:a_;function GS(t){setTimeout(function(){throw t})}function is(t){return t==="head"}function l_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),ao(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Al(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Al(a);for(var d=a.firstChild;d;){var v=d.nextSibling,A=d.nodeName;d[Ti]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Al(t.ownerDocument.body);a=h}while(a);ao(i)}function c_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Qd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qd(a),Sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function YS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ti])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function KS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function u_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Fn(t.nextSibling),t===null))return null;return t}function $d(t){return t.data==="$?"||t.data==="$~"}function Xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function QS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Wd=null;function h_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Fn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function f_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function d_(t,i,a){switch(i=Vu(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Al(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Sa(t)}var Gn=new Map,m_=new Set;function ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var mr=se.d;se.d={f:$S,r:XS,D:WS,C:JS,L:ZS,m:eA,X:nA,S:tA,M:iA};function $S(){var t=mr.f(),i=Cu();return t||i}function XS(t){var i=kn(t);i!==null&&i.tag===5&&i.type==="form"?D1(i):mr.r(t)}var io=typeof document>"u"?null:document;function p_(t,i,a){var l=io;if(l&&typeof i=="string"&&i){var h=dn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),m_.has(h)||(m_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Wt(i,"link",t),xt(i),l.head.appendChild(i)))}}function WS(t){mr.D(t),p_("dns-prefetch",t,null)}function JS(t,i){mr.C(t,i),p_("preconnect",t,i)}function ZS(t,i,a){mr.L(t,i,a);var l=io;if(l&&t&&i){var h='link[rel="preload"][as="'+dn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+dn(a.imageSizes)+'"]')):h+='[href="'+dn(t)+'"]';var d=h;switch(i){case"style":d=ro(t);break;case"script":d=so(t)}Gn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Gn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(bl(d))||i==="script"&&l.querySelector(wl(d))||(i=l.createElement("link"),Wt(i,"link",t),xt(i),l.head.appendChild(i)))}}function eA(t,i){mr.m(t,i);var a=io;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=so(t)}if(!Gn.has(d)&&(t=S({rel:"modulepreload",href:t},i),Gn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),Wt(l,"link",t),xt(l),a.head.appendChild(l)}}}function tA(t,i,a){mr.S(t,i,a);var l=io;if(l&&t){var h=Ai(l).hoistableStyles,d=ro(t);i=i||"default";var v=h.get(d);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(bl(d)))A.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Gn.get(d))&&Jd(t,a);var N=v=l.createElement("link");xt(N),Wt(N,"link",t),N._p=new Promise(function(q,X){N.onload=q,N.onerror=X}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Pu(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:A},h.set(d,v)}}}function nA(t,i){mr.X(t,i);var a=io;if(a&&t){var l=Ai(a).hoistableScripts,h=so(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=S({src:t,async:!0},i),(i=Gn.get(h))&&Zd(t,i),d=a.createElement("script"),xt(d),Wt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function iA(t,i){mr.M(t,i);var a=io;if(a&&t){var l=Ai(a).hoistableScripts,h=so(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=Gn.get(h))&&Zd(t,i),d=a.createElement("script"),xt(d),Wt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function g_(t,i,a,l){var h=(h=Te.current)?ju(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ro(a.href),a=Ai(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var d=Ai(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(bl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(t,a),d||rA(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=so(a),a=Ai(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ro(t){return'href="'+dn(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function y_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function rA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Wt(i,"link",a),xt(i),t.head.appendChild(i))}function so(t){return'[src="'+dn(t)+'"]'}function wl(t){return"script[async]"+t}function __(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+dn(a.href)+'"]');if(l)return i.instance=l,xt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Wt(l,"style",h),Pu(l,a.precedence,t),i.instance=l;case"stylesheet":h=ro(a.href);var d=t.querySelector(bl(h));if(d)return i.state.loading|=4,i.instance=d,xt(d),d;l=y_(a),(h=Gn.get(h))&&Jd(l,h),d=(t.ownerDocument||t).createElement("link"),xt(d);var v=d;return v._p=new Promise(function(A,N){v.onload=A,v.onerror=N}),Wt(d,"link",l),i.state.loading|=4,Pu(d,a.precedence,t),i.instance=d;case"script":return d=so(a.src),(h=t.querySelector(wl(d)))?(i.instance=h,xt(h),h):(l=a,(h=Gn.get(d))&&(l=S({},a),Zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),Wt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Pu(l,a.precedence,t));return i.instance}function Pu(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Lu=null;function v_(t,i,a){if(Lu===null){var l=new Map,h=Lu=new Map;h.set(a,l)}else h=Lu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ti]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var A=l.get(v);A?A.push(d):l.set(v,[d])}}return l}function E_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function sA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function T_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function aA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ro(l.href),d=i.querySelector(bl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Uu.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,xt(d);return}d=i.ownerDocument||i,l=y_(l),(h=Gn.get(h))&&Jd(l,h),d=d.createElement("link"),xt(d);var v=d;v._p=new Promise(function(A,N){v.onload=A,v.onerror=N}),Wt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uu.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var em=0;function oA(t,i){return t.stylesheets&&t.count===0&&Bu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Bu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&em===0&&(em=62500*BS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Bu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>em?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zu=null;function Bu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zu=new Map,i.forEach(lA,t),zu=null,Uu.call(t))}function lA(t,i){if(!(i.state.loading&4)){var a=zu.get(t);if(a)var l=a.get(null);else{a=new Map,zu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Uu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Rl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function cA(t,i,a,l,h,d,v,A,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function S_(t,i,a,l,h,d,v,A,N,q,X,J){return t=new cA(t,i,a,v,N,q,X,J,A),i=1,d===!0&&(i|=24),d=bn(3,null,null,i),t.current=d,d.stateNode=t,i=Mf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Pf(d),t}function A_(t){return t?(t=ja,t):ja}function b_(t,i,a,l,h,d){h=A_(h),l.context===null?l.context=h:l.pendingContext=h,l=Yr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Kr(t,l,i),a!==null&&(vn(a,t,i),rl(a,t,i))}function w_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function tm(t,i){w_(t,i),(t=t.alternate)&&w_(t,i)}function R_(t){if(t.tag===13||t.tag===31){var i=qs(t,67108864);i!==null&&vn(i,t,67108864),tm(t,67108864)}}function C_(t){if(t.tag===13||t.tag===31){var i=xn();i=Ds(i);var a=qs(t,i);a!==null&&vn(a,t,i),tm(t,i)}}var Hu=!0;function uA(t,i,a,l){var h=Q.T;Q.T=null;var d=se.p;try{se.p=2,nm(t,i,a,l)}finally{se.p=d,Q.T=h}}function hA(t,i,a,l){var h=Q.T;Q.T=null;var d=se.p;try{se.p=8,nm(t,i,a,l)}finally{se.p=d,Q.T=h}}function nm(t,i,a,l){if(Hu){var h=im(l);if(h===null)Hd(t,i,l,qu,a),x_(t,l);else if(dA(h,t,i,a,l))l.stopPropagation();else if(x_(t,l),i&4&&-1<fA.indexOf(t)){for(;h!==null;){var d=kn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=yi(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var N=1<<31-St(v);A.entanglements[1]|=N,v&=~N}ji(d),(Ze&6)===0&&(wu=mt()+500,El(0))}}break;case 31:case 13:A=qs(d,2),A!==null&&vn(A,d,2),Cu(),tm(d,2)}if(d=im(l),d===null&&Hd(t,i,l,qu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Hd(t,i,l,null,a)}}function im(t){return t=Vn(t),rm(t)}var qu=null;function rm(t){if(qu=null,t=Si(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qu=t,null}function I_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(On()){case un:return 2;case $n:return 8;case Dr:case uf:return 32;case Tc:return 268435456;default:return 32}default:return 32}}var sm=!1,rs=null,ss=null,as=null,Cl=new Map,Il=new Map,os=[],fA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x_(t,i){switch(t){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function xl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=kn(i),i!==null&&R_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function dA(t,i,a,l,h){switch(i){case"focusin":return rs=xl(rs,t,i,a,l,h),!0;case"dragenter":return ss=xl(ss,t,i,a,l,h),!0;case"mouseover":return as=xl(as,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,xl(Cl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Il.set(d,xl(Il.get(d)||null,t,i,a,l,h)),!0}return!1}function N_(t){var i=Si(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Jn(t.priority,function(){C_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Jn(t.priority,function(){C_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=im(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ho=l,a.target.dispatchEvent(l),Ho=null}else return i=kn(a),i!==null&&R_(i),t.blockedOn=a,!1;i.shift()}return!0}function D_(t,i,a){Fu(t)&&a.delete(i)}function mA(){sm=!1,rs!==null&&Fu(rs)&&(rs=null),ss!==null&&Fu(ss)&&(ss=null),as!==null&&Fu(as)&&(as=null),Cl.forEach(D_),Il.forEach(D_)}function Gu(t,i){t.blockedOn===i&&(t.blockedOn=null,sm||(sm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mA)))}var Yu=null;function O_(t){Yu!==t&&(Yu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Yu===t&&(Yu=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(rm(l||a)===null)continue;break}var d=kn(a);d!==null&&(t.splice(i,3),i-=3,id(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ao(t){function i(N){return Gu(N,t)}rs!==null&&Gu(rs,t),ss!==null&&Gu(ss,t),as!==null&&Gu(as,t),Cl.forEach(i),Il.forEach(i);for(var a=0;a<os.length;a++){var l=os[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<os.length&&(a=os[0],a.blockedOn===null);)N_(a),a.blockedOn===null&&os.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Ht]||null;if(typeof d=="function")v||O_(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Ht]||null)A=v.formAction;else if(rm(h)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),O_(a)}}}function M_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function am(t){this._internalRoot=t}Ku.prototype.render=am.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=xn();b_(a,l,t,i,null,null)},Ku.prototype.unmount=am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;b_(t.current,2,null,t,null,null),Cu(),i[Ei]=null}};function Ku(t){this._internalRoot=t}Ku.prototype.unstable_scheduleHydration=function(t){if(t){var i=Cc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<os.length&&i!==0&&i<os[a].priority;a++);os.splice(a,0,t),a===0&&N_(t)}};var k_=e.version;if(k_!=="19.2.4")throw Error(s(527,k_,"19.2.4"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var pA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{Xn=Qu.inject(pA),Yt=Qu}catch{}}return Dl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=B1,d=H1,v=q1;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=S_(t,1,!1,null,null,a,l,null,h,d,v,M_),t[Ei]=i.current,Bd(t),new am(i)},Dl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=B1,v=H1,A=q1,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=S_(t,1,!0,i,a??null,l,h,N,d,v,A,M_),i.context=A_(null),a=i.current,l=xn(),l=Ds(l),h=Yr(l),h.callback=null,Kr(a,h,l),a=l,i.current.lanes=a,xs(i,a),ji(i),t[Ei]=i.current,Bd(t),new Ku(i)},Dl.version="19.2.4",Dl}var F_;function RA(){if(F_)return cm.exports;F_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cm.exports=wA(),cm.exports}var CA=RA();const IA=L0(CA);var G_="popstate";function Y_(r){return typeof r=="object"&&r!=null&&"pathname"in r&&"search"in r&&"hash"in r&&"state"in r&&"key"in r}function xA(r={}){function e(o,c){let{pathname:f="/",search:m="",hash:p=""}=da(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Lm("",{pathname:f,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof c=="string"?c:Ql(c))}function s(o,c){fi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return DA(e,n,s,r)}function yt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function fi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NA(){return Math.random().toString(36).substring(2,10)}function K_(r,e){return{usr:r.state,key:r.key,idx:e,masked:r.unstable_mask?{pathname:r.pathname,search:r.search,hash:r.hash}:void 0}}function Lm(r,e,n=null,s,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?da(e):e,state:n,key:e&&e.key||s||NA(),unstable_mask:o}}function Ql({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function da(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function DA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,m="POP",p=null,y=T();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function T(){return(f.state||{idx:null}).idx}function S(){m="POP";let U=T(),ee=U==null?null:U-y;y=U,p&&p({action:m,location:K.location,delta:ee})}function w(U,ee){m="PUSH";let ie=Y_(U)?U:Lm(K.location,U,ee);n&&n(ie,U),y=T()+1;let ne=K_(ie,y),oe=K.createHref(ie.unstable_mask||ie);try{f.pushState(ne,"",oe)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(oe)}c&&p&&p({action:m,location:K.location,delta:1})}function L(U,ee){m="REPLACE";let ie=Y_(U)?U:Lm(K.location,U,ee);n&&n(ie,U),y=T();let ne=K_(ie,y),oe=K.createHref(ie.unstable_mask||ie);f.replaceState(ne,"",oe),c&&p&&p({action:m,location:K.location,delta:0})}function z(U){return OA(U)}let K={get action(){return m},get location(){return r(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(G_,S),p=U,()=>{o.removeEventListener(G_,S),p=null}},createHref(U){return e(o,U)},createURL:z,encodeLocation(U){let ee=z(U);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:w,replace:L,go(U){return f.go(U)}};return K}function OA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ql(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function U0(r,e,n="/"){return MA(r,e,n,!1)}function MA(r,e,n,s){let o=typeof e=="string"?da(e):e,c=vr(o.pathname||"/",n);if(c==null)return null;let f=z0(r);kA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=GA(c);m=qA(f[p],y,s)}return m}function z0(r,e=[],n=[],s="",o=!1){let c=(f,m,p=o,y)=>{let T={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&p)return;yt(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let S=Li([s,T.relativePath]),w=n.concat(T);f.children&&f.children.length>0&&(yt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),z0(f.children,e,w,S,p)),!(f.path==null&&!f.index)&&e.push({path:S,score:BA(S,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))c(f,m);else for(let p of B0(f.path))c(f,m,!0,p)}),e}function B0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=B0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function kA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:HA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var VA=/^:[\w-]+$/,jA=3,PA=2,LA=1,UA=10,zA=-2,Q_=r=>r==="*";function BA(r,e){let n=r.split("/"),s=n.length;return n.some(Q_)&&(s+=zA),e&&(s+=PA),n.filter(o=>!Q_(o)).reduce((o,c)=>o+(VA.test(c)?jA:c===""?LA:UA),s)}function HA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function qA(r,e,n=!1){let{routesMeta:s}=r,o={},c="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,T=c==="/"?e:e.slice(c.length)||"/",S=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),w=p.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Li([c,S.pathname]),pathnameBase:$A(Li([c,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(c=Li([c,S.pathnameBase]))}return f}function yh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=FA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:S},w)=>{if(T==="*"){let z=m[w]||"";f=c.slice(0,c.length-z.length).replace(/(.)\/+$/,"$1")}const L=m[w];return S&&!L?y[T]=void 0:y[T]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:r}}function FA(r,e=!1,n=!0){fi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p,y,T)=>{if(s.push({paramName:m,isOptional:p!=null}),p){let S=T.charAt(y+f.length);return S&&S!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function GA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function vr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var YA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function KA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?da(r):r,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=$_(n.substring(1),"/"):c=$_(n,e)):c=e,{pathname:c,search:XA(s),hash:WA(o)}}function $_(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function H0(r){let e=QA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function fp(r,e,n,s=!1){let o;typeof r=="string"?o=da(r):(o={...r},yt(!o.pathname||!o.pathname.includes("?"),dm("?","pathname","search",o)),yt(!o.pathname||!o.pathname.includes("#"),dm("#","pathname","hash",o)),yt(!o.search||!o.search.includes("#"),dm("#","search","hash",o)));let c=r===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let p=KA(o,m),y=f&&f!=="/"&&f.endsWith("/"),T=(c||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var Li=r=>r.join("/").replace(/\/\/+/g,"/"),$A=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),XA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,WA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,JA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ZA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function eb(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function F0(r,e){let n=r;if(typeof n!="string"||!YA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(q0)try{let c=new URL(window.location.href),f=n.startsWith("//")?new URL(c.protocol+n):new URL(n),m=vr(f.pathname,e);f.origin===c.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{fi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var G0=["POST","PUT","PATCH","DELETE"];new Set(G0);var tb=["GET",...G0];new Set(tb);var bo=j.createContext(null);bo.displayName="DataRouter";var Bh=j.createContext(null);Bh.displayName="DataRouterState";var nb=j.createContext(!1),Y0=j.createContext({isTransitioning:!1});Y0.displayName="ViewTransition";var ib=j.createContext(new Map);ib.displayName="Fetchers";var rb=j.createContext(null);rb.displayName="Await";var Qn=j.createContext(null);Qn.displayName="Navigation";var sc=j.createContext(null);sc.displayName="Location";var br=j.createContext({outlet:null,matches:[],isDataRoute:!1});br.displayName="Route";var dp=j.createContext(null);dp.displayName="RouteError";var K0="REACT_ROUTER_ERROR",sb="REDIRECT",ab="ROUTE_ERROR_RESPONSE";function ob(r){if(r.startsWith(`${K0}:${sb}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function lb(r){if(r.startsWith(`${K0}:${ab}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new JA(e.status,e.statusText,e.data)}catch{}}function cb(r,{relative:e}={}){yt(ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Qn),{hash:o,pathname:c,search:f}=oc(r,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:Li([n,c])),s.createHref({pathname:m,search:f,hash:o})}function ac(){return j.useContext(sc)!=null}function wr(){return yt(ac(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(sc).location}var Q0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $0(r){j.useContext(Qn).static||j.useLayoutEffect(r)}function mp(){let{isDataRoute:r}=j.useContext(br);return r?Sb():ub()}function ub(){yt(ac(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(bo),{basename:e,navigator:n}=j.useContext(Qn),{matches:s}=j.useContext(br),{pathname:o}=wr(),c=JSON.stringify(H0(s)),f=j.useRef(!1);return $0(()=>{f.current=!0}),j.useCallback((p,y={})=>{if(fi(f.current,Q0),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=fp(p,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Li([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,c,o,r])}j.createContext(null);function oc(r,{relative:e}={}){let{matches:n}=j.useContext(br),{pathname:s}=wr(),o=JSON.stringify(H0(n));return j.useMemo(()=>fp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function hb(r,e){return X0(r,e)}function X0(r,e,n){yt(ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(Qn),{matches:o}=j.useContext(br),c=o[o.length-1],f=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let U=y&&y.path||"";J0(m,!y||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let T=wr(),S;if(e){let U=typeof e=="string"?da(e):e;yt(p==="/"||U.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${U.pathname}" was given in the \`location\` prop.`),S=U}else S=T;let w=S.pathname||"/",L=w;if(p!=="/"){let U=p.replace(/^\//,"").split("/");L="/"+w.replace(/^\//,"").split("/").slice(U.length).join("/")}let z=U0(r,{pathname:L});fi(y||z!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),fi(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=gb(z&&z.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:Li([p,s.encodeLocation?s.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:Li([p,s.encodeLocation?s.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),o,n);return e&&K?j.createElement(sc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...S},navigationType:"POP"}},K):K}function fb(){let r=Tb(),e=ZA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,f)}var db=j.createElement(fb,null),W0=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=lb(r.digest);n&&(r=n)}let e=r!==void 0?j.createElement(br.Provider,{value:this.props.routeContext},j.createElement(dp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?j.createElement(mb,{error:r},e):e}};W0.contextType=nb;var mm=new WeakMap;function mb({children:r,error:e}){let{basename:n}=j.useContext(Qn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=ob(e.digest);if(s){let o=mm.get(e);if(o)throw o;let c=F0(s.location,n);if(q0&&!mm.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw mm.set(e,f),f}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function pb({routeContext:r,match:e,children:n}){let s=j.useContext(bo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(br.Provider,{value:r},n)}function gb(r,e=[],n){let s=n?.state;if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let o=r,c=s?.errors;if(c!=null){let T=o.findIndex(S=>S.route.id&&c?.[S.route.id]!==void 0);yt(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,T+1))}let f=!1,m=-1;if(n&&s){f=s.renderFallback;for(let T=0;T<o.length;T++){let S=o[T];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(m=T),S.route.id){let{loaderData:w,errors:L}=s,z=S.route.loader&&!w.hasOwnProperty(S.route.id)&&(!L||L[S.route.id]===void 0);if(S.route.lazy||z){n.isStatic&&(f=!0),m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}}let p=n?.onError,y=s&&p?(T,S)=>{p(T,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:eb(s.matches),errorInfo:S})}:void 0;return o.reduceRight((T,S,w)=>{let L,z=!1,K=null,U=null;s&&(L=c&&S.route.id?c[S.route.id]:void 0,K=S.route.errorElement||db,f&&(m<0&&w===0?(J0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,U=null):m===w&&(z=!0,U=S.route.hydrateFallbackElement||null)));let ee=e.concat(o.slice(0,w+1)),ie=()=>{let ne;return L?ne=K:z?ne=U:S.route.Component?ne=j.createElement(S.route.Component,null):S.route.element?ne=S.route.element:ne=T,j.createElement(pb,{match:S,routeContext:{outlet:T,matches:ee,isDataRoute:s!=null},children:ne})};return s&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?j.createElement(W0,{location:s.location,revalidation:s.revalidation,component:K,error:L,children:ie(),routeContext:{outlet:null,matches:ee,isDataRoute:!0},onError:y}):ie()},null)}function pp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yb(r){let e=j.useContext(bo);return yt(e,pp(r)),e}function _b(r){let e=j.useContext(Bh);return yt(e,pp(r)),e}function vb(r){let e=j.useContext(br);return yt(e,pp(r)),e}function gp(r){let e=vb(r),n=e.matches[e.matches.length-1];return yt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Eb(){return gp("useRouteId")}function Tb(){let r=j.useContext(dp),e=_b("useRouteError"),n=gp("useRouteError");return r!==void 0?r:e.errors?.[n]}function Sb(){let{router:r}=yb("useNavigate"),e=gp("useNavigate"),n=j.useRef(!1);return $0(()=>{n.current=!0}),j.useCallback(async(o,c={})=>{fi(n.current,Q0),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var X_={};function J0(r,e,n){!e&&!X_[r]&&(X_[r]=!0,fi(!1,n))}j.memo(Ab);function Ab({routes:r,future:e,state:n,isStatic:s,onError:o}){return X0(r,void 0,{state:n,isStatic:s,onError:o})}function rh(r){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bb({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:f}){yt(!ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:f,future:{}}),[m,o,c,f]);typeof n=="string"&&(n=da(n));let{pathname:y="/",search:T="",hash:S="",state:w=null,key:L="default",unstable_mask:z}=n,K=j.useMemo(()=>{let U=vr(y,m);return U==null?null:{location:{pathname:U,search:T,hash:S,state:w,key:L,unstable_mask:z},navigationType:s}},[m,y,T,S,w,L,s,z]);return fi(K!=null,`<Router basename="${m}"> is not able to match the URL "${y}${T}${S}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:j.createElement(Qn.Provider,{value:p},j.createElement(sc.Provider,{children:e,value:K}))}function wb({children:r,location:e}){return hb(Um(r),e)}function Um(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let c=[...e,o];if(s.type===j.Fragment){n.push.apply(n,Um(s.props.children,c));return}yt(s.type===rh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Um(s.props.children,c)),n.push(f)}),n}var sh="get",ah="application/x-www-form-urlencoded";function Hh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Rb(r){return Hh(r)&&r.tagName.toLowerCase()==="button"}function Cb(r){return Hh(r)&&r.tagName.toLowerCase()==="form"}function Ib(r){return Hh(r)&&r.tagName.toLowerCase()==="input"}function xb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Nb(r,e){return r.button===0&&(!e||e==="_self")&&!xb(r)}var $u=null;function Db(){if($u===null)try{new FormData(document.createElement("form"),0),$u=!1}catch{$u=!0}return $u}var Ob=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pm(r){return r!=null&&!Ob.has(r)?(fi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):r}function Mb(r,e){let n,s,o,c,f;if(Cb(r)){let m=r.getAttribute("action");s=m?vr(m,e):null,n=r.getAttribute("method")||sh,o=pm(r.getAttribute("enctype"))||ah,c=new FormData(r)}else if(Rb(r)||Ib(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?vr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||sh,o=pm(r.getAttribute("formenctype"))||pm(m.getAttribute("enctype"))||ah,c=new FormData(m,r),!Db()){let{name:y,type:T,value:S}=r;if(T==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,S)}}else{if(Hh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,s=null,o=ah,f=r}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function kb(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&vr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Vb(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Pb(r,e,n){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await Vb(c,n);return f.links?f.links():[]}return[]}));return Bb(s.flat(1).filter(jb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function W_(r,e,n,s,o,c){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Lb(r,e,{includeHydrateFallback:n}={}){return Ub(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Ub(r){return[...new Set(r)]}function zb(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Bb(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(zb(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function Z0(){let r=j.useContext(bo);return yp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Hb(){let r=j.useContext(Bh);return yp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var _p=j.createContext(void 0);_p.displayName="FrameworkContext";function eE(){let r=j.useContext(_p);return yp(r,"You must render this element inside a <HydratedRouter> element"),r}function qb(r,e){let n=j.useContext(_p),[s,o]=j.useState(!1),[c,f]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:S}=e,w=j.useRef(null);j.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=ee=>{ee.forEach(ie=>{f(ie.isIntersecting)})},U=new IntersectionObserver(K,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[r]),j.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let L=()=>{o(!0)},z=()=>{o(!1),f(!1)};return n?r!=="intent"?[c,w,{}]:[c,w,{onFocus:Ol(m,L),onBlur:Ol(p,z),onMouseEnter:Ol(y,L),onMouseLeave:Ol(T,z),onTouchStart:Ol(S,L)}]:[!1,w,{}]}function Ol(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Fb({page:r,...e}){let{router:n}=Z0(),s=j.useMemo(()=>U0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(Yb,{page:r,matches:s,...e}):null}function Gb(r){let{manifest:e,routeModules:n}=eE(),[s,o]=j.useState([]);return j.useEffect(()=>{let c=!1;return Pb(r,e,n).then(f=>{c||o(f)}),()=>{c=!0}},[r,e,n]),s}function Yb({page:r,matches:e,...n}){let s=wr(),{future:o,manifest:c,routeModules:f}=eE(),{basename:m}=Z0(),{loaderData:p,matches:y}=Hb(),T=j.useMemo(()=>W_(r,e,y,c,s,"data"),[r,e,y,c,s]),S=j.useMemo(()=>W_(r,e,y,c,s,"assets"),[r,e,y,c,s]),w=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,U=!1;if(e.forEach(ie=>{let ne=c.routes[ie.route.id];!ne||!ne.hasLoader||(!T.some(oe=>oe.route.id===ie.route.id)&&ie.route.id in p&&f[ie.route.id]?.shouldRevalidate||ne.hasClientLoader?U=!0:K.add(ie.route.id))}),K.size===0)return[];let ee=kb(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return U&&K.size>0&&ee.searchParams.set("_routes",e.filter(ie=>K.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[ee.pathname+ee.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,c,T,e,r,f]),L=j.useMemo(()=>Lb(S,c),[S,c]),z=Gb(S);return j.createElement(j.Fragment,null,w.map(K=>j.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),L.map(K=>j.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),z.map(({key:K,link:U})=>j.createElement("link",{key:K,nonce:n.nonce,...U,crossOrigin:U.crossOrigin??n.crossOrigin})))}function Kb(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Qb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qb&&(window.__reactRouterVersion="7.13.1")}catch{}function $b({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=j.useRef();o.current==null&&(o.current=xA({window:s,v5Compat:!0}));let c=o.current,[f,m]=j.useState({action:c.action,location:c.location}),p=j.useCallback(y=>{n===!1?m(y):j.startTransition(()=>m(y))},[n]);return j.useLayoutEffect(()=>c.listen(p),[c,p]),j.createElement(bb,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:c,unstable_useTransitions:n})}var tE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_h=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,unstable_mask:m,state:p,target:y,to:T,preventScrollReset:S,viewTransition:w,unstable_defaultShouldRevalidate:L,...z},K){let{basename:U,navigator:ee,unstable_useTransitions:ie}=j.useContext(Qn),ne=typeof T=="string"&&tE.test(T),oe=F0(T,U);T=oe.to;let ce=cb(T,{relative:o}),ve=wr(),I=null;if(m){let Pe=fp(m,[],ve.unstable_mask?ve.unstable_mask.pathname:"/",!0);U!=="/"&&(Pe.pathname=Pe.pathname==="/"?U:Li([U,Pe.pathname])),I=ee.createHref(Pe)}let[R,x,k]=qb(s,z),D=Zb(T,{replace:f,unstable_mask:m,state:p,target:y,preventScrollReset:S,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:L,unstable_useTransitions:ie});function V(Pe){e&&e(Pe),Pe.defaultPrevented||D(Pe)}let C=!(oe.isExternal||c),Oe=j.createElement("a",{...z,...k,href:(C?I:void 0)||oe.absoluteURL||ce,onClick:C?V:e,ref:Kb(K,x),target:y,"data-discover":!ne&&n==="render"?"true":void 0});return R&&!ne?j.createElement(j.Fragment,null,Oe,j.createElement(Fb,{page:ce})):Oe});_h.displayName="Link";var Xb=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:m,children:p,...y},T){let S=oc(f,{relative:y.relative}),w=wr(),L=j.useContext(Bh),{navigator:z,basename:K}=j.useContext(Qn),U=L!=null&&rw(S)&&m===!0,ee=z.encodeLocation?z.encodeLocation(S).pathname:S.pathname,ie=w.pathname,ne=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),ne=ne?ne.toLowerCase():null,ee=ee.toLowerCase()),ne&&K&&(ne=vr(ne,K)||ne);const oe=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let ce=ie===ee||!o&&ie.startsWith(ee)&&ie.charAt(oe)==="/",ve=ne!=null&&(ne===ee||!o&&ne.startsWith(ee)&&ne.charAt(ee.length)==="/"),I={isActive:ce,isPending:ve,isTransitioning:U},R=ce?e:void 0,x;typeof s=="function"?x=s(I):x=[s,ce?"active":null,ve?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(I):c;return j.createElement(_h,{...y,"aria-current":R,className:x,ref:T,style:k,to:f,viewTransition:m},typeof p=="function"?p(I):p)});Xb.displayName="NavLink";var Wb=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:f=sh,action:m,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:w,...L},z)=>{let{unstable_useTransitions:K}=j.useContext(Qn),U=nw(),ee=iw(m,{relative:y}),ie=f.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&tE.test(m),oe=ce=>{if(p&&p(ce),ce.defaultPrevented)return;ce.preventDefault();let ve=ce.nativeEvent.submitter,I=ve?.getAttribute("formmethod")||f,R=()=>U(ve||ce.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:c,relative:y,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:w});K&&n!==!1?j.startTransition(()=>R()):R()};return j.createElement("form",{ref:z,method:ie,action:ee,onSubmit:s?p:oe,...L,"data-discover":!ne&&r==="render"?"true":void 0})});Wb.displayName="Form";function Jb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nE(r){let e=j.useContext(bo);return yt(e,Jb(r)),e}function Zb(r,{target:e,replace:n,unstable_mask:s,state:o,preventScrollReset:c,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:y}={}){let T=mp(),S=wr(),w=oc(r,{relative:f});return j.useCallback(L=>{if(Nb(L,e)){L.preventDefault();let z=n!==void 0?n:Ql(S)===Ql(w),K=()=>T(r,{replace:z,unstable_mask:s,state:o,preventScrollReset:c,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:p});y?j.startTransition(()=>K()):K()}},[S,T,w,n,s,o,e,r,c,f,m,p,y])}var ew=0,tw=()=>`__${String(++ew)}__`;function nw(){let{router:r}=nE("useSubmit"),{basename:e}=j.useContext(Qn),n=Eb(),s=r.fetch,o=r.navigate;return j.useCallback(async(c,f={})=>{let{action:m,method:p,encType:y,formData:T,body:S}=Mb(c,e);if(f.navigate===!1){let w=f.fetcherKey||tw();await s(w,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:S,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:S,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function iw(r,{relative:e}={}){let{basename:n}=j.useContext(Qn),s=j.useContext(br);yt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...oc(r||".",{relative:e})},f=wr();if(r==null){c.search=f.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let T=m.toString();c.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Li([n,c.pathname])),Ql(c)}function rw(r,{relative:e}={}){let n=j.useContext(Y0);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=nE("useViewTransitionState"),o=oc(r,{relative:e});if(!n.isTransitioning)return!1;let c=vr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=vr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return yh(o.pathname,f)!=null||yh(o.pathname,c)!=null}const iE=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const sw=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const aw=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const J_=r=>{const e=aw(r);return e.charAt(0).toUpperCase()+e.slice(1)};var ow={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lw=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const cw=j.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:f,...m},p)=>j.createElement("svg",{ref:p,...ow,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:iE("lucide",o),...!c&&!lw(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,T])=>j.createElement(y,T)),...Array.isArray(c)?c:[c]]));const nn=(r,e)=>{const n=j.forwardRef(({className:s,...o},c)=>j.createElement(cw,{ref:c,iconNode:e,className:iE(`lucide-${sw(J_(r))}`,`lucide-${r}`,s),...o}));return n.displayName=J_(r),n};const uw=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],hw=nn("car",uw);const fw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xu=nn("check",fw);const dw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gm=nn("circle-alert",dw);const mw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pw=nn("circle-check-big",mw);const gw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yw=nn("circle-question-mark",gw);const _w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Z_=nn("circle-user",_w);const vw=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ew=nn("credit-card",vw);const Tw=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ym=nn("eye-off",Tw);const Sw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_m=nn("eye",Sw);const Aw=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],bw=nn("headphones",Aw);const ww=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],vm=nn("lock",ww);const Rw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Cw=nn("log-out",Rw);const Iw=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Em=nn("mail",Iw);const xw=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Nw=nn("phone",xw);const Dw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ow=nn("shield-check",Dw);const Mw=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kw=nn("user-check",Mw);const Vw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jw=nn("user",Vw),Pw=()=>{};var ev={};const rE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Lw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},sE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=c>>2,S=(c&3)<<4|m>>4;let w=(m&15)<<2|y>>6,L=y&63;p||(L=64,f||(w=64)),s.push(n[T],n[S],n[w],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(rE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Lw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||m==null||y==null||S==null)throw new Uw;const w=c<<2|m>>4;if(s.push(w),y!==64){const L=m<<4&240|y>>2;if(s.push(L),S!==64){const z=y<<6&192|S;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Uw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zw=function(r){const e=rE(r);return sE.encodeByteArray(e,!0)},vh=function(r){return zw(r).replace(/\./g,"")},aE=function(r){try{return sE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Bw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Hw=()=>Bw().__FIREBASE_DEFAULTS__,qw=()=>{if(typeof process>"u"||typeof ev>"u")return;const r=ev.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Fw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&aE(r[1]);return e&&JSON.parse(e)},qh=()=>{try{return Pw()||Hw()||qw()||Fw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},oE=r=>qh()?.emulatorHosts?.[r],lE=r=>{const e=oE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},cE=()=>qh()?.config,uE=r=>qh()?.[`_${r}`];class Gw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ma(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vp(r){return(await fetch(r,{credentials:"include"})).ok}function hE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[vh(JSON.stringify(n)),vh(JSON.stringify(f)),""].join(".")}const zl={};function Yw(){const r={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?r.emulator.push(e):r.prod.push(e);return r}function Kw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let tv=!1;function Ep(r,e){if(typeof window>"u"||typeof document>"u"||!ma(window.location.host)||zl[r]===e||zl[r]||tv)return;zl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=Yw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,L){w.setAttribute("width","24"),w.setAttribute("id",L),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{tv=!0,f()},w}function T(w,L){w.setAttribute("id",L),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=Kw(s),L=n("text"),z=document.getElementById(L)||document.createElement("span"),K=n("learnmore"),U=document.getElementById(K)||document.createElement("a"),ee=n("preprendIcon"),ie=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ne=w.element;m(ne),T(U,K);const oe=y();p(ie,ee),ne.append(ie,z,U,oe),document.body.appendChild(ne)}c?(z.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function $w(){const r=qh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ww(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Jw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zw(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function e4(){return!$w()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t4(){try{return typeof indexedDB=="object"}catch{return!1}}function n4(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const i4="FirebaseError";class Qi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=i4,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lc.prototype.create)}}class lc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?r4(c,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Qi(o,m,s)}}function r4(r,e){return r.replace(s4,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const s4=/\{\$([^}]+)}/g;function a4(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function aa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=r[o],f=e[o];if(nv(c)&&nv(f)){if(!aa(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function nv(r){return r!==null&&typeof r=="object"}function cc(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Vl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function o4(r,e){const n=new l4(r,e);return n.subscribe.bind(n)}class l4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");c4(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Tm),o.error===void 0&&(o.error=Tm),o.complete===void 0&&(o.complete=Tm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c4(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Tm(){}function en(r){return r&&r._delegate?r._delegate:r}class vs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const na="[DEFAULT]";class u4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Gw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f4(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:h4(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function h4(r){return r===na?void 0:r}function f4(r){return r.instantiationMode==="EAGER"}class d4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ge||(Ge={}));const m4={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},p4=Ge.INFO,g4={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},y4=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=g4[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tp{constructor(e){this.name=e,this._logLevel=p4,this._logHandler=y4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const _4=(r,e)=>e.some(n=>r instanceof n);let iv,rv;function v4(){return iv||(iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E4(){return rv||(rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fE=new WeakMap,zm=new WeakMap,dE=new WeakMap,Sm=new WeakMap,Sp=new WeakMap;function T4(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(ps(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&fE.set(n,r)}).catch(()=>{}),Sp.set(e,r),e}function S4(r){if(zm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});zm.set(r,e)}let Bm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return zm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||dE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function A4(r){Bm=r(Bm)}function b4(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Am(this),e,...n);return dE.set(s,e.sort?e.sort():[e]),ps(s)}:E4().includes(r)?function(...e){return r.apply(Am(this),e),ps(fE.get(this))}:function(...e){return ps(r.apply(Am(this),e))}}function w4(r){return typeof r=="function"?b4(r):(r instanceof IDBTransaction&&S4(r),_4(r,v4())?new Proxy(r,Bm):r)}function ps(r){if(r instanceof IDBRequest)return T4(r);if(Sm.has(r))return Sm.get(r);const e=w4(r);return e!==r&&(Sm.set(r,e),Sp.set(e,r)),e}const Am=r=>Sp.get(r);function R4(r,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,e),m=ps(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ps(f.result),p.oldVersion,p.newVersion,ps(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const C4=["get","getKey","getAll","getAllKeys","count"],I4=["put","add","delete","clear"],bm=new Map;function sv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=I4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||C4.includes(n)))return;const c=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return bm.set(e,c),c}A4(r=>({...r,get:(e,n,s)=>sv(e,n)||r.get(e,n,s),has:(e,n)=>!!sv(e,n)||r.has(e,n)}));class x4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function N4(r){return r.getComponent()?.type==="VERSION"}const Hm="@firebase/app",av="0.14.8";const Er=new Tp("@firebase/app"),D4="@firebase/app-compat",O4="@firebase/analytics-compat",M4="@firebase/analytics",k4="@firebase/app-check-compat",V4="@firebase/app-check",j4="@firebase/auth",P4="@firebase/auth-compat",L4="@firebase/database",U4="@firebase/data-connect",z4="@firebase/database-compat",B4="@firebase/functions",H4="@firebase/functions-compat",q4="@firebase/installations",F4="@firebase/installations-compat",G4="@firebase/messaging",Y4="@firebase/messaging-compat",K4="@firebase/performance",Q4="@firebase/performance-compat",$4="@firebase/remote-config",X4="@firebase/remote-config-compat",W4="@firebase/storage",J4="@firebase/storage-compat",Z4="@firebase/firestore",eR="@firebase/ai",tR="@firebase/firestore-compat",nR="firebase",iR="12.9.0";const qm="[DEFAULT]",rR={[Hm]:"fire-core",[D4]:"fire-core-compat",[M4]:"fire-analytics",[O4]:"fire-analytics-compat",[V4]:"fire-app-check",[k4]:"fire-app-check-compat",[j4]:"fire-auth",[P4]:"fire-auth-compat",[L4]:"fire-rtdb",[U4]:"fire-data-connect",[z4]:"fire-rtdb-compat",[B4]:"fire-fn",[H4]:"fire-fn-compat",[q4]:"fire-iid",[F4]:"fire-iid-compat",[G4]:"fire-fcm",[Y4]:"fire-fcm-compat",[K4]:"fire-perf",[Q4]:"fire-perf-compat",[$4]:"fire-rc",[X4]:"fire-rc-compat",[W4]:"fire-gcs",[J4]:"fire-gcs-compat",[Z4]:"fire-fst",[tR]:"fire-fst-compat",[eR]:"fire-vertex","fire-js":"fire-js",[nR]:"fire-js-all"};const Eh=new Map,sR=new Map,Fm=new Map;function ov(r,e){try{r.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function oa(r){const e=r.name;if(Fm.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;Fm.set(e,r);for(const n of Eh.values())ov(n,r);for(const n of sR.values())ov(n,r);return!0}function Fh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Nn(r){return r==null?!1:r.settings!==void 0}const aR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new lc("app","Firebase",aR);class oR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}const pa=iR;function mE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:qm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw gs.create("bad-app-name",{appName:String(o)});if(n||(n=cE()),!n)throw gs.create("no-options");const c=Eh.get(o);if(c){if(aa(n,c.options)&&aa(s,c.config))return c;throw gs.create("duplicate-app",{appName:o})}const f=new d4(o);for(const p of Fm.values())f.addComponent(p);const m=new oR(n,s,f);return Eh.set(o,m),m}function Ap(r=qm){const e=Eh.get(r);if(!e&&r===qm&&cE())return mE();if(!e)throw gs.create("no-app",{appName:r});return e}function Ui(r,e,n){let s=rR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(f.join(" "));return}oa(new vs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const lR="firebase-heartbeat-database",cR=1,$l="firebase-heartbeat-store";let wm=null;function pE(){return wm||(wm=R4(lR,cR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(r=>{throw gs.create("idb-open",{originalErrorMessage:r.message})})),wm}async function uR(r){try{const n=(await pE()).transaction($l),s=await n.objectStore($l).get(gE(r));return await n.done,s}catch(e){if(e instanceof Qi)Er.warn(e.message);else{const n=gs.create("idb-get",{originalErrorMessage:e?.message});Er.warn(n.message)}}}async function lv(r,e){try{const s=(await pE()).transaction($l,"readwrite");await s.objectStore($l).put(e,gE(r)),await s.done}catch(n){if(n instanceof Qi)Er.warn(n.message);else{const s=gs.create("idb-set",{originalErrorMessage:n?.message});Er.warn(s.message)}}}function gE(r){return`${r.name}!${r.options.appId}`}const hR=1024,fR=30;class dR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>fR){const o=gR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Er.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cv(),{heartbeatsToSend:n,unsentEntries:s}=mR(this._heartbeatsCache.heartbeats),o=vh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Er.warn(e),""}}}function cv(){return new Date().toISOString().substring(0,10)}function mR(r,e=hR){const n=[];let s=r.slice();for(const o of r){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),uv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),uv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class pR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t4()?n4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return lv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return lv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function uv(r){return vh(JSON.stringify({version:2,heartbeats:r})).length}function gR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function yR(r){oa(new vs("platform-logger",e=>new x4(e),"PRIVATE")),oa(new vs("heartbeat",e=>new dR(e),"PRIVATE")),Ui(Hm,av,r),Ui(Hm,av,"esm2020"),Ui("fire-js","")}yR("");var _R="firebase",vR="12.9.0";Ui(_R,vR,"app");var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ys,yE;(function(){var r;function e(I,R){function x(){}x.prototype=R.prototype,I.F=R.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(k,D,V){for(var C=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)C[Oe-2]=arguments[Oe];return R.prototype[D].apply(k,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,x){x||(x=0);const k=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)k[D]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(D=0;D<16;++D)k[D]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=I.g[0],x=I.g[1],D=I.g[2];let V=I.g[3],C;C=R+(V^x&(D^V))+k[0]+3614090360&4294967295,R=x+(C<<7&4294967295|C>>>25),C=V+(D^R&(x^D))+k[1]+3905402710&4294967295,V=R+(C<<12&4294967295|C>>>20),C=D+(x^V&(R^x))+k[2]+606105819&4294967295,D=V+(C<<17&4294967295|C>>>15),C=x+(R^D&(V^R))+k[3]+3250441966&4294967295,x=D+(C<<22&4294967295|C>>>10),C=R+(V^x&(D^V))+k[4]+4118548399&4294967295,R=x+(C<<7&4294967295|C>>>25),C=V+(D^R&(x^D))+k[5]+1200080426&4294967295,V=R+(C<<12&4294967295|C>>>20),C=D+(x^V&(R^x))+k[6]+2821735955&4294967295,D=V+(C<<17&4294967295|C>>>15),C=x+(R^D&(V^R))+k[7]+4249261313&4294967295,x=D+(C<<22&4294967295|C>>>10),C=R+(V^x&(D^V))+k[8]+1770035416&4294967295,R=x+(C<<7&4294967295|C>>>25),C=V+(D^R&(x^D))+k[9]+2336552879&4294967295,V=R+(C<<12&4294967295|C>>>20),C=D+(x^V&(R^x))+k[10]+4294925233&4294967295,D=V+(C<<17&4294967295|C>>>15),C=x+(R^D&(V^R))+k[11]+2304563134&4294967295,x=D+(C<<22&4294967295|C>>>10),C=R+(V^x&(D^V))+k[12]+1804603682&4294967295,R=x+(C<<7&4294967295|C>>>25),C=V+(D^R&(x^D))+k[13]+4254626195&4294967295,V=R+(C<<12&4294967295|C>>>20),C=D+(x^V&(R^x))+k[14]+2792965006&4294967295,D=V+(C<<17&4294967295|C>>>15),C=x+(R^D&(V^R))+k[15]+1236535329&4294967295,x=D+(C<<22&4294967295|C>>>10),C=R+(D^V&(x^D))+k[1]+4129170786&4294967295,R=x+(C<<5&4294967295|C>>>27),C=V+(x^D&(R^x))+k[6]+3225465664&4294967295,V=R+(C<<9&4294967295|C>>>23),C=D+(R^x&(V^R))+k[11]+643717713&4294967295,D=V+(C<<14&4294967295|C>>>18),C=x+(V^R&(D^V))+k[0]+3921069994&4294967295,x=D+(C<<20&4294967295|C>>>12),C=R+(D^V&(x^D))+k[5]+3593408605&4294967295,R=x+(C<<5&4294967295|C>>>27),C=V+(x^D&(R^x))+k[10]+38016083&4294967295,V=R+(C<<9&4294967295|C>>>23),C=D+(R^x&(V^R))+k[15]+3634488961&4294967295,D=V+(C<<14&4294967295|C>>>18),C=x+(V^R&(D^V))+k[4]+3889429448&4294967295,x=D+(C<<20&4294967295|C>>>12),C=R+(D^V&(x^D))+k[9]+568446438&4294967295,R=x+(C<<5&4294967295|C>>>27),C=V+(x^D&(R^x))+k[14]+3275163606&4294967295,V=R+(C<<9&4294967295|C>>>23),C=D+(R^x&(V^R))+k[3]+4107603335&4294967295,D=V+(C<<14&4294967295|C>>>18),C=x+(V^R&(D^V))+k[8]+1163531501&4294967295,x=D+(C<<20&4294967295|C>>>12),C=R+(D^V&(x^D))+k[13]+2850285829&4294967295,R=x+(C<<5&4294967295|C>>>27),C=V+(x^D&(R^x))+k[2]+4243563512&4294967295,V=R+(C<<9&4294967295|C>>>23),C=D+(R^x&(V^R))+k[7]+1735328473&4294967295,D=V+(C<<14&4294967295|C>>>18),C=x+(V^R&(D^V))+k[12]+2368359562&4294967295,x=D+(C<<20&4294967295|C>>>12),C=R+(x^D^V)+k[5]+4294588738&4294967295,R=x+(C<<4&4294967295|C>>>28),C=V+(R^x^D)+k[8]+2272392833&4294967295,V=R+(C<<11&4294967295|C>>>21),C=D+(V^R^x)+k[11]+1839030562&4294967295,D=V+(C<<16&4294967295|C>>>16),C=x+(D^V^R)+k[14]+4259657740&4294967295,x=D+(C<<23&4294967295|C>>>9),C=R+(x^D^V)+k[1]+2763975236&4294967295,R=x+(C<<4&4294967295|C>>>28),C=V+(R^x^D)+k[4]+1272893353&4294967295,V=R+(C<<11&4294967295|C>>>21),C=D+(V^R^x)+k[7]+4139469664&4294967295,D=V+(C<<16&4294967295|C>>>16),C=x+(D^V^R)+k[10]+3200236656&4294967295,x=D+(C<<23&4294967295|C>>>9),C=R+(x^D^V)+k[13]+681279174&4294967295,R=x+(C<<4&4294967295|C>>>28),C=V+(R^x^D)+k[0]+3936430074&4294967295,V=R+(C<<11&4294967295|C>>>21),C=D+(V^R^x)+k[3]+3572445317&4294967295,D=V+(C<<16&4294967295|C>>>16),C=x+(D^V^R)+k[6]+76029189&4294967295,x=D+(C<<23&4294967295|C>>>9),C=R+(x^D^V)+k[9]+3654602809&4294967295,R=x+(C<<4&4294967295|C>>>28),C=V+(R^x^D)+k[12]+3873151461&4294967295,V=R+(C<<11&4294967295|C>>>21),C=D+(V^R^x)+k[15]+530742520&4294967295,D=V+(C<<16&4294967295|C>>>16),C=x+(D^V^R)+k[2]+3299628645&4294967295,x=D+(C<<23&4294967295|C>>>9),C=R+(D^(x|~V))+k[0]+4096336452&4294967295,R=x+(C<<6&4294967295|C>>>26),C=V+(x^(R|~D))+k[7]+1126891415&4294967295,V=R+(C<<10&4294967295|C>>>22),C=D+(R^(V|~x))+k[14]+2878612391&4294967295,D=V+(C<<15&4294967295|C>>>17),C=x+(V^(D|~R))+k[5]+4237533241&4294967295,x=D+(C<<21&4294967295|C>>>11),C=R+(D^(x|~V))+k[12]+1700485571&4294967295,R=x+(C<<6&4294967295|C>>>26),C=V+(x^(R|~D))+k[3]+2399980690&4294967295,V=R+(C<<10&4294967295|C>>>22),C=D+(R^(V|~x))+k[10]+4293915773&4294967295,D=V+(C<<15&4294967295|C>>>17),C=x+(V^(D|~R))+k[1]+2240044497&4294967295,x=D+(C<<21&4294967295|C>>>11),C=R+(D^(x|~V))+k[8]+1873313359&4294967295,R=x+(C<<6&4294967295|C>>>26),C=V+(x^(R|~D))+k[15]+4264355552&4294967295,V=R+(C<<10&4294967295|C>>>22),C=D+(R^(V|~x))+k[6]+2734768916&4294967295,D=V+(C<<15&4294967295|C>>>17),C=x+(V^(D|~R))+k[13]+1309151649&4294967295,x=D+(C<<21&4294967295|C>>>11),C=R+(D^(x|~V))+k[4]+4149444226&4294967295,R=x+(C<<6&4294967295|C>>>26),C=V+(x^(R|~D))+k[11]+3174756917&4294967295,V=R+(C<<10&4294967295|C>>>22),C=D+(R^(V|~x))+k[2]+718787259&4294967295,D=V+(C<<15&4294967295|C>>>17),C=x+(V^(D|~R))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+V&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const x=R-this.blockSize,k=this.C;let D=this.h,V=0;for(;V<R;){if(D==0)for(;V<=x;)o(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<R;)if(k[D++]=I.charCodeAt(V++),D==this.blockSize){o(this,k),D=0;break}}else for(;V<R;)if(k[D++]=I[V++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,x=0;x<4;++x)for(let k=0;k<32;k+=8)I[R++]=this.g[x]>>>k&255;return I};function c(I,R){var x=m;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=R(I)}function f(I,R){this.h=R;const x=[];let k=!0;for(let D=I.length-1;D>=0;D--){const V=I[D]|0;k&&V==R||(x[D]=V,k=!1)}this.g=x}var m={};function p(I){return-128<=I&&I<128?c(I,function(R){return new f([R|0],R<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return U(y(-I));const R=[];let x=1;for(let k=0;I>=x;k++)R[k]=I/x|0,x*=4294967296;return new f(R,0)}function T(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return U(T(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(R,8));let k=S;for(let V=0;V<I.length;V+=8){var D=Math.min(8,I.length-V);const C=parseInt(I.substring(V,V+D),R);D<8?(D=y(Math.pow(R,D)),k=k.j(D).add(y(C))):(k=k.j(x),k=k.add(y(C)))}return k}var S=p(0),w=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-U(this).m();let I=0,R=1;for(let x=0;x<this.g.length;x++){const k=this.i(x);I+=(k>=0?k:4294967296+k)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(z(this))return"0";if(K(this))return"-"+U(this).toString(I);const R=y(Math.pow(I,6));var x=this;let k="";for(;;){const D=oe(x,R).g;x=ee(x,D.j(R));let V=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=D,z(x))return V+k;for(;V.length<6;)V="0"+V;k=V+k}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function z(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function K(I){return I.h==-1}r.l=function(I){return I=ee(this,I),K(I)?-1:z(I)?0:1};function U(I){const R=I.g.length,x=[];for(let k=0;k<R;k++)x[k]=~I.g[k];return new f(x,~I.h).add(w)}r.abs=function(){return K(this)?U(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),x=[];let k=0;for(let D=0;D<=R;D++){let V=k+(this.i(D)&65535)+(I.i(D)&65535),C=(V>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);k=C>>>16,V&=65535,C&=65535,x[D]=C<<16|V}return new f(x,x[x.length-1]&-2147483648?-1:0)};function ee(I,R){return I.add(U(R))}r.j=function(I){if(z(this)||z(I))return S;if(K(this))return K(I)?U(this).j(U(I)):U(U(this).j(I));if(K(I))return U(this.j(U(I)));if(this.l(L)<0&&I.l(L)<0)return y(this.m()*I.m());const R=this.g.length+I.g.length,x=[];for(var k=0;k<2*R;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<I.g.length;D++){const V=this.i(k)>>>16,C=this.i(k)&65535,Oe=I.i(D)>>>16,Pe=I.i(D)&65535;x[2*k+2*D]+=C*Pe,ie(x,2*k+2*D),x[2*k+2*D+1]+=V*Pe,ie(x,2*k+2*D+1),x[2*k+2*D+1]+=C*Oe,ie(x,2*k+2*D+1),x[2*k+2*D+2]+=V*Oe,ie(x,2*k+2*D+2)}for(I=0;I<R;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=R;I<2*R;I++)x[I]=0;return new f(x,0)};function ie(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function ne(I,R){this.g=I,this.h=R}function oe(I,R){if(z(R))throw Error("division by zero");if(z(I))return new ne(S,S);if(K(I))return R=oe(U(I),R),new ne(U(R.g),U(R.h));if(K(R))return R=oe(I,U(R)),new ne(U(R.g),R.h);if(I.g.length>30){if(K(I)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var x=w,k=R;k.l(I)<=0;)x=ce(x),k=ce(k);var D=ve(x,1),V=ve(k,1);for(k=ve(k,2),x=ve(x,2);!z(k);){var C=V.add(k);C.l(I)<=0&&(D=D.add(x),V=C),k=ve(k,1),x=ve(x,1)}return R=ee(I,D.j(R)),new ne(D,R)}for(D=S;I.l(R)>=0;){for(x=Math.max(1,Math.floor(I.m()/R.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),V=y(x),C=V.j(R);K(C)||C.l(I)>0;)x-=k,V=y(x),C=V.j(R);z(V)&&(V=w),D=D.add(V),I=ee(I,C)}return new ne(D,I)}r.B=function(I){return oe(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),x=[];for(let k=0;k<R;k++)x[k]=this.i(k)&I.i(k);return new f(x,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),x=[];for(let k=0;k<R;k++)x[k]=this.i(k)|I.i(k);return new f(x,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),x=[];for(let k=0;k<R;k++)x[k]=this.i(k)^I.i(k);return new f(x,this.h^I.h)};function ce(I){const R=I.g.length+1,x=[];for(let k=0;k<R;k++)x[k]=I.i(k)<<1|I.i(k-1)>>>31;return new f(x,I.h)}function ve(I,R){const x=R>>5;R%=32;const k=I.g.length-x,D=[];for(let V=0;V<k;V++)D[V]=R>0?I.i(V+x)>>>R|I.i(V+x+1)<<32-R:I.i(V+x);return new f(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,yE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,ys=f}).apply(typeof hv<"u"?hv:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _E,jl,vE,oh,Gm,EE,TE,SE;(function(){var r,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var _=0;_<u.length;++_){var E=u[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(u,_){if(_)e:{var E=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var B=u[b];if(!(B in E))break e;E=E[B]}u=u[u.length-1],b=E[u],_=_(b),_!=b&&_!=null&&e(E,u,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(_){var E=[],b;for(b in _)Object.prototype.hasOwnProperty.call(_,b)&&E.push([b,_[b]]);return E}});var c=c||{},f=this||self;function m(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function p(u,_,E){return u.call.apply(u.bind,arguments)}function y(u,_,E){return y=p,y.apply(null,arguments)}function T(u,_){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,_){function E(){}E.prototype=_.prototype,u.Z=_.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(b,B,G){for(var re=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)re[ke-2]=arguments[ke];return _.prototype[B].apply(b,re)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function L(u){const _=u.length;if(_>0){const E=Array(_);for(let b=0;b<_;b++)E[b]=u[b];return E}return[]}function z(u,_){for(let b=1;b<arguments.length;b++){const B=arguments[b];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=u.length||0;const G=B.length||0;u.length=E+G;for(let re=0;re<G;re++)u[E+re]=B[re]}else u.push(B)}}class K{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(u){f.setTimeout(()=>{throw u},0)}function ee(){var u=I;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class ie{constructor(){this.h=this.g=null}add(_,E){const b=ne.get();b.set(_,E),this.h?this.h.next=b:this.g=b,this.h=b}}var ne=new K(()=>new oe,u=>u.reset());class oe{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ve=!1,I=new ie,R=()=>{const u=Promise.resolve(void 0);ce=()=>{u.then(x)}};function x(){for(var u;u=ee();){try{u.h.call(u.g)}catch(E){U(E)}var _=ne;_.j(u),_.h<100&&(_.h++,u.next=_.g,_.g=u)}ve=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};f.addEventListener("test",E,_),f.removeEventListener("test",E,_)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function Oe(u,_){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,_)}S(Oe,D),Oe.prototype.init=function(u,_){const E=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget,_||(E=="mouseover"?_=u.fromElement:E=="mouseout"&&(_=u.toElement)),this.relatedTarget=_,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),Q=0;function se(u,_,E,b,B){this.listener=u,this.proxy=null,this.src=_,this.type=E,this.capture=!!b,this.ha=B,this.key=++Q,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Le(u,_,E){for(const b in u)_.call(E,u[b],b,u)}function Me(u,_){for(const E in u)_.call(void 0,u[E],E,u)}function O(u){const _={};for(const E in u)_[E]=u[E];return _}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,_){let E,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(E in b)u[E]=b[E];for(let G=0;G<$.length;G++)E=$[G],Object.prototype.hasOwnProperty.call(b,E)&&(u[E]=b[E])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,_,E,b,B){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const re=Te(u,_,b,B);return re>-1?(_=u[re],E||(_.fa=!1)):(_=new se(_,this.src,G,!!b,B),_.fa=E,u.push(_)),_};function Ae(u,_){const E=_.type;if(E in u.g){var b=u.g[E],B=Array.prototype.indexOf.call(b,_,void 0),G;(G=B>=0)&&Array.prototype.splice.call(b,B,1),G&&(ge(_),u.g[E].length==0&&(delete u.g[E],u.h--))}}function Te(u,_,E,b){for(let B=0;B<u.length;++B){const G=u[B];if(!G.da&&G.listener==_&&G.capture==!!E&&G.ha==b)return B}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Tt={};function ct(u,_,E,b,B){if(Array.isArray(_)){for(let G=0;G<_.length;G++)ct(u,_[G],E,b,B);return null}return E=Re(E),u&&u[Pe]?u.J(_,E,m(b)?!!b.capture:!1,B):pi(u,_,E,!1,b,B)}function pi(u,_,E,b,B,G){if(!_)throw Error("Invalid event type");const re=m(B)?!!B.capture:!!B;let ke=Ce(u);if(ke||(u[Be]=ke=new le(u)),E=ke.add(_,E,b,re,G),E.proxy)return E;if(b=Ir(),E.proxy=b,b.src=u,b.listener=E,u.addEventListener)V||(B=re),B===void 0&&(B=!1),u.addEventListener(_.toString(),b,B);else if(u.attachEvent)u.attachEvent(Dn(_.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ir(){function u(E){return _.call(u.src,u.listener,E)}const _=pe;return u}function xr(u,_,E,b,B){if(Array.isArray(_))for(var G=0;G<_.length;G++)xr(u,_[G],E,b,B);else b=m(b)?!!b.capture:!!b,E=Re(E),u&&u[Pe]?(u=u.i,G=String(_).toString(),G in u.g&&(_=u.g[G],E=Te(_,E,b,B),E>-1&&(ge(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete u.g[G],u.h--)))):u&&(u=Ce(u))&&(_=u.g[_.toString()],u=-1,_&&(u=Te(_,E,b,B)),(E=u>-1?_[u]:null)&&Nr(E))}function Nr(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[Pe])Ae(_.i,u);else{var E=u.type,b=u.proxy;_.removeEventListener?_.removeEventListener(E,b,u.capture):_.detachEvent?_.detachEvent(Dn(E),b):_.addListener&&_.removeListener&&_.removeListener(b),(E=Ce(_))?(Ae(E,u),E.h==0&&(E.src=null,_[Be]=null)):ge(u)}}}function Dn(u){return u in Tt?Tt[u]:Tt[u]="on"+u}function pe(u,_){if(u.da)u=!0;else{_=new Oe(_,this);const E=u.listener,b=u.ha||u.src;u.fa&&Nr(u),u=E.call(b,_)}return u}function Ce(u){return u=u[Be],u instanceof le?u:null}var Ie="__closure_events_fn_"+(Math.random()*1e9>>>0);function Re(u){return typeof u=="function"?u:(u[Ie]||(u[Ie]=function(_){return u.handleEvent(_)}),u[Ie])}function de(){k.call(this),this.i=new le(this),this.M=this,this.G=null}S(de,k),de.prototype[Pe]=!0,de.prototype.removeEventListener=function(u,_,E,b){xr(this,u,_,E,b)};function Se(u,_){var E,b=u.G;if(b)for(E=[];b;b=b.G)E.push(b);if(u=u.M,b=_.type||_,typeof _=="string")_=new D(_,u);else if(_ instanceof D)_.target=_.target||u;else{var B=_;_=new D(b,u),ae(_,B)}B=!0;let G,re;if(E)for(re=E.length-1;re>=0;re--)G=_.g=E[re],B=He(G,b,!0,_)&&B;if(G=_.g=u,B=He(G,b,!0,_)&&B,B=He(G,b,!1,_)&&B,E)for(re=0;re<E.length;re++)G=_.g=E[re],B=He(G,b,!1,_)&&B}de.prototype.N=function(){if(de.Z.N.call(this),this.i){var u=this.i;for(const _ in u.g){const E=u.g[_];for(let b=0;b<E.length;b++)ge(E[b]);delete u.g[_],u.h--}}this.G=null},de.prototype.J=function(u,_,E,b){return this.i.add(String(u),_,!1,E,b)},de.prototype.K=function(u,_,E,b){return this.i.add(String(u),_,!0,E,b)};function He(u,_,E,b){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();let B=!0;for(let G=0;G<_.length;++G){const re=_[G];if(re&&!re.da&&re.capture==E){const ke=re.listener,At=re.ha||re.src;re.fa&&Ae(u.i,re),B=ke.call(At,b)!==!1&&B}}return B&&!b.defaultPrevented}function Bt(u,_){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:f.setTimeout(u,_||0)}function cn(u){u.g=Bt(()=>{u.g=null,u.i&&(u.i=!1,cn(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class mt extends k{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:cn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(u){k.call(this),this.h=u,this.g={}}S(On,k);var un=[];function $n(u){Le(u.g,function(_,E){this.g.hasOwnProperty(E)&&Nr(_)},u),u.g={}}On.prototype.N=function(){On.Z.N.call(this),$n(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dr=f.JSON.stringify,uf=f.JSON.parse,Tc=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Sc(){}function Ac(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){D.call(this,"d")}S(Yt,D);function Mn(){D.call(this,"c")}S(Mn,D);var St={},bc=null;function Ea(){return bc=bc||new de}St.Ia="serverreachability";function wc(u){D.call(this,St.Ia,u)}S(wc,D);function gi(u){const _=Ea();Se(_,new wc(_))}St.STAT_EVENT="statevent";function Is(u,_){D.call(this,St.STAT_EVENT,u),this.stat=_}S(Is,D);function Ct(u){const _=Ea();Se(_,new Is(_,u))}St.Ja="timingevent";function yi(u,_){D.call(this,St.Ja,u),this.size=_}S(yi,D);function _i(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},_)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function hf(u,_,E,b,B,G){u.info(function(){if(u.g)if(G){var re="",ke=G.split("&");for(let Je=0;Je<ke.length;Je++){var At=ke[Je].split("=");if(At.length>1){const pt=At[0];At=At[1];const Pn=pt.split("_");re=Pn.length>=2&&Pn[1]=="type"?re+(pt+"="+At+"&"):re+(pt+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+_+`
`+E+`
`+re})}function Rc(u,_,E,b,B,G,re){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+_+`
`+E+`
`+G+" "+re})}function vi(u,_,E,b){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+ff(u,E)+(b?" "+b:"")})}function xs(u,_){u.info(function(){return"TIMEOUT: "+_})}Wn.prototype.info=function(){};function ff(u,_){if(!u.g)return _;if(!_)return null;try{const G=JSON.parse(_);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var E=G[u];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var B=b[0];if(B!="noop"&&B!="stop"&&B!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return Dr(G)}catch{return _}}var Ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Do={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function Ds(){}S(Ds,Sc),Ds.prototype.g=function(){return new XMLHttpRequest},Oo=new Ds;function Xi(u){return encodeURIComponent(String(u))}function Cc(u){var _=1;u=u.split(":");const E=[];for(;_>0&&u.length;)E.push(u.shift()),_--;return u.length&&E.push(u.join(":")),E}function Jn(u,_,E,b){this.j=u,this.i=_,this.l=E,this.S=b||1,this.V=new On(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var It={},Ht={};function Ei(u,_,E){u.M=1,u.A=Os(Nt(_)),u.u=E,u.R=!0,Ta(u,null)}function Ta(u,_){u.F=Date.now(),Ti(u),u.B=Nt(u.A);var E=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),wa(E.i,"t",b),u.C=0,E=u.j.L,u.h=new Zn,u.g=Hc(u.j,E?_:null,!u.u),u.P>0&&(u.O=new mt(y(u.Y,u,u.g),u.P)),_=u.V,E=u.g,b=u.ba;var B="readystatechange";Array.isArray(B)||(B&&(un[0]=B.toString()),B=un);for(let G=0;G<B.length;G++){const re=ct(E,B[G],b||_.handleEvent,!1,_.h||_);if(!re)break;_.g[re.key]=re}_=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,_)):(u.v="GET",u.g.ea(u.B,u.v,null,_)),gi(),hf(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const _=this.O;_&&ni(u)==3?_.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)e:{const ke=ni(this.g),At=this.g.ya(),Je=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||ke!=4||At==7||(At==8||Je<=0?gi(3):gi(2)),Si(this);var _=this.g.ca();this.X=_;var E=df(this);if(this.o=_==200,Rc(this.i,this.v,this.B,this.l,this.S,ke,_),this.o){if(this.U&&!this.L){t:{if(this.g){var b,B=this.g;if((b=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var G=b;break t}}G=null}if(u=G)vi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,u);else{this.o=!1,this.m=3,Ct(12),Tn(this),kn(this);break e}}if(this.R){u=!0;let pt;for(;!this.K&&this.C<E.length;)if(pt=xc(this,E),pt==Ht){ke==4&&(this.m=4,Ct(14),u=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==It){this.m=4,Ct(15),vi(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else vi(this.i,this.l,pt,null),Ai(this,pt);if(Ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||E.length!=0||this.h.h||(this.m=1,Ct(16),u=!1),this.o=this.o&&u,!u)vi(this.i,this.l,E,"[Invalid Chunked Response]"),Tn(this),kn(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ko(re),re.P=!0,Ct(11))}}else vi(this.i,this.l,E,null),Ai(this,E);ke==4&&Tn(this),this.o&&!this.K&&(ke==4?Lc(this.j,this):(this.o=!1,Ti(this)))}else Ji(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Tn(this),kn(this)}}}catch{}};function df(u){if(!Ic(u))return u.g.la();const _=Kt(u.g);if(_==="")return"";let E="";const b=_.length,B=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),kn(u),"";u.h.i=new f.TextDecoder}for(let G=0;G<b;G++)u.h.h=!0,E+=u.h.i.decode(_[G],{stream:!(B&&G==b-1)});return _.length=0,u.h.g+=E,u.C=0,u.h.g}function Ic(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function xc(u,_){var E=u.C,b=_.indexOf(`
`,E);return b==-1?Ht:(E=Number(_.substring(E,b)),isNaN(E)?It:(b+=1,b+E>_.length?Ht:(_=_.slice(b,b+E),u.C=b+E,_)))}Jn.prototype.cancel=function(){this.K=!0,Tn(this)};function Ti(u){u.T=Date.now()+u.H,Sa(u,u.H)}function Sa(u,_){if(u.D!=null)throw Error("WatchDog timer not null");u.D=_i(y(u.aa,u),_)}function Si(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(xs(this.i,this.B),this.M!=2&&(gi(),Ct(17)),Tn(this),this.m=2,kn(this)):Sa(this,this.T-u)};function kn(u){u.j.I==0||u.K||Lc(u.j,u)}function Tn(u){Si(u);var _=u.O;_&&typeof _.dispose=="function"&&_.dispose(),u.O=null,$n(u.V),u.g&&(_=u.g,u.g=null,_.abort(),_.dispose())}function Ai(u,_){try{var E=u.j;if(E.I!=0&&(E.g==u||wi(E.h,u))){if(!u.L&&wi(E.h,u)&&E.I==3){try{var b=E.Ba.g.parse(_)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)Na(E),Ur(E);else break e;Us(E),Ct(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=_i(y(E.Va,E),6e3));bi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Di(E,11)}else if((u.L||E.g==u)&&Na(E),!C(_))for(B=E.Ba.g.parse(_),_=0;_<B.length;_++){let Je=B[_];const pt=Je[0];if(!(pt<=E.K))if(E.K=pt,Je=Je[1],E.I==2)if(Je[0]=="c"){E.M=Je[1],E.ba=Je[2];const Pn=Je[3];Pn!=null&&(E.ka=Pn,E.j.info("VER="+E.ka));const Oi=Je[4];Oi!=null&&(E.za=Oi,E.j.info("SVER="+E.za));const ii=Je[5];ii!=null&&typeof ii=="number"&&ii>0&&(b=1.5*ii,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const ri=u.g;if(ri){const zs=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var G=b.h;G.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Vo(G,G.h),G.h=null))}if(b.G){const Da=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(b.wa=Da,tt(b.J,b.G,Da))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var re=u;if(b.na=Bc(b,b.L?b.ba:null,b.W),re.L){jo(b.h,re);var ke=re,At=b.O;At&&(ke.H=At),ke.D&&(Si(ke),Ti(ke)),b.g=re}else jc(b);E.i.length>0&&Ni(E)}else Je[0]!="stop"&&Je[0]!="close"||Di(E,7);else E.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Di(E,7):Go(E):Je[0]!="noop"&&E.l&&E.l.qa(Je),E.A=0)}}gi(4)}catch{}}var xt=class{constructor(u,_){this.g=u,this.map=_}};function Mo(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bi(u){return u.h?1:u.g?u.g.size:0}function wi(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function Vo(u,_){u.g?u.g.add(_):u.h=_}function jo(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}Mo.prototype.cancel=function(){if(this.i=Po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Po(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const E of u.g.values())_=_.concat(E.G);return _}return L(u.i)}var Nc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(u,_){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const b=u[E].indexOf("=");let B,G=null;b>=0?(B=u[E].substring(0,b),G=u[E].substring(b+1)):B=u[E],_(B,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;u instanceof Sn?(this.l=u.l,qt(this,u.j),this.o=u.o,this.g=u.g,Or(this,u.u),this.h=u.h,Lo(this,kc(u.i)),this.m=u.m):u&&(_=String(u).match(Nc))?(this.l=!1,qt(this,_[1]||"",!0),this.o=Ri(_[2]||""),this.g=Ri(_[3]||"",!0),Or(this,_[4]),this.h=Ri(_[5]||"",!0),Lo(this,_[6]||"",!0),this.m=Ri(_[7]||"")):(this.l=!1,this.i=new kr(null,this.l))}Sn.prototype.toString=function(){const u=[];var _=this.j;_&&u.push(Ms(_,ba,!0),":");var E=this.g;return(E||_=="file")&&(u.push("//"),(_=this.o)&&u.push(Ms(_,ba,!0),"@"),u.push(Xi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Ms(E,E.charAt(0)=="/"?Uo:Dc,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Ms(E,Oc)),u.join("")},Sn.prototype.resolve=function(u){const _=Nt(this);let E=!!u.j;E?qt(_,u.j):E=!!u.o,E?_.o=u.o:E=!!u.g,E?_.g=u.g:E=u.u!=null;var b=u.h;if(E)Or(_,u.u);else if(E=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var B=_.h.lastIndexOf("/");B!=-1&&(b=_.h.slice(0,B+1)+b)}if(B=b,B==".."||B==".")b="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){b=B.lastIndexOf("/",0)==0,B=B.split("/");const G=[];for(let re=0;re<B.length;){const ke=B[re++];ke=="."?b&&re==B.length&&G.push(""):ke==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&re==B.length&&G.push("")):(G.push(ke),b=!0)}b=G.join("/")}else b=B}return E?_.h=b:E=u.i.toString()!=="",E?Lo(_,kc(u.i)):E=!!u.m,E&&(_.m=u.m),_};function Nt(u){return new Sn(u)}function qt(u,_,E){u.j=E?Ri(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function Or(u,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);u.u=_}else u.u=null}function Lo(u,_,E){_ instanceof kr?(u.i=_,Ra(u.i,u.l)):(E||(_=Ms(_,Mr)),u.i=new kr(_,u.l))}function tt(u,_,E){u.i.set(_,E)}function Os(u){return tt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ms(u,_,E){return typeof u=="string"?(u=encodeURI(u).replace(_,dn),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ba=/[#\/\?@]/g,Dc=/[#\?:]/g,Uo=/[#\?]/g,Mr=/[#\?@]/g,Oc=/#/g;function kr(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&Aa(u.i,function(_,E){u.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}r=kr.prototype,r.add=function(u,_){mn(this),this.i=null,u=Vr(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(_),this.h+=1,this};function Mc(u,_){mn(u),_=Vr(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function zo(u,_){return mn(u),_=Vr(u,_),u.g.has(_)}r.forEach=function(u,_){mn(this),this.g.forEach(function(E,b){E.forEach(function(B){u.call(_,B,b,this)},this)},this)};function Bo(u,_){mn(u);let E=[];if(typeof _=="string")zo(u,_)&&(E=E.concat(u.g.get(Vr(u,_))));else for(u=Array.from(u.g.values()),_=0;_<u.length;_++)E=E.concat(u[_]);return E}r.set=function(u,_){return mn(this),this.i=null,u=Vr(this,u),zo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},r.get=function(u,_){return u?(u=Bo(this,u),u.length>0?String(u[0]):_):_};function wa(u,_,E){Mc(u,_),E.length>0&&(u.i=null,u.g.set(Vr(u,_),L(E)),u.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(let b=0;b<_.length;b++){var E=_[b];const B=Xi(E);E=Bo(this,E);for(let G=0;G<E.length;G++){let re=B;E[G]!==""&&(re+="="+Xi(E[G])),u.push(re)}}return this.i=u.join("&")};function kc(u){const _=new kr;return _.i=u.i,u.g&&(_.g=new Map(u.g),_.h=u.h),_}function Vr(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function Ra(u,_){_&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(E,b){const B=b.toLowerCase();b!=B&&(Mc(this,b),wa(this,B,E))},u)),u.j=_}function ei(u,_){const E=new Wn;if(f.Image){const b=new Image;b.onload=T(Vn,E,"TestLoadImage: loaded",!0,_,b),b.onerror=T(Vn,E,"TestLoadImage: error",!1,_,b),b.onabort=T(Vn,E,"TestLoadImage: abort",!1,_,b),b.ontimeout=T(Vn,E,"TestLoadImage: timeout",!1,_,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else _(!1)}function Ho(u,_){const E=new Wn,b=new AbortController,B=setTimeout(()=>{b.abort(),Vn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:b.signal}).then(G=>{clearTimeout(B),G.ok?Vn(E,"TestPingServer: ok",!0,_):Vn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),Vn(E,"TestPingServer: error",!1,_)})}function Vn(u,_,E,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(E)}catch{}}function jr(){this.g=new Tc}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ci,Sc),Ci.prototype.g=function(){return new ks(this.i,this.h)};function ks(u,_){de.call(this),this.H=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ks,de),r=ks.prototype,r.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=_,this.readyState=1,ti(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(_.body=u),(this.H||f).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?Pr(this):ti(this),this.readyState==3&&Ca(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Pr(this))},r.Na=function(u){this.g&&(this.response=u,Pr(this))},r.ga=function(){this.g&&Pr(this)};function Pr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ti(u)}r.setRequestHeader=function(u,_){this.A.append(u,_)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=_.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jn(u){let _="";return Le(u,function(E,b){_+=b,_+=":",_+=E,_+=`\r
`}),_}function Vs(u,_,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=jn(E),typeof u=="string"?E!=null&&Xi(E):tt(u,_,E))}function rt(u){de.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(rt,de);var Ii=/^https?$/i,qo=["POST","PUT"];r=rt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,_,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch(G){js(this,G);return}if(u=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)E.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())E.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),B=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(qo,_,void 0)>=0)||b||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of E)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){js(this,G)}};function js(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.o=5,Fo(u),Wi(u)}function Fo(u){u.A||(u.A=!0,Se(u,"complete"),Se(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Se(this,"complete"),Se(this,"abort"),Wi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),rt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},r.Xa=function(){Ps(this)};function Ps(u){if(u.h&&typeof c<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(Se(u,"readystatechange"),ni(u)==4){u.h=!1;try{const G=u.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var b;if(b=G===0){let re=String(u.D).match(Nc)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),b=!Ii.test(re?re.toLowerCase():"")}E=b}if(E)Se(u,"complete"),Se(u,"success");else{u.o=6;try{var B=ni(u)>2?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.ca()+"]",Fo(u)}}finally{Wi(u)}}}}function Wi(u,_){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,_||Se(u,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),uf(_)}};function Kt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(u){const _={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(C(u[b]))continue;var E=Cc(u[b]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=_[B]||[];_[B]=G,G.push(E)}Me(_,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||_}function Lr(u){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(u&&u.concurrentRequestLimit),this.Ba=new jr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Lr.prototype,r.ka=8,r.I=1,r.connect=function(u,_,E,b){Ct(0),this.W=u,this.H=_||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=Bc(this,null,this.W),Ni(this)};function Go(u){if(Ia(u),u.I==3){var _=u.V++,E=Nt(u.J);if(tt(E,"SID",u.M),tt(E,"RID",_),tt(E,"TYPE","terminate"),Ls(u,E),_=new Jn(u,u.j,_),_.M=2,_.A=Os(Nt(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=_.A,E=!0),E||(_.g=Hc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ti(_)}zc(u)}function Ur(u){u.g&&(Ko(u),u.g.cancel(),u.g=null)}function Ia(u){Ur(u),u.v&&(f.clearTimeout(u.v),u.v=null),Na(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Ni(u){if(!ko(u.h)&&!u.m){u.m=!0;var _=u.Ea;ce||R(),ve||(ce(),ve=!0),I.add(_,u),u.D=0}}function xa(u,_){return bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=_.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=_i(y(u.Ea,u,_),Uc(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const B=new Jn(this,this.j,u);let G=this.o;if(this.U&&(G?(G=O(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(B.J=G,G=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(_+=b,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Vc(this,B,_),E=Nt(this.J),tt(E,"RID",u),tt(E,"CVER",22),this.G&&tt(E,"X-HTTP-Session-Id",this.G),Ls(this,E),G&&(this.R?_="headers="+Xi(jn(G))+"&"+_:this.u&&Vs(E,this.u,G)),Vo(this.h,B),this.Ra&&tt(E,"TYPE","init"),this.S?(tt(E,"$req",_),tt(E,"SID","null"),B.U=!0,Ei(B,E,null)):Ei(B,E,_),this.I=2}}else this.I==3&&(u?Yo(this,u):this.i.length==0||ko(this.h)||Yo(this))};function Yo(u,_){var E;_?E=_.l:E=u.V++;const b=Nt(u.J);tt(b,"SID",u.M),tt(b,"RID",E),tt(b,"AID",u.K),Ls(u,b),u.u&&u.o&&Vs(b,u.u,u.o),E=new Jn(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),_&&(u.i=_.G.concat(u.i)),_=Vc(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vo(u.h,E),Ei(E,b,_)}function Ls(u,_){u.H&&Le(u.H,function(E,b){tt(_,b,E)}),u.l&&Le({},function(E,b){tt(_,b,E)})}function Vc(u,_,E){E=Math.min(u.i.length,E);const b=u.l?y(u.l.Ka,u.l,u):null;e:{var B=u.i;let ke=-1;for(;;){const At=["count="+E];ke==-1?E>0?(ke=B[0].g,At.push("ofs="+ke)):ke=0:At.push("ofs="+ke);let Je=!0;for(let pt=0;pt<E;pt++){var G=B[pt].g;const Pn=B[pt].map;if(G-=ke,G<0)ke=Math.max(0,B[pt].g-100),Je=!1;else try{G="req"+G+"_"||"";try{var re=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Oi,ii]of re){let ri=ii;m(ii)&&(ri=Dr(ii)),At.push(G+Oi+"="+encodeURIComponent(ri))}}catch(Oi){throw At.push(G+"type="+encodeURIComponent("_badmap")),Oi}}catch{b&&b(Pn)}}if(Je){re=At.join("&");break e}}re=void 0}return u=u.i.splice(0,E),_.G=u,re}function jc(u){if(!u.g&&!u.v){u.Y=1;var _=u.Da;ce||R(),ve||(ce(),ve=!0),I.add(_,u),u.A=0}}function Us(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=_i(y(u.Da,u),Uc(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Pc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=_i(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Ur(this),Pc(this))};function Ko(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function Pc(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var _=Nt(u.na);tt(_,"RID","rpc"),tt(_,"SID",u.M),tt(_,"AID",u.K),tt(_,"CI",u.F?"0":"1"),!u.F&&u.ia&&tt(_,"TO",u.ia),tt(_,"TYPE","xmlhttp"),Ls(u,_),u.u&&u.o&&Vs(_,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=Os(Nt(_)),E.u=null,E.R=!0,Ta(E,u)}r.Va=function(){this.C!=null&&(this.C=null,Ur(this),Us(this),Ct(19))};function Na(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Lc(u,_){var E=null;if(u.g==_){Na(u),Ko(u),u.g=null;var b=2}else if(wi(u.h,_))E=_.G,jo(u.h,_),b=1;else return;if(u.I!=0){if(_.o)if(b==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var B=u.D;b=Ea(),Se(b,new yi(b,E)),Ni(u)}else jc(u);else if(B=_.m,B==3||B==0&&_.X>0||!(b==1&&xa(u,_)||b==2&&Us(u)))switch(E&&E.length>0&&(_=u.h,_.i=_.i.concat(E)),B){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function Uc(u,_){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*_}function Di(u,_){if(u.j.info("Error code "+_),_==2){var E=y(u.bb,u),b=u.Ua;const B=!b;b=new Sn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||qt(b,"https"),Os(b),B?ei(b.toString(),E):Ho(b.toString(),E)}else Ct(2);u.I=0,u.l&&u.l.pa(_),zc(u),Ia(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function zc(u){if(u.I=0,u.ja=[],u.l){const _=Po(u.h);(_.length!=0||u.i.length!=0)&&(z(u.ja,_),z(u.ja,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.oa()}}function Bc(u,_,E){var b=E instanceof Sn?Nt(E):new Sn(E);if(b.g!="")_&&(b.g=_+"."+b.g),Or(b,b.u);else{var B=f.location;b=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;const G=new Sn(null);b&&qt(G,b),_&&(G.g=_),B&&Or(G,B),E&&(G.h=E),b=G}return E=u.G,_=u.wa,E&&_&&tt(b,E,_),tt(b,"VER",u.ka),Ls(u,b),b}function Hc(u,_,E){if(_&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Aa&&!u.ma?new rt(new Ci({ab:E})):new rt(u.ma),_.Fa(u.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qc(){}r=qc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function zr(){}zr.prototype.g=function(u,_){return new hn(u,_)};function hn(u,_){de.call(this),this.g=new Lr(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(u?u["X-WebChannel-Client-Profile"]=_.sa:u={"X-WebChannel-Client-Profile":_.sa}),this.g.U=u,(u=_&&_.Qb)&&!C(u)&&(this.g.u=u),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new Zi(this)}S(hn,de),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Go(this.g)},hn.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=Dr(u),u=E);_.i.push(new xt(_.Ya++,u)),_.I==3&&Ni(_)},hn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,hn.Z.N.call(this)};function Fc(u){Yt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const E in _){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}S(Fc,Yt);function Gc(){Mn.call(this),this.status=1}S(Gc,Mn);function Zi(u){this.g=u}S(Zi,qc),Zi.prototype.ra=function(){Se(this.g,"a")},Zi.prototype.qa=function(u){Se(this.g,new Fc(u))},Zi.prototype.pa=function(u){Se(this.g,new Gc)},Zi.prototype.oa=function(){Se(this.g,"b")},zr.prototype.createWebChannel=zr.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,SE=function(){return new zr},TE=function(){return Ea()},EE=St,Gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,oh=Ns,Do.COMPLETE="complete",vE=Do,Ac.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",de.prototype.listen=de.prototype.J,jl=Ac,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,_E=rt}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let wo="12.9.0";function ER(r){wo=r}const la=new Tp("@firebase/firestore");function oo(){return la.logLevel}function he(r,...e){if(la.logLevel<=Ge.DEBUG){const n=e.map(bp);la.debug(`Firestore (${wo}): ${r}`,...n)}}function Tr(r,...e){if(la.logLevel<=Ge.ERROR){const n=e.map(bp);la.error(`Firestore (${wo}): ${r}`,...n)}}function ca(r,...e){if(la.logLevel<=Ge.WARN){const n=e.map(bp);la.warn(`Firestore (${wo}): ${r}`,...n)}}function bp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function we(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,AE(r,s,n)}function AE(r,e,n){let s=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Tr(s),new Error(s)}function et(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||AE(e,o,s)}function De(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class bE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(an.UNAUTHENTICATED)))}shutdown(){}}class SR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class AR{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new yr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new yr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(et(typeof s.accessToken=="string",31837,{l:s}),new bE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class bR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class wR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new bR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const s=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=CR(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Ye(r,e){return r<e?-1:r>e?1:0}function Ym(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return Rm(o)===Rm(c)?Ye(o,c):Rm(o)?1:-1}return Ye(r.length,e.length)}const IR=55296,xR=57343;function Rm(r){const e=r.charCodeAt(0);return e>=IR&&e<=xR}function vo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const dv="__name__";class Pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Pi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ye(e.length,n.length)}static compareSegments(e,n){const s=Pi.isNumericId(e),o=Pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):Ym(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class ut extends Pi{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const NR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Pi{construct(e,n,s){return new Zt(e,n,s)}static isValidIdentifier(e){return NR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dv}static keyField(){return new Zt([dv])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(c(),o++)}if(c(),f)throw new ue(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ut.fromString(e))}static fromName(e){return new _e(ut.fromString(e).popFirst(5))}static empty(){return new _e(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ut(e.slice()))}}function wE(r,e,n){if(!n)throw new ue(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function DR(r,e,n,s){if(e===!0&&s===!0)throw new ue(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function mv(r){if(!_e.isDocumentKey(r))throw new ue(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pv(r){if(_e.isDocumentKey(r))throw new ue(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function RE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Gh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function Es(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(r);throw new ue(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Pt(r,e){const n={typeString:r};return e&&(n.value=e),n}function uc(r,e){if(!RE(r))throw new ue(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ue(Z.INVALID_ARGUMENT,n);return!0}const gv=-62135596800,yv=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*yv);return new dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gv)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yv}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uc(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Pt("string",dt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new dt(0,0))}static max(){return new xe(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xl=-1;function OR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new dt(n+1,0):new dt(n,s));return new Ts(o,_e.empty(),e)}function MR(r){return new Ts(r.readTime,r.key,Xl)}class Ts{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ts(xe.min(),_e.empty(),Xl)}static max(){return new Ts(xe.max(),_e.empty(),Xl)}}function kR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:Ye(r.largestBatchId,e.largestBatchId))}const VR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ro(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==VR)throw r;he("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,c=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++c,f&&c===o&&n()}),(p=>s(p)))})),f=!0,c===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const c=e.length,f=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;n(e[y]).next((T=>{f[y]=T,++m,m===c&&s(f)}),(T=>o(T)))}}))}static doWhile(e,n){return new te(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function PR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(r){return r.name==="IndexedDbTransactionError"}class Yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yh.ce=-1;const Rp=-1;function Kh(r){return r==null}function Th(r){return r===0&&1/r==-1/0}function LR(r){return typeof r=="number"&&Number.isInteger(r)&&!Th(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const CE="";function UR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=_v(e)),e=zR(r.get(n),e);return _v(e)}function zR(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case CE:n+="";break;default:n+=c}}return n}function _v(r){return r+CE+""}function vv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ga(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function IE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class _t{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=c??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Jt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ev(this.data.getIterator())}getIteratorFrom(e){return new Ev(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class Ev{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class li{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new li([])}unionWith(e){let n=new zt(Zt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new li(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class xE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new xE("Invalid base64 string: "+c):c}})(e);return new tn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const BR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(r){if(et(!!r,39018),typeof r=="string"){let e=0;const n=BR.exec(r);if(et(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Rt(r.seconds),nanos:Rt(r.nanos)}}function Rt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function As(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const NE="server_timestamp",DE="__type__",OE="__previous_value__",ME="__local_write_time__";function Cp(r){return(r?.mapValue?.fields||{})[DE]?.stringValue===NE}function Qh(r){const e=r.mapValue.fields[OE];return Cp(e)?Qh(e):e}function Wl(r){const e=Ss(r.mapValue.fields[ME].timestampValue);return new dt(e.seconds,e.nanos)}class HR{constructor(e,n,s,o,c,f,m,p,y,T,S){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=S}}const Sh="(default)";class Jl{constructor(e,n){this.projectId=e,this.database=n||Sh}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}function qR(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ue(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(r.options.projectId,e)}const kE="__type__",FR="__max__",Zu={mapValue:{}},VE="__vector__",Ah="value";function bs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cp(r)?4:YR(r)?9007199254740991:GR(r)?10:11:we(28295,{value:r})}function Yi(r,e){if(r===e)return!0;const n=bs(r);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Wl(r).isEqual(Wl(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Ss(o.timestampValue),m=Ss(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return As(o.bytesValue).isEqual(As(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Rt(o.geoPointValue.latitude)===Rt(c.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Rt(o.integerValue)===Rt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Rt(o.doubleValue),m=Rt(c.doubleValue);return f===m?Th(f)===Th(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return vo(r.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(vv(f)!==vv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Yi(f[p],m[p])))return!1;return!0})(r,e);default:return we(52216,{left:r})}}function Zl(r,e){return(r.values||[]).find((n=>Yi(n,e)))!==void 0}function Eo(r,e){if(r===e)return 0;const n=bs(r),s=bs(e);if(n!==s)return Ye(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(r.booleanValue,e.booleanValue);case 2:return(function(c,f){const m=Rt(c.integerValue||c.doubleValue),p=Rt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return Tv(r.timestampValue,e.timestampValue);case 4:return Tv(Wl(r),Wl(e));case 5:return Ym(r.stringValue,e.stringValue);case 6:return(function(c,f){const m=As(c),p=As(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(c,f){const m=c.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=Ye(m[y],p[y]);if(T!==0)return T}return Ye(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,f){const m=Ye(Rt(c.latitude),Rt(f.latitude));return m!==0?m:Ye(Rt(c.longitude),Rt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Sv(r.arrayValue,e.arrayValue);case 10:return(function(c,f){const m=c.fields||{},p=f.fields||{},y=m[Ah]?.arrayValue,T=p[Ah]?.arrayValue,S=Ye(y?.values?.length||0,T?.values?.length||0);return S!==0?S:Sv(y,T)})(r.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Zu.mapValue&&f===Zu.mapValue)return 0;if(c===Zu.mapValue)return 1;if(f===Zu.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const w=Ym(p[S],T[S]);if(w!==0)return w;const L=Eo(m[p[S]],y[T[S]]);if(L!==0)return L}return Ye(p.length,T.length)})(r.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function Tv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ye(r,e);const n=Ss(r),s=Ss(e),o=Ye(n.seconds,s.seconds);return o!==0?o:Ye(n.nanos,s.nanos)}function Sv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Eo(n[o],s[o]);if(c)return c}return Ye(n.length,s.length)}function To(r){return Km(r)}function Km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Ss(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return As(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _e.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Km(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Km(n.fields[f])}`;return o+"}"})(r.mapValue):we(61005,{value:r})}function lh(r){switch(bs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(r);return e?16+lh(e):16;case 5:return 2*r.stringValue.length;case 6:return As(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+lh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ga(s.fields,((c,f)=>{o+=c.length+lh(f)})),o})(r.mapValue);default:throw we(13486,{value:r})}}function Av(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Qm(r){return!!r&&"integerValue"in r}function Ip(r){return!!r&&"arrayValue"in r}function bv(r){return!!r&&"nullValue"in r}function wv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ch(r){return!!r&&"mapValue"in r}function GR(r){return(r?.mapValue?.fields||{})[kE]?.stringValue===VE}function Bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ga(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Bl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(r.arrayValue.values[n]);return e}return{...r}}function YR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===FR}class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Zt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ga(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new Yn(Bl(this.value))}}function jE(r){const e=[];return ga(r.fields,((n,s)=>{const o=new Zt([n]);if(ch(s)){const c=jE(s.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new li(e)}class on{constructor(e,n,s,o,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new on(e,0,xe.min(),xe.min(),xe.min(),Yn.empty(),0)}static newFoundDocument(e,n,s,o){return new on(e,1,n,xe.min(),s,o,0)}static newNoDocument(e,n){return new on(e,2,n,xe.min(),xe.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,xe.min(),xe.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bh{constructor(e,n){this.position=e,this.inclusive=n}}function Rv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],f=r.position[o];if(c.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=Eo(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Cv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Yi(r.position[n],e.position[n]))return!1;return!0}class wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function KR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class PE{}class jt extends PE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new $R(e,n,s):n==="array-contains"?new JR(e,s):n==="in"?new ZR(e,s):n==="not-in"?new e3(e,s):n==="array-contains-any"?new t3(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new XR(e,s):new WR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends PE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new di(e,n)}matches(e){return LE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LE(r){return r.op==="and"}function UE(r){return QR(r)&&LE(r)}function QR(r){for(const e of r.filters)if(e instanceof di)return!1;return!0}function $m(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+To(r.value);if(UE(r))return r.filters.map((e=>$m(e))).join(",");{const e=r.filters.map((n=>$m(n))).join(",");return`${r.op}(${e})`}}function zE(r,e){return r instanceof jt?(function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&Yi(s.value,o.value)})(r,e):r instanceof di?(function(s,o){return o instanceof di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,f,m)=>c&&zE(f,o.filters[m])),!0):!1})(r,e):void we(19439)}function BE(r){return r instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`})(r):r instanceof di?(function(n){return n.op.toString()+" {"+n.getFilters().map(BE).join(" ,")+"}"})(r):"Filter"}class $R extends jt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class XR extends jt{constructor(e,n){super(e,"in",n),this.keys=HE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class WR extends jt{constructor(e,n){super(e,"not-in",n),this.keys=HE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function HE(r,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class JR extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ip(n)&&Zl(n.arrayValue,this.value)}}class ZR extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class e3 extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class t3 extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Zl(this.value.arrayValue,s)))}}class n3{constructor(e,n=null,s=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function Iv(r,e=null,n=[],s=[],o=null,c=null,f=null){return new n3(r,e,n,s,o,c,f)}function xp(r){const e=De(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>$m(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>To(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>To(s))).join(",")),e.Te=n}return e.Te}function Np(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!KR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!zE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Cv(r.startAt,e.startAt)&&Cv(r.endAt,e.endAt)}function Xm(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class hc{constructor(e,n=null,s=[],o=[],c=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function i3(r,e,n,s,o,c,f,m){return new hc(r,e,n,s,o,c,f,m)}function Dp(r){return new hc(r)}function xv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function r3(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function qE(r){return r.collectionGroup!==null}function Hl(r){const e=De(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new zt(Zt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new wh(c,s))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new wh(Zt.keyField(),s))}return e.Ie}function zi(r){const e=De(r);return e.Ee||(e.Ee=s3(e,Hl(r))),e.Ee}function s3(r,e){if(r.limitType==="F")return Iv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new wh(o.field,c)}));const n=r.endAt?new bh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new bh(r.startAt.position,r.startAt.inclusive):null;return Iv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Wm(r,e){const n=r.filters.concat([e]);return new hc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Jm(r,e,n){return new hc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function $h(r,e){return Np(zi(r),zi(e))&&r.limitType===e.limitType}function FE(r){return`${xp(zi(r))}|lt:${r.limitType}`}function lo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>BE(o))).join(", ")}]`),Kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>To(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>To(o))).join(",")),`Target(${s})`})(zi(r))}; limitType=${r.limitType})`}function Xh(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):_e.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of Hl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=Rv(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Hl(s),o)||s.endAt&&!(function(f,m,p){const y=Rv(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Hl(s),o))})(r,e)}function a3(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function GE(r){return(e,n)=>{let s=!1;for(const o of Hl(r)){const c=o3(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function o3(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):(function(c,f,m){const p=f.data.field(c),y=m.data.field(c);return p!==null&&y!==null?Eo(p,y):we(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:r.dir})}}class ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}const l3=new _t(_e.comparator);function Sr(){return l3}const YE=new _t(_e.comparator);function Pl(...r){let e=YE;for(const n of r)e=e.insert(n.key,n);return e}function KE(r){let e=YE;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ia(){return ql()}function QE(){return ql()}function ql(){return new ya((r=>r.toString()),((r,e)=>r.isEqual(e)))}const c3=new _t(_e.comparator),u3=new zt(_e.comparator);function Ke(...r){let e=u3;for(const n of r)e=e.add(n);return e}const h3=new zt(Ye);function f3(){return h3}function Op(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function $E(r){return{integerValue:""+r}}function d3(r,e){return LR(e)?$E(e):Op(r,e)}class Wh{constructor(){this._=void 0}}function m3(r,e,n){return r instanceof ec?(function(o,c){const f={fields:{[DE]:{stringValue:NE},[ME]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Cp(c)&&(c=Qh(c)),c&&(f.fields[OE]=c),{mapValue:f}})(n,e):r instanceof tc?WE(r,e):r instanceof nc?JE(r,e):(function(o,c){const f=XE(o,c),m=Nv(f)+Nv(o.Ae);return Qm(f)&&Qm(o.Ae)?$E(m):Op(o.serializer,m)})(r,e)}function p3(r,e,n){return r instanceof tc?WE(r,e):r instanceof nc?JE(r,e):n}function XE(r,e){return r instanceof Rh?(function(s){return Qm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class ec extends Wh{}class tc extends Wh{constructor(e){super(),this.elements=e}}function WE(r,e){const n=ZE(e);for(const s of r.elements)n.some((o=>Yi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class nc extends Wh{constructor(e){super(),this.elements=e}}function JE(r,e){let n=ZE(e);for(const s of r.elements)n=n.filter((o=>!Yi(o,s)));return{arrayValue:{values:n}}}class Rh extends Wh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Nv(r){return Rt(r.integerValue||r.doubleValue)}function ZE(r){return Ip(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class g3{constructor(e,n){this.field=e,this.transform=n}}function y3(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof tc&&o instanceof tc||s instanceof nc&&o instanceof nc?vo(s.elements,o.elements,Yi):s instanceof Rh&&o instanceof Rh?Yi(s.Ae,o.Ae):s instanceof ec&&o instanceof ec})(r.transform,e.transform)}class _3{constructor(e,n){this.version=e,this.transformResults=n}}class Bi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Jh{}function e2(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new n2(r.key,Bi.none()):new fc(r.key,r.data,Bi.none());{const n=r.data,s=Yn.empty();let o=new zt(Zt.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new _a(r.key,s,new li(o.toArray()),Bi.none())}}function v3(r,e,n){r instanceof fc?(function(o,c,f){const m=o.value.clone(),p=Ov(o.fieldTransforms,c,f.transformResults);m.setAll(p),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof _a?(function(o,c,f){if(!uh(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Ov(o.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(t2(o)),p.setAll(m),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Fl(r,e,n,s){return r instanceof fc?(function(c,f,m,p){if(!uh(c.precondition,f))return m;const y=c.value.clone(),T=Mv(c.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof _a?(function(c,f,m,p){if(!uh(c.precondition,f))return m;const y=Mv(c.fieldTransforms,p,f),T=f.data;return T.setAll(t2(c)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(c,f,m){return uh(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function E3(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=XE(s.transform,o||null);c!=null&&(n===null&&(n=Yn.empty()),n.set(s.field,c))}return n||null}function Dv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,((c,f)=>y3(c,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fc extends Jh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _a extends Jh{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function t2(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function Ov(r,e,n){const s=new Map;et(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const c=r[o],f=c.transform,m=e.data.field(c.field);s.set(c.field,p3(f,m,n[o]))}return s}function Mv(r,e,n){const s=new Map;for(const o of r){const c=o.transform,f=n.data.field(o.field);s.set(o.field,m3(c,f,e))}return s}class n2 extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T3 extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class S3{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&v3(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=QE();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(o.key)?null:m;const p=e2(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(xe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,((n,s)=>Dv(n,s)))&&vo(this.baseMutations,e.baseMutations,((n,s)=>Dv(n,s)))}}class Mp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){et(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return c3})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new Mp(e,n,s,o)}}class A3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class b3{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vt,$e;function w3(r){switch(r){case Z.OK:return we(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function i2(r){if(r===void 0)return Tr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Vt.OK:return Z.OK;case Vt.CANCELLED:return Z.CANCELLED;case Vt.UNKNOWN:return Z.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return Z.INTERNAL;case Vt.UNAVAILABLE:return Z.UNAVAILABLE;case Vt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Vt.NOT_FOUND:return Z.NOT_FOUND;case Vt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Vt.ABORTED:return Z.ABORTED;case Vt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Vt.DATA_LOSS:return Z.DATA_LOSS;default:return we(39323,{code:r})}}($e=Vt||(Vt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function R3(){return new TextEncoder}const C3=new ys([4294967295,4294967295],0);function kv(r){const e=R3().encode(r),n=new yE;return n.update(e),new Uint8Array(n.digest())}function Vv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ys([n,s],0),new ys([o,c],0)]}class kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ys.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ys.fromNumber(s)));return o.compare(C3)===1&&(o=new ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=kv(e),[s,o]=Vv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new kp(c,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=kv(e),[s,o]=Vv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zh{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zh(xe.min(),o,new _t(Ye),Sr(),Ke())}}class dc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new dc(s,n,Ke(),Ke(),Ke())}}class hh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class r2{constructor(e,n){this.targetId=e,this.Ce=n}}class s2{constructor(e,n,s=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class jv{constructor(){this.ve=0,this.Fe=Pv(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),s=Ke();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:c})}})),new dc(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=Pv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class I3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sr(),this.He=eh(),this.Je=eh(),this.Ze=new _t(Ye)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Xm(c))if(s===0){const f=new _e(c.path);this.et(n,f,on.newNoDocument(f,xe.min()))}else et(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let f,m;try{f=As(s).toUint8Array()}catch(p){if(p instanceof xE)return ca("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new kp(f,o,c)}catch(p){return ca(p instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const m=this.ot(f);if(m){if(c.current&&Xm(m.target)){const p=new _e(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,on.newNoDocument(p,e))}c.Be&&(n.set(f,c.ke()),c.Ke())}}));let s=Ke();this.Je.forEach(((c,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new Zh(e,n,this.Ze,this.je,s);return this.je=Sr(),this.He=eh(),this.Je=eh(),this.Ze=new _t(Ye),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new jv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new zt(Ye),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new zt(Ye),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function eh(){return new _t(_e.comparator)}function Pv(){return new _t(_e.comparator)}const x3={asc:"ASCENDING",desc:"DESCENDING"},N3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D3={and:"AND",or:"OR"};class O3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(r,e){return r.useProto3Json||Kh(e)?e:{value:e}}function Ch(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a2(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function M3(r,e){return Ch(r,e.toTimestamp())}function Hi(r){return et(!!r,49232),xe.fromTimestamp((function(n){const s=Ss(n);return new dt(s.seconds,s.nanos)})(r))}function Vp(r,e){return ep(r,e).canonicalString()}function ep(r,e){const n=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function o2(r){const e=ut.fromString(r);return et(f2(e),10190,{key:e.toString()}),e}function tp(r,e){return Vp(r.databaseId,e.path)}function Cm(r,e){const n=o2(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(c2(n))}function l2(r,e){return Vp(r.databaseId,e)}function k3(r){const e=o2(r);return e.length===4?ut.emptyPath():c2(e)}function np(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function c2(r){return et(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Lv(r,e,n){return{name:tp(r,e),fields:n.value.mapValue.fields}}function V3(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(et(T===void 0||typeof T=="string",58123),tn.fromBase64String(T||"")):(et(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),tn.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const T=y.code===void 0?Z.UNKNOWN:i2(y.code);return new ue(T,y.message||"")})(f);n=new s2(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Cm(r,s.document.name),c=Hi(s.document.updateTime),f=s.document.createTime?Hi(s.document.createTime):xe.min(),m=new Yn({mapValue:{fields:s.document.fields}}),p=on.newFoundDocument(o,c,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];n=new hh(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Cm(r,s.document),c=s.readTime?Hi(s.readTime):xe.min(),f=on.newNoDocument(o,c),m=s.removedTargetIds||[];n=new hh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Cm(r,s.document),c=s.removedTargetIds||[];n=new hh([],c,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new b3(o,c),m=s.targetId;n=new r2(m,f)}}return n}function j3(r,e){let n;if(e instanceof fc)n={update:Lv(r,e.key,e.value)};else if(e instanceof n2)n={delete:tp(r,e.key)};else if(e instanceof _a)n={update:Lv(r,e.key,e.data),updateMask:G3(e.fieldMask)};else{if(!(e instanceof T3))return we(16599,{dt:e.type});n={verify:tp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,f){const m=f.transform;if(m instanceof ec)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof tc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof nc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw we(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:M3(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we(27497)})(r,e.precondition)),n}function P3(r,e){return r&&r.length>0?(et(e!==void 0,14353),r.map((n=>(function(o,c){let f=o.updateTime?Hi(o.updateTime):Hi(c);return f.isEqual(xe.min())&&(f=Hi(c)),new _3(f,o.transformResults||[])})(n,e)))):[]}function L3(r,e){return{documents:[l2(r,e.path)]}}function U3(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=l2(r,o);const c=(function(y){if(y.length!==0)return h2(di.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((T=>(function(w){return{field:co(w.field),direction:H3(w.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Zm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function z3(r){let e=k3(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){et(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(S){const w=u2(S);return w instanceof di&&UE(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((w=>(function(z){return new wh(uo(z.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let w;return w=typeof S=="object"?S.value:S,Kh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(S){const w=!!S.before,L=S.values||[];return new bh(L,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const w=!S.before,L=S.values||[];return new bh(L,w)})(n.endAt)),i3(e,o,f,c,m,"F",p,y)}function B3(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function u2(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=uo(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=uo(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=uo(n.unaryFilter.field);return jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=uo(n.unaryFilter.field);return jt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(r):r.fieldFilter!==void 0?(function(n){return jt.create(uo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return di.create(n.compositeFilter.filters.map((s=>u2(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(r):we(30097,{filter:r})}function H3(r){return x3[r]}function q3(r){return N3[r]}function F3(r){return D3[r]}function co(r){return{fieldPath:r.canonicalString()}}function uo(r){return Zt.fromServerFormat(r.fieldPath)}function h2(r){return r instanceof jt?(function(n){if(n.op==="=="){if(wv(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(bv(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wv(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(bv(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:q3(n.op),value:n.value}}})(r):r instanceof di?(function(n){const s=n.getFilters().map((o=>h2(o)));return s.length===1?s[0]:{compositeFilter:{op:F3(n.op),filters:s}}})(r):we(54877,{filter:r})}function G3(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function f2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function d2(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ms{constructor(e,n,s,o,c=xe.min(),f=xe.min(),m=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Y3{constructor(e){this.yt=e}}function K3(r){const e=z3({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Jm(e,e.limit,"L"):e}class Q3{constructor(){this.Sn=new $3}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Ts.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class $3{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new zt(ut.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new zt(ut.comparator)).toArray()}}const Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m2=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(m2,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class So{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new So(0)}static ar(){return new So(-1)}}const zv="LruGarbageCollector",X3=1048576;function Bv([r,e],[n,s]){const o=Ye(r,n);return o===0?Ye(e,s):o}class W3{constructor(e){this.Pr=e,this.buffer=new zt(Bv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Bv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class J3{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(zv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?he(zv,"Ignoring IndexedDB error during garbage collection: ",n):await Ro(n)}await this.Ar(3e5)}))}}class Z3{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Yh.ce);const s=new W3(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Uv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,c,f,m,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),oo()<=Ge.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function e6(r,e){return new Z3(r,e)}class t6{constructor(){this.changes=new ya((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class n6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class i6{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Fl(s.mutation,o,li.empty(),dt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ke()){const o=ia();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let f=Pl();return c.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=ia();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let c=Sr();const f=ql(),m=(function(){return ql()})();return n.forEach(((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof _a)?c=c.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Fl(T.mutation,y,T.mutation.getFieldMask(),dt.now())):f.set(y.key,li.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((y,T)=>f.set(y,T))),n.forEach(((y,T)=>m.set(y,new n6(T,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=ql();let o=new _t(((f,m)=>f-m)),c=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||li.empty();T=m.applyToLocalView(y,T),s.set(p,T);const S=(o.get(m.batchId)||Ke()).add(p);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,S=QE();T.forEach((w=>{if(!c.has(w)){const L=e2(n.get(w),s.get(w));L!==null&&S.set(w,L),c=c.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return r3(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):te.resolve(ia());let m=Xl,p=c;return f.next((y=>te.forEach(y,((T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(T)?te.resolve():this.remoteDocumentCache.getEntry(e,T).next((w=>{p=p.insert(T,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,p,y,Ke()))).next((T=>({batchId:m,changes:KE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=Pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let f=Pl();return this.indexManager.getCollectionParents(e,c).next((m=>te.forEach(m,(p=>{const y=(function(S,w){return new hc(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((T=>{T.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((f=>{c.forEach(((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,on.newInvalidDocument(T)))}));let m=Pl();return f.forEach(((p,y)=>{const T=c.get(p);T!==void 0&&Fl(T.mutation,y,li.empty(),dt.now()),Xh(n,y)&&(m=m.insert(p,y))})),m}))}}class r6{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Hi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:K3(o.bundledQuery),readTime:Hi(o.readTime)}})(n)),te.resolve()}}class s6{constructor(){this.overlays=new _t(_e.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ia();return te.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.bt(e,n,c)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=ia(),c=n.length+1,f=new _e(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new _t(((y,T)=>y-T));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=ia(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=ia(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,T)=>m.set(y,T))),!(m.size()>=o)););return te.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new A3(n,s));let c=this.Lr.get(n);c===void 0&&(c=Ke(),this.Lr.set(n,c)),this.Lr.set(n,c.add(s.key))}}class a6{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class jp{constructor(){this.kr=new zt(Gt.Kr),this.qr=new zt(Gt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Gt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Gt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new _e(new ut([])),s=new Gt(n,e),o=new Gt(n,e+1),c=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),c.push(f.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new _e(new ut([])),s=new Gt(n,e),o=new Gt(n,e+1);let c=Ke();return this.qr.forEachInRange([s,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new Gt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return _e.comparator(e.key,n.key)||Ye(e.Hr,n.Hr)}static Ur(e,n){return Ye(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}class o6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new zt(Gt.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new S3(c,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Gt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Rp:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Gt(n,0),o=new Gt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);c.push(m)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new zt(Ye);return n.forEach((o=>{const c=new Gt(o,0),f=new Gt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,f],(m=>{s=s.add(m.Hr)}))})),te.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;_e.isDocumentKey(c)||(c=c.child(""));const f=new Gt(new _e(c),0);let m=new zt(Ye);return this.Jr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)}),f),te.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){et(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return te.forEach(n.mutations,(o=>{const c=new Gt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Gt(n,0),o=this.Jr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class l6{constructor(e){this.ti=e,this.docs=(function(){return new _t(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let s=Sr();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():on.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=Sr();const f=n.path,m=new _e(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||kR(MR(T),s)<=0||(o.has(T.key)||Xh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,s,o){we(9500)}ni(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new c6(this)}getSize(e){return te.resolve(this.size)}}class c6 extends t6{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class u6{constructor(e){this.persistence=e,this.ri=new ya((n=>xp(n)),Np),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.ii=0,this.si=new jp,this.targetCount=0,this.oi=So._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new So(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}class p2{constructor(e,n){this._i={},this.overlays={},this.ai=new Yh(0),this.ui=!1,this.ui=!0,this.ci=new a6,this.referenceDelegate=e(this),this.li=new u6(this),this.indexManager=new Q3,this.remoteDocumentCache=(function(o){return new l6(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Y3(n),this.Pi=new r6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new s6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new o6(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new h6(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return te.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class h6 extends jR{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Ri=new jp,this.Ai=null}static Vi(e){return new Pp(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(s=>{const o=_e.fromPath(s);return this.mi(e,o).next((c=>{c||n.removeEntry(o,xe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.fi=new ya((s=>UR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=e6(this,n)}static Vi(e,n){return new Ih(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,c.removeEntry(f,xe.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lh(e.data.value)),n}wr(e,n,s){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Lp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Ke(),o=Ke();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Lp(e,n.fromCache,s,o)}}class f6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class d6{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return e4()?8:PR(ln())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.gs(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ps(e,n,o,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new f6;return this.ys(e,n,f).next((m=>{if(c.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>c.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(oo()<=Ge.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(oo()<=Ge.DEBUG&&he("QueryEngine","Query:",lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(oo()<=Ge.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):te.resolve())}gs(e,n){if(xv(n))return te.resolve(null);let s=zi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Jm(n,null,"F"),s=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const f=Ke(...c);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.bs(n,m);return this.Ss(n,y,f,p.readTime)?this.gs(e,Jm(n,null,"F")):this.Ds(e,y,n,p)}))))})))))}ps(e,n,s,o){return xv(n)||o.isEqual(xe.min())?te.resolve(null):this.fs.getDocuments(e,s).next((c=>{const f=this.bs(n,c);return this.Ss(n,f,s,o)?te.resolve(null):(oo()<=Ge.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.Ds(e,f,n,OR(o,Xl)).next((m=>m)))}))}bs(e,n){let s=new zt(GE(e));return n.forEach(((o,c)=>{Xh(e,c)&&(s=s.add(c))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,s){return oo()<=Ge.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",lo(n)),this.fs.getDocumentsMatchingQuery(e,n,Ts.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const Up="LocalStore",m6=3e8;class p6{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new _t(Ye),this.Fs=new ya((c=>xp(c)),Np),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new i6(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function g6(r,e,n,s){return new p6(r,e,n,s)}async function g2(r,e){const n=De(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],m=[];let p=Ke();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of c){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function y6(r,e){const n=De(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,T){const S=y.batch,w=S.keys();let L=te.resolve();return w.forEach((z=>{L=L.next((()=>T.getEntry(p,z))).next((K=>{const U=y.docVersions.get(z);et(U!==null,48541),K.version.compareTo(U)<0&&(S.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),T.addEntry(K)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ke();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function y2(r){const e=De(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function _6(r,e){const n=De(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((T,S)=>{const w=o.get(S);if(!w)return;m.push(n.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>n.li.addMatchingKeys(c,T.addedDocuments,S))));let L=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(tn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):T.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(T.resumeToken,s)),o=o.insert(S,L),(function(K,U,ee){return K.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=m6?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(w,L,T)&&m.push(n.li.updateTargetData(c,L))}));let p=Sr(),y=Ke();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),m.push(v6(c,f,e.documentUpdates).next((T=>{p=T.Bs,y=T.Ls}))),!s.isEqual(xe.min())){const T=n.li.getLastRemoteSnapshotVersion(c).next((S=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(T)}return te.waitFor(m).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(n.vs=o,c)))}function v6(r,e,n){let s=Ke(),o=Ke();return n.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let f=Sr();return n.forEach(((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(xe.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he(Up,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Bs:f,Ls:o}}))}function E6(r,e){const n=De(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Rp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function T6(r,e){const n=De(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((c=>c?(o=c,te.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new ms(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function ip(r,e,n){const s=De(r),o=s.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Co(f))throw f;he(Up,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function Hv(r,e,n){const s=De(r);let o=xe.min(),c=Ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,T){const S=De(p),w=S.Fs.get(T);return w!==void 0?te.resolve(S.vs.get(w)):S.li.getTargetData(y,T)})(s,f,zi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((p=>{c=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:xe.min(),n?c:Ke()))).next((m=>(S6(s,a3(e),m),{documents:m,ks:c})))))}function S6(r,e,n){let s=r.Ms.get(e)||xe.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class qv{constructor(){this.activeTargetIds=f3()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A6{constructor(){this.vo=new qv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new qv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class b6{Mo(e){}shutdown(){}}const Fv="ConnectivityMonitor";class Gv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(Fv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(Fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let th=null;function rp(){return th===null?th=(function(){return 268435456+Math.round(2147483648*Math.random())})():th++,"0x"+th.toString(16)}const Im="RestConnection",w6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class R6{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,c){const f=rp(),m=this.Qo(e,n.toUriEncodedString());he(Im,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,c);const{host:y}=new URL(m),T=ma(y);return this.zo(e,m,p,s,T).then((S=>(he(Im,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw ca(Im,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}jo(e,n,s,o,c,f){return this.Wo(e,n,s,o,c)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const s=w6[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class C6{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const sn="WebChannelConnection",Ml=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class fo extends R6{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!fo.c_){const e=TE();Ml(e,EE.STAT_EVENT,(n=>{n.stat===Gm.PROXY?he(sn,"STAT_EVENT: detected buffering proxy"):n.stat===Gm.NOPROXY&&he(sn,"STAT_EVENT: detected no buffering proxy")})),fo.c_=!0}}zo(e,n,s,o,c){const f=rp();return new Promise(((m,p)=>{const y=new _E;y.setWithCredentials(!0),y.listenOnce(vE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case oh.NO_ERROR:const S=y.getResponseJson();he(sn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case oh.TIMEOUT:he(sn,`RPC '${e}' ${f} timed out`),p(new ue(Z.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const w=y.getStatus();if(he(sn,`RPC '${e}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const z=L?.error;if(z&&z.status&&z.message){const K=(function(ee){const ie=ee.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ie)>=0?ie:Z.UNKNOWN})(z.status);p(new ue(K,z.message))}else p(new ue(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ue(Z.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(sn,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);he(sn,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=rp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=c.join("");he(sn,`Creating RPC '${e}' stream ${o}: ${y}`,m);const T=f.createWebChannel(y,m);this.I_(T);let S=!1,w=!1;const L=new C6({Ho:z=>{w?he(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(S||(he(sn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),he(sn,`RPC '${e}' stream ${o} sending:`,z),T.send(z))},Jo:()=>T.close()});return Ml(T,jl.EventType.OPEN,(()=>{w||(he(sn,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),Ml(T,jl.EventType.CLOSE,(()=>{w||(w=!0,he(sn,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(T))})),Ml(T,jl.EventType.ERROR,(z=>{w||(w=!0,ca(sn,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),L.o_(new ue(Z.UNAVAILABLE,"The operation could not be completed")))})),Ml(T,jl.EventType.MESSAGE,(z=>{if(!w){const K=z.data[0];et(!!K,16349);const U=K,ee=U?.error||U[0]?.error;if(ee){he(sn,`RPC '${e}' stream ${o} received error:`,ee);const ie=ee.status;let ne=(function(ve){const I=Vt[ve];if(I!==void 0)return i2(I)})(ie),oe=ee.message;ie==="NOT_FOUND"&&oe.includes("database")&&oe.includes("does not exist")&&oe.includes(this.databaseId.database)&&ca(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ne===void 0&&(ne=Z.INTERNAL,oe="Unknown error status: "+ie+" with message "+ee.message),w=!0,L.o_(new ue(ne,oe)),T.close()}else he(sn,`RPC '${e}' stream ${o} received:`,K),L.__(K)}})),fo.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return SE()}}function I6(r){return new fo(r)}function xm(){return typeof document<"u"?document:null}function ef(r){return new O3(r,!0)}fo.c_=!1;class _2{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Yv="PersistentStream";class v2{constructor(e,n,s,o,c,f,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(Yv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(he(Yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class x6 extends v2{constructor(e,n,s,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=V3(this.serializer,e),s=(function(c){if(!("targetChange"in c))return xe.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?xe.min():f.readTime?Hi(f.readTime):xe.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=np(this.serializer),n.addTarget=(function(c,f){let m;const p=f.target;if(m=Xm(p)?{documents:L3(c,p)}:{query:U3(c,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=a2(c,f.resumeToken);const y=Zm(c,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(xe.min())>0){m.readTime=Ch(c,f.snapshotVersion.toTimestamp());const y=Zm(c,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=B3(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=np(this.serializer),n.removeTarget=e,this.K_(n)}}class N6 extends v2{constructor(e,n,s,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=P3(e.writeResults,e.commitTime),s=Hi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=np(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>j3(this.serializer,s)))};this.K_(n)}}class D6{}class O6 extends D6{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Wo(e,ep(n,s),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(Z.UNKNOWN,c.toString())}))}jo(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,ep(n,s),o,f,m,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function M6(r,e,n,s){return new O6(r,e,n,s)}class k6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class V6{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{va(this)&&(he(ua,"Restarting streams for network reachability change."),await(async function(p){const y=De(p);y.Ea.add(4),await mc(y),y.Va.set("Unknown"),y.Ea.delete(4),await tf(y)})(this))}))})),this.Va=new k6(s,o)}}async function tf(r){if(va(r))for(const e of r.Ra)await e(!0)}async function mc(r){for(const e of r.Ra)await e(!1)}function E2(r,e){const n=De(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qp(n)?Hp(n):Io(n).O_()&&Bp(n,e))}function zp(r,e){const n=De(r),s=Io(n);n.Ia.delete(e),s.O_()&&T2(n,e),n.Ia.size===0&&(s.O_()?s.L_():va(n)&&n.Va.set("Unknown"))}function Bp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(r).Z_(e)}function T2(r,e){r.da.$e(e),Io(r).X_(e)}function Hp(r){r.da=new I3({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Io(r).start(),r.Va.ua()}function qp(r){return va(r)&&!Io(r).x_()&&r.Ia.size>0}function va(r){return De(r).Ea.size===0}function S2(r){r.da=void 0}async function j6(r){r.Va.set("Online")}async function P6(r){r.Ia.forEach(((e,n)=>{Bp(r,e)}))}async function L6(r,e){S2(r),qp(r)?(r.Va.ha(e),Hp(r)):r.Va.set("Unknown")}async function U6(r,e,n){if(r.Va.set("Online"),e instanceof s2&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){he(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await xh(r,s)}else if(e instanceof hh?r.da.Xe(e):e instanceof r2?r.da.st(e):r.da.tt(e),!n.isEqual(xe.min()))try{const s=await y2(r.localStore);n.compareTo(s)>=0&&await(function(c,f){const m=c.da.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const T=c.Ia.get(p);if(!T)return;c.Ia.set(p,T.withResumeToken(tn.EMPTY_BYTE_STRING,T.snapshotVersion)),T2(c,p);const S=new ms(T.target,p,y,T.sequenceNumber);Bp(c,S)})),c.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){he(ua,"Failed to raise snapshot:",s),await xh(r,s)}}async function xh(r,e,n){if(!Co(e))throw e;r.Ea.add(1),await mc(r),r.Va.set("Offline"),n||(n=()=>y2(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(ua,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await tf(r)}))}function A2(r,e){return e().catch((n=>xh(r,n,e)))}async function nf(r){const e=De(r),n=ws(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rp;for(;z6(e);)try{const o=await E6(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,B6(e,o)}catch(o){await xh(e,o)}b2(e)&&w2(e)}function z6(r){return va(r)&&r.Ta.length<10}function B6(r,e){r.Ta.push(e);const n=ws(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function b2(r){return va(r)&&!ws(r).x_()&&r.Ta.length>0}function w2(r){ws(r).start()}async function H6(r){ws(r).ra()}async function q6(r){const e=ws(r);for(const n of r.Ta)e.ea(n.mutations)}async function F6(r,e,n){const s=r.Ta.shift(),o=Mp.from(s,e,n);await A2(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await nf(r)}async function G6(r,e){e&&ws(r).Y_&&await(async function(s,o){if((function(f){return w3(f)&&f!==Z.ABORTED})(o.code)){const c=s.Ta.shift();ws(s).B_(),await A2(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await nf(s)}})(r,e),b2(r)&&w2(r)}async function Kv(r,e){const n=De(r);n.asyncQueue.verifyOperationInProgress(),he(ua,"RemoteStore received new credentials");const s=va(n);n.Ea.add(3),await mc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await tf(n)}async function Y6(r,e){const n=De(r);e?(n.Ea.delete(2),await tf(n)):e||(n.Ea.add(2),await mc(n),n.Va.set("Unknown"))}function Io(r){return r.ma||(r.ma=(function(n,s,o){const c=De(n);return c.sa(),new x6(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:j6.bind(null,r),Yo:P6.bind(null,r),t_:L6.bind(null,r),J_:U6.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),qp(r)?Hp(r):r.Va.set("Unknown")):(await r.ma.stop(),S2(r))}))),r.ma}function ws(r){return r.fa||(r.fa=(function(n,s,o){const c=De(n);return c.sa(),new N6(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:H6.bind(null,r),t_:G6.bind(null,r),ta:q6.bind(null,r),na:F6.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await nf(r)):(await r.fa.stop(),r.Ta.length>0&&(he(ua,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Fp{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const f=Date.now()+s,m=new Fp(e,n,f,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(r,e){if(Tr("AsyncQueue",`${e}: ${r}`),Co(r))return new ue(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Pl(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Qv{constructor(){this.ga=new _t(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ao{constructor(e,n,s,o,c,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Ao(e,n,mo.emptySet(n),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class K6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Q6{constructor(){this.queries=$v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=De(n),c=o.queries;o.queries=$v(),c.forEach(((f,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new ue(Z.ABORTED,"Firestore shutting down"))}}function $v(){return new ya((r=>FE(r)),$h)}async function R2(r,e){const n=De(r);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new K6,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Gp(f,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Yp(n)}async function C2(r,e){const n=De(r),s=e.query;let o=3;const c=n.queries.get(s);if(c){const f=c.ba.indexOf(e);f>=0&&(c.ba.splice(f,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function $6(r,e){const n=De(r);let s=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&Yp(n)}function X6(r,e,n){const s=De(r),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(n);s.queries.delete(e)}function Yp(r){r.Ca.forEach((e=>{e.next()}))}var sp,Xv;(Xv=sp||(sp={})).Ma="default",Xv.Cache="cache";class I2{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sp.Cache}}class x2{constructor(e){this.key=e}}class N2{constructor(e){this.key=e}}class W6{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ke(),this.mutatedKeys=Ke(),this.eu=GE(e),this.tu=new mo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new Qv,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const w=o.get(T),L=Xh(this.query,S)?S:null,z=!!w&&this.mutatedKeys.has(w.key),K=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let U=!1;w&&L?w.data.isEqual(L.data)?z!==K&&(s.track({type:3,doc:L}),U=!0):this.su(w,L)||(s.track({type:2,doc:L}),U=!0,(p&&this.eu(L,p)>0||y&&this.eu(L,y)<0)&&(m=!0)):!w&&L?(s.track({type:0,doc:L}),U=!0):w&&!L&&(s.track({type:1,doc:w}),U=!0,(p||y)&&(m=!0)),U&&(L?(f=f.add(L),c=K?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,S)=>(function(L,z){const K=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:U})}};return K(L)-K(z)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Xa;return this.Xa=p,f.length!==0||y?{snapshot:new Ao(this.query,e.tu,c,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Qv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new N2(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new x2(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Kp="SyncEngine";class J6{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Z6{constructor(e){this.key=e,this.hu=!1}}class eC{constructor(e,n,s,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ya((m=>FE(m)),$h),this.Iu=new Map,this.Eu=new Set,this.Ru=new _t(_e.comparator),this.Au=new Map,this.Vu=new jp,this.du={},this.mu=new Map,this.fu=So.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tC(r,e,n=!0){const s=j2(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await D2(s,e,n,!0),o}async function nC(r,e){const n=j2(r);await D2(n,e,!0,!1)}async function D2(r,e,n,s){const o=await T6(r.localStore,zi(e)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await iC(r,e,c,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&E2(r.remoteStore,o),m}async function iC(r,e,n,s,o){r.pu=(S,w,L)=>(async function(K,U,ee,ie){let ne=U.view.ru(ee);ne.Ss&&(ne=await Hv(K.localStore,U.query,!1).then((({documents:I})=>U.view.ru(I,ne))));const oe=ie&&ie.targetChanges.get(U.targetId),ce=ie&&ie.targetMismatches.get(U.targetId)!=null,ve=U.view.applyChanges(ne,K.isPrimaryClient,oe,ce);return Jv(K,U.targetId,ve.au),ve.snapshot})(r,S,w,L);const c=await Hv(r.localStore,e,!0),f=new W6(e,c.ks),m=f.ru(c.documents),p=dc.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);Jv(r,n,y.au);const T=new J6(e,n,f);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function rC(r,e,n){const s=De(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((f=>!$h(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ip(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&zp(s.remoteStore,o.targetId),ap(s,o.targetId)})).catch(Ro)):(ap(s,o.targetId),await ip(s.localStore,o.targetId,!0))}async function sC(r,e){const n=De(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),zp(n.remoteStore,s.targetId))}async function aC(r,e,n){const s=dC(r);try{const o=await(function(f,m){const p=De(f),y=dt.now(),T=m.reduce(((L,z)=>L.add(z.key)),Ke());let S,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let z=Sr(),K=Ke();return p.xs.getEntries(L,T).next((U=>{z=U,z.forEach(((ee,ie)=>{ie.isValidDocument()||(K=K.add(ee))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,z))).next((U=>{S=U;const ee=[];for(const ie of m){const ne=E3(ie,S.get(ie.key).overlayedDocument);ne!=null&&ee.push(new _a(ie.key,ne,jE(ne.value.mapValue),Bi.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,ee,m)})).next((U=>{w=U;const ee=U.applyToLocalDocumentSet(S,K);return p.documentOverlayCache.saveOverlays(L,U.batchId,ee)}))})).then((()=>({batchId:w.batchId,changes:KE(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.du[f.currentUser.toKey()];y||(y=new _t(Ye)),y=y.insert(m,p),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await pc(s,o.changes),await nf(s.remoteStore)}catch(o){const c=Gp(o,"Failed to persist write");n.reject(c)}}async function O2(r,e){const n=De(r);try{const s=await _6(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?et(f.hu,14607):o.removedDocuments.size>0&&(et(f.hu,42227),f.hu=!1))})),await pc(n,s,e)}catch(s){await Ro(s)}}function Wv(r,e,n){const s=De(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=De(f);p.onlineState=m;let y=!1;p.queries.forEach(((T,S)=>{for(const w of S.ba)w.va(m)&&(y=!0)})),y&&Yp(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function oC(r,e,n){const s=De(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let f=new _t(_e.comparator);f=f.insert(c,on.newNoDocument(c,xe.min()));const m=Ke().add(c),p=new Zh(xe.min(),new Map,new _t(Ye),f,m);await O2(s,p),s.Ru=s.Ru.remove(c),s.Au.delete(e),Qp(s)}else await ip(s.localStore,e,!1).then((()=>ap(s,e,n))).catch(Ro)}async function lC(r,e){const n=De(r),s=e.batch.batchId;try{const o=await y6(n.localStore,e);k2(n,s,null),M2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pc(n,o)}catch(o){await Ro(o)}}async function cC(r,e,n){const s=De(r);try{const o=await(function(f,m){const p=De(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next((S=>(et(S!==null,37113),T=S.keys(),p.mutationQueue.removeMutationBatch(y,S)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>p.localDocuments.getDocuments(y,T)))}))})(s.localStore,e);k2(s,e,n),M2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await pc(s,o)}catch(o){await Ro(o)}}function M2(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function k2(r,e,n){const s=De(r);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function ap(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||V2(r,s)}))}function V2(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(zp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Qp(r))}function Jv(r,e,n){for(const s of n)s instanceof x2?(r.Vu.addReference(s.key,e),uC(r,s)):s instanceof N2?(he(Kp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||V2(r,s.key)):we(19791,{wu:s})}function uC(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(he(Kp,"New document in limbo: "+n),r.Eu.add(s),Qp(r))}function Qp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new _e(ut.fromString(e)),s=r.fu.next();r.Au.set(s,new Z6(n)),r.Ru=r.Ru.insert(n,s),E2(r.remoteStore,new ms(zi(Dp(n.path)),s,"TargetPurposeLimboResolution",Yh.ce))}}async function pc(r,e,n){const s=De(r),o=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Lp.Es(p.targetId,y);c.push(T)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(p,y){const T=De(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>te.forEach(y,(w=>te.forEach(w.Ts,(L=>T.persistence.referenceDelegate.addReference(S,w.targetId,L))).next((()=>te.forEach(w.Is,(L=>T.persistence.referenceDelegate.removeReference(S,w.targetId,L)))))))))}catch(S){if(!Co(S))throw S;he(Up,"Failed to update sequence numbers: "+S)}for(const S of y){const w=S.targetId;if(!S.fromCache){const L=T.vs.get(w),z=L.snapshotVersion,K=L.withLastLimboFreeSnapshotVersion(z);T.vs=T.vs.insert(w,K)}}})(s.localStore,c))}async function hC(r,e){const n=De(r);if(!n.currentUser.isEqual(e)){he(Kp,"User change. New user:",e.toKey());const s=await g2(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new ue(Z.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pc(n,s.Ns)}}function fC(r,e){const n=De(r),s=n.Au.get(e);if(s&&s.hu)return Ke().add(s.key);{let o=Ke();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function j2(r){const e=De(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=O2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oC.bind(null,e),e.Pu.J_=$6.bind(null,e.eventManager),e.Pu.yu=X6.bind(null,e.eventManager),e}function dC(r){const e=De(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cC.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return g6(this.persistence,new d6,e.initialUser,this.serializer)}Cu(e){return new p2(Pp.Vi,this.serializer)}Du(e){return new A6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class mC extends Nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){et(this.persistence.referenceDelegate instanceof Ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new J3(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new p2((s=>Ih.Vi(s,n)),this.serializer)}}class op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Wv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hC.bind(null,this.syncEngine),await Y6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Q6})()}createDatastore(e){const n=ef(e.databaseInfo.databaseId),s=I6(e.databaseInfo);return M6(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,f,m){return new V6(s,o,c,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Wv(this.syncEngine,n,0)),(function(){return Gv.v()?new Gv:new b6})())}createSyncEngine(e,n){return(function(o,c,f,m,p,y,T){const S=new eC(o,c,f,m,p,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=De(n);he(ua,"RemoteStore shutting down."),s.Ea.add(5),await mc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}op.provider={build:()=>new op};class P2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Rs="FirestoreClient";class pC{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{he(Rs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(he(Rs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Gp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Nm(r,e){r.asyncQueue.verifyOperationInProgress(),he(Rs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await g2(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Zv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await gC(r);he(Rs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>Kv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Kv(e.remoteStore,o))),r._onlineComponents=e}async function gC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Rs,"Using user provided OfflineComponentProvider");try{await Nm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ca("Error using user provided cache. Falling back to memory cache: "+n),await Nm(r,new Nh)}}else he(Rs,"Using default OfflineComponentProvider"),await Nm(r,new mC(void 0));return r._offlineComponents}async function L2(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Rs,"Using user provided OnlineComponentProvider"),await Zv(r,r._uninitializedComponentsProvider._online)):(he(Rs,"Using default OnlineComponentProvider"),await Zv(r,new op))),r._onlineComponents}function yC(r){return L2(r).then((e=>e.syncEngine))}async function U2(r){const e=await L2(r),n=e.eventManager;return n.onListen=tC.bind(null,e.syncEngine),n.onUnlisten=rC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sC.bind(null,e.syncEngine),n}function _C(r,e,n={}){const s=new yr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,p,y){const T=new P2({next:w=>{T.Nu(),f.enqueueAndForget((()=>C2(c,S)));const L=w.docs.has(m);!L&&w.fromCache?y.reject(new ue(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&w.fromCache&&p&&p.source==="server"?y.reject(new ue(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new I2(Dp(m.path),T,{includeMetadataChanges:!0,Ka:!0});return R2(c,S)})(await U2(r),r.asyncQueue,e,n,s))),s.promise}function vC(r,e,n={}){const s=new yr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,p,y){const T=new P2({next:w=>{T.Nu(),f.enqueueAndForget((()=>C2(c,S))),w.fromCache&&p.source==="server"?y.reject(new ue(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new I2(m,T,{includeMetadataChanges:!0,Ka:!0});return R2(c,S)})(await U2(r),r.asyncQueue,e,n,s))),s.promise}function EC(r,e){const n=new yr;return r.asyncQueue.enqueueAndForget((async()=>aC(await yC(r),e,n))),n.promise}function z2(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const TC="ComponentProvider",e0=new Map;function SC(r,e,n,s,o){return new HR(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,z2(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const B2="firestore.googleapis.com",t0=!0;class n0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B2,this.ssl=t0}else this.host=e.host,this.ssl=e.ssl??t0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<X3)throw new ue(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new TR;switch(s.type){case"firstParty":return new wR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=e0.get(n);s&&(he(TC,"Removing Datastore"),e0.delete(n),s.terminate())})(this),Promise.resolve()}}function AC(r,e,n,s={}){r=Es(r,rf);const o=ma(e),c=r._getSettings(),f={...c,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(vp(`https://${m}`),Ep("Firestore",!0)),c.host!==B2&&c.host!==m&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:o,emulatorOptions:s};if(!aa(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=an.MOCK_USER;else{y=hE(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ue(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new an(S)}r._authCredentials=new SR(new bE(y,T))}}class xo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xo(this.firestore,e,this._query)}}class Lt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(uc(n,Lt._jsonSchema))return new Lt(e,s||null,new _e(ut.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Pt("string",Lt._jsonSchemaVersion),referencePath:Pt("string")};class _s extends xo{constructor(e,n,s){super(e,n,Dp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new _e(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function Gl(r,e,...n){if(r=en(r),wE("collection","path",e),r instanceof rf){const s=ut.fromString(e,...n);return pv(s),new _s(r,null,s)}{if(!(r instanceof Lt||r instanceof _s))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...n));return pv(s),new _s(r.firestore,null,s)}}function $p(r,e,...n){if(r=en(r),arguments.length===1&&(e=wp.newId()),wE("doc","path",e),r instanceof rf){const s=ut.fromString(e,...n);return mv(s),new Lt(r,null,new _e(s))}{if(!(r instanceof Lt||r instanceof _s))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...n));return mv(s),new Lt(r.firestore,r instanceof _s?r.converter:null,new _e(s))}}const i0="AsyncQueue";class r0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _2(this,"async_queue_retry"),this._c=()=>{const s=xm();s&&he(i0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Co(e))throw e;he(i0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",s0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Fp.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:s0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function s0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class gc extends rf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new r0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r0(e),this._firestoreClient=void 0,await e}}}function bC(r,e){const n=typeof r=="object"?r:Ap(),s=typeof r=="string"?r:Sh,o=Fh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=lE("firestore");c&&AC(o,...c)}return o}function Xp(r){if(r._terminated)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wC(r),r._firestoreClient}function wC(r){const e=r._freezeSettings(),n=SC(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new pC(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(tn.fromBase64String(e))}catch(n){throw new ue(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uc(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Pt("string",Kn._jsonSchemaVersion),bytes:Pt("string")};class H2{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wp{constructor(e){this._methodName=e}}class qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(uc(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Pt("string",qi._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class hi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uc(e,hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new hi(e.vectorValues);throw new ue(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:Pt("string",hi._jsonSchemaVersion),vectorValues:Pt("object")};const RC=/^__.*__$/;class CC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,n,this.fieldTransforms):new fc(e,this.data,n,this.fieldTransforms)}}function q2(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:r})}}class Jp{constructor(e,n,s,o,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Jp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Dh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(q2(this.dataSource)&&RC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class IC{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ef(e)}createContext(e,n,s,o=!1){return new Jp({dataSource:e,methodName:n,targetDoc:s,path:Zt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zp(r){const e=r._freezeSettings(),n=ef(r._databaseId);return new IC(r._databaseId,!!e.ignoreUndefinedProperties,n)}function F2(r,e,n,s,o,c={}){const f=r.createContext(c.merge||c.mergeFields?2:0,e,n,o);K2("Data must be an object, but it was:",f,s);const m=G2(s,f);let p,y;if(c.merge)p=new li(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const w=sf(e,S,n);if(!f.contains(w))throw new ue(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);OC(T,w)||T.push(w)}p=new li(T),y=f.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,y=f.fieldTransforms;return new CC(new Yn(m),p,y)}class eg extends Wp{_toFieldTransform(e){return new g3(e.path,new ec)}isEqual(e){return e instanceof eg}}function xC(r,e,n,s=!1){return tg(n,r.createContext(s?4:3,e))}function tg(r,e){if(Y2(r=en(r)))return K2("Unsupported field value:",e,r),G2(r,e);if(r instanceof Wp)return(function(s,o){if(!q2(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let f=0;for(const m of s){let p=tg(m,o.childContextForArray(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=en(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return d3(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=dt.fromDate(s);return{timestampValue:Ch(o.serializer,c)}}if(s instanceof dt){const c=new dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(o.serializer,c)}}if(s instanceof qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Kn)return{bytesValue:a2(o.serializer,s._byteString)};if(s instanceof Lt){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof hi)return(function(f,m){const p=f instanceof hi?f.toArray():f;return{mapValue:{fields:{[kE]:{stringValue:VE},[Ah]:{arrayValue:{values:p.map((T=>{if(typeof T!="number")throw m.createError("VectorValues must only contain numeric values.");return Op(m.serializer,T)}))}}}}}})(s,o);if(d2(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Gh(s)}`)})(r,e)}function G2(r,e){const n={};return IE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(r,((s,o)=>{const c=tg(o,e.childContextForField(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function Y2(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof dt||r instanceof qi||r instanceof Kn||r instanceof Lt||r instanceof Wp||r instanceof hi||d2(r))}function K2(r,e,n){if(!Y2(n)||!RE(n)){const s=Gh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function sf(r,e,n){if((e=en(e))instanceof H2)return e._internalPath;if(typeof e=="string")return DC(r,e);throw Dh("Field path arguments must be of type string or ",r,!1,void 0,n)}const NC=new RegExp("[~\\*/\\[\\]]");function DC(r,e,n){if(e.search(NC)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new H2(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Dh(r,e,n,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ue(Z.INVALID_ARGUMENT,m+r+p)}function OC(r,e){return r.some((n=>n.isEqual(e)))}class MC{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ga(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Ah].arrayValue?.values?.map((s=>Rt(s.doubleValue)));return new hi(n)}convertGeoPoint(e){return new qi(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=Ss(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);et(f2(s),9688,{name:e});const o=new Jl(s.get(1),s.get(3)),c=new _e(s.popFirst(5));return o.isEqual(n)||Tr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class Q2 extends MC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function a0(){return new eg("serverTimestamp")}const o0="@firebase/firestore",l0="4.11.0";class $2{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(sf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kC extends $2{data(){return super.data()}}function VC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class jC extends ng{}function Dm(r,e,...n){let s=[];e instanceof ng&&s.push(e),s=s.concat(n),(function(c){const f=c.filter((p=>p instanceof ig)).length,m=c.filter((p=>p instanceof af)).length;if(f>1||f>0&&m>0)throw new ue(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class af extends jC{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new af(e,n,s)}_apply(e){const n=this._parse(e);return X2(e._query,n),new xo(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=Zp(e.firestore);return(function(c,f,m,p,y,T,S){let w;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){u0(S,T);const z=[];for(const K of S)z.push(c0(p,c,K));w={arrayValue:{values:z}}}else w=c0(p,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||u0(S,T),w=xC(m,f,S,T==="in"||T==="not-in");return jt.create(y,T,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Om(r,e,n){const s=e,o=sf("where",r);return af._create(o,s,n)}class ig extends ng{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ig(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const m=c.getFlattenedFilters();for(const p of m)X2(f,p),f=Wm(f,p)})(e._query,n),new xo(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function c0(r,e,n){if(typeof(n=en(n))=="string"){if(n==="")throw new ue(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qE(e)&&n.indexOf("/")!==-1)throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ut.fromString(n));if(!_e.isDocumentKey(s))throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Av(r,new _e(s))}if(n instanceof Lt)return Av(r,n._key);throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function u0(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function X2(r,e){const n=(function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function W2(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends $2{constructor(e,n,s,o,c,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(sf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:Pt("string",sa._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class fh extends sa{data(e={}){return super.data(e)}}class po{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new fh(this._firestore,this._userDataWriter,s.key,s,new Ul(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:PC(m.type),doc:p,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:Pt("string",po._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};function LC(r){r=Es(r,Lt);const e=Es(r.firestore,gc),n=Xp(e);return _C(n,r._key).then((s=>zC(e,r,s)))}function Mm(r){r=Es(r,xo);const e=Es(r.firestore,gc),n=Xp(e),s=new Q2(e);return VC(r._query),vC(n,r._query).then((o=>new po(e,s,r,o)))}function UC(r,e,n){r=Es(r,Lt);const s=Es(r.firestore,gc),o=W2(r.converter,e),c=Zp(s);return J2(s,[F2(c,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Bi.none())])}function h0(r,e){const n=Es(r.firestore,gc),s=$p(r),o=W2(r.converter,e),c=Zp(r.firestore);return J2(n,[F2(c,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Bi.exists(!1))]).then((()=>s))}function J2(r,e){const n=Xp(r);return EC(n,e)}function zC(r,e,n){const s=n.docs.get(e._key),o=new Q2(r);return new sa(r,o,e._key,s,new Ul(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){ER(pa),oa(new vs("firestore",((s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new gc(new AR(s.getProvider("auth-internal")),new RR(f,s.getProvider("app-check-internal")),qR(f,o),f);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Ui(o0,l0,e),Ui(o0,l0,"esm2020")})();function Z2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BC=Z2,eT=new lc("auth","Firebase",Z2());const Oh=new Tp("@firebase/auth");function HC(r,...e){Oh.logLevel<=Ge.WARN&&Oh.warn(`Auth (${pa}): ${r}`,...e)}function dh(r,...e){Oh.logLevel<=Ge.ERROR&&Oh.error(`Auth (${pa}): ${r}`,...e)}function mi(r,...e){throw rg(r,...e)}function Fi(r,...e){return rg(r,...e)}function tT(r,e,n){const s={...BC(),[e]:n};return new lc("auth","Firebase",s).create(e,{appName:r.name})}function _r(r){return tT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return eT.create(r,...e)}function be(r,e,...n){if(!r)throw rg(e,...n)}function pr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw dh(e),new Error(e)}function Ar(r,e){r||pr(e)}function lp(){return typeof self<"u"&&self.location?.href||""}function qC(){return f0()==="http:"||f0()==="https:"}function f0(){return typeof self<"u"&&self.location?.protocol||null}function FC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qC()||Ww()||"connection"in navigator)?navigator.onLine:!0}function GC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class yc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ar(n>e,"Short delay should be less than long delay!"),this.isMobile=Qw()||Jw()}get(){return FC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sg(r,e){Ar(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class nT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QC=new yc(3e4,6e4);function Rr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Cr(r,e,n,s,o={}){return iT(r,o,async()=>{let c={},f={};s&&(e==="GET"?f=s:c={body:JSON.stringify(s)});const m=cc({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...c};return Xw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ma(r.emulatorConfig.host)&&(y.credentials="include"),nT.fetch()(await rT(r,r.config.apiHost,n,m),y)})}async function iT(r,e,n){r._canInitEmulator=!1;const s={...YC,...e};try{const o=new XC(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw nh(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const m=c.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw nh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw nh(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw tT(r,T,y);mi(r,T)}}catch(o){if(o instanceof Qi)throw o;mi(r,"network-request-failed",{message:String(o)})}}async function _c(r,e,n,s,o={}){const c=await Cr(r,e,n,s,o);return"mfaPendingCredential"in c&&mi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function rT(r,e,n,s){const o=`${e}${n}?${s}`,c=r,f=c.config.emulator?sg(r.config,o):`${r.config.apiScheme}://${o}`;return KC.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function $C(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Fi(this.auth,"network-request-failed")),QC.get())})}}function nh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Fi(r,e,s);return o.customData._tokenResponse=n,o}function d0(r){return r!==void 0&&r.enterprise!==void 0}class WC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $C(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JC(r,e){return Cr(r,"GET","/v2/recaptchaConfig",Rr(r,e))}async function ZC(r,e){return Cr(r,"POST","/v1/accounts:delete",e)}async function Mh(r,e){return Cr(r,"POST","/v1/accounts:lookup",e)}function Yl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eI(r,e=!1){const n=en(r),s=await n.getIdToken(e),o=ag(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:s,authTime:Yl(km(o.auth_time)),issuedAtTime:Yl(km(o.iat)),expirationTime:Yl(km(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function km(r){return Number(r)*1e3}function ag(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=aE(n);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function m0(r){const e=ag(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ic(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Qi&&tI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function tI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class nI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kh(r){const e=r.auth,n=await r.getIdToken(),s=await ic(r,Mh(e,{idToken:n}));be(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?sT(o.providerUserInfo):[],f=rI(r.providerData,c),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function iI(r){const e=en(r);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function sT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function sI(r,e){const n=await iT(r,{},async()=>{const s=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,f=await rT(r,o,"/v1/token",`key=${c}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&ma(r.emulatorConfig.host)&&(p.credentials="include"),nT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aI(r,e){return Cr(r,"POST","/v2/accounts:revokeToken",Rr(r,e))}class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=m0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await sI(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,f=new go;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(be(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return pr("not implemented")}}function cs(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ci{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new nI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ic(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eI(this,e)}reload(){return iI(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ci({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(_r(this.auth));const e=await this.getIdToken();return await ic(this,ZC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:L,providerData:z,stsTokenManager:K}=n;be(S&&K,e,"internal-error");const U=go.fromJSON(this.name,K);be(typeof S=="string",e,"internal-error"),cs(s,e.name),cs(o,e.name),be(typeof w=="boolean",e,"internal-error"),be(typeof L=="boolean",e,"internal-error"),cs(c,e.name),cs(f,e.name),cs(m,e.name),cs(p,e.name),cs(y,e.name),cs(T,e.name);const ee=new ci({uid:S,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:c,tenantId:m,stsTokenManager:U,createdAt:y,lastLoginAt:T});return z&&Array.isArray(z)&&(ee.providerData=z.map(ie=>({...ie}))),p&&(ee._redirectEventId=p),ee}static async _fromIdTokenResponse(e,n,s=!1){const o=new go;o.updateFromServerResponse(n);const c=new ci({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await kh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?sT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,m=new go;m.updateFromIdToken(s);const p=new ci({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,y),p}}const p0=new Map;function gr(r){Ar(r instanceof Function,"Expected a class definition");let e=p0.get(r);return e?(Ar(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,p0.set(r,e),e)}class aT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aT.type="NONE";const g0=aT;function mh(r,e,n){return`firebase:${r}:${e}:${n}`}class yo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,c),this.fullPersistenceKey=mh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?ci._fromGetAccountInfoResponse(this.auth,n,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new yo(gr(g0),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||gr(g0);const f=mh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const T=await y._get(f);if(T){let S;if(typeof T=="string"){const w=await Mh(e,{idToken:T}).catch(()=>{});if(!w)break;S=await ci._fromGetAccountInfoResponse(e,w,T)}else S=ci._fromJSON(e,T);y!==c&&(m=S),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new yo(c,e,s):(c=p[0],m&&await c._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new yo(c,e,s))}}function y0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fT(e))return"Blackberry";if(dT(e))return"Webos";if(lT(e))return"Safari";if((e.includes("chrome/")||cT(e))&&!e.includes("edge/"))return"Chrome";if(hT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function oT(r=ln()){return/firefox\//i.test(r)}function lT(r=ln()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cT(r=ln()){return/crios\//i.test(r)}function uT(r=ln()){return/iemobile/i.test(r)}function hT(r=ln()){return/android/i.test(r)}function fT(r=ln()){return/blackberry/i.test(r)}function dT(r=ln()){return/webos/i.test(r)}function og(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function oI(r=ln()){return og(r)&&!!window.navigator?.standalone}function lI(){return Zw()&&document.documentMode===10}function mT(r=ln()){return og(r)||hT(r)||dT(r)||fT(r)||/windows phone/i.test(r)||uT(r)}function pT(r,e=[]){let n;switch(r){case"Browser":n=y0(ln());break;case"Worker":n=`${y0(ln())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${s}`}class cI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((f,m)=>{try{const p=e(c);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function uI(r,e={}){return Cr(r,"GET","/v2/passwordPolicy",Rr(r,e))}const hI=6;class fI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class dI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _0(this),this.idTokenSubscription=new _0(this),this.beforeStateQueue=new cI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),s=await ci._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Nn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(_r(this));const n=e?en(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uI(this),n=new fI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&HC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Cs(r){return en(r)}class _0{constructor(e){this.auth=e,this.observer=null,this.addObserver=o4(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mI(r){of=r}function gT(r){return of.loadJS(r)}function pI(){return of.recaptchaEnterpriseScript}function gI(){return of.gapiScript}function yI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class _I{constructor(){this.enterprise=new vI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const EI="recaptcha-enterprise",yT="NO_RECAPTCHA";class TI{constructor(e){this.type=EI,this.auth=Cs(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,m)=>{JC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new WC(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(c,f,m){const p=window.grecaptcha;d0(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{f(y)}).catch(()=>{f(yT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _I().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{s(this.auth).then(m=>{if(!n&&d0(window.grecaptcha))o(m,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=pI();p.length!==0&&(p+=m),gT(p).then(()=>{o(m,c,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function v0(r,e,n,s=!1,o=!1){const c=new TI(r);let f;if(o)f=yT;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Vh(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await v0(r,e,n,n==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await v0(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(c)})}function SI(r,e){const n=Fh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(aa(c,e??{}))return o;mi(o,"already-initialized")}return n.initialize({options:e})}function AI(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(gr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function bI(r,e,n){const s=Cs(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=_T(e),{host:f,port:m}=wI(e),p=m===null?"":`:${m}`,y={url:`${c}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(aa(y,s.config.emulator)&&aa(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,ma(f)?(vp(`${c}//${f}${p}`),Ep("Auth",!0)):RI()}function _T(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function wI(r){const e=_T(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:E0(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:E0(f)}}}function E0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function RI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class lg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function CI(r,e){return Cr(r,"POST","/v1/accounts:signUp",e)}async function II(r,e){return _c(r,"POST","/v1/accounts:signInWithPassword",Rr(r,e))}async function vT(r,e){return Cr(r,"POST","/v1/accounts:sendOobCode",Rr(r,e))}async function xI(r,e){return vT(r,e)}async function NI(r,e){return vT(r,e)}async function DI(r,e){return _c(r,"POST","/v1/accounts:signInWithEmailLink",Rr(r,e))}async function OI(r,e){return _c(r,"POST","/v1/accounts:signInWithEmailLink",Rr(r,e))}class rc extends lg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new rc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new rc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vh(e,n,"signInWithPassword",II);case"emailLink":return DI(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vh(e,s,"signUpPassword",CI);case"emailLink":return OI(e,{idToken:n,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function _o(r,e){return _c(r,"POST","/v1/accounts:signInWithIdp",Rr(r,e))}const MI="http://localhost";class ha extends lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const f=new ha(s,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:MI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cc(n)}return e}}function kI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VI(r){const e=kl(Vl(r)).link,n=e?kl(Vl(e)).deep_link_id:null,s=kl(Vl(r)).deep_link_id;return(s?kl(Vl(s)).link:null)||s||n||e||r}class cg{constructor(e){const n=kl(Vl(e)),s=n.apiKey??null,o=n.oobCode??null,c=kI(n.mode??null);be(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=VI(e);try{return new cg(n)}catch{return null}}}class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,n){return rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=cg.parseLink(n);return be(s,"argument-error"),rc._fromEmailAndCode(e,s.code,s.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ET{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vc extends ET{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class us extends vc{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";class hs extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return hs.credential(n,s)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";class fs extends vc{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.GITHUB_SIGN_IN_METHOD="github.com";fs.PROVIDER_ID="github.com";class ds extends vc{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ds.credential(n,s)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";async function jI(r,e){return _c(r,"POST","/v1/accounts:signUp",Rr(r,e))}class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await ci._fromIdTokenResponse(e,s,o),f=T0(s);return new fa({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=T0(s);return new fa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function T0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class jh extends Qi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new jh(e,n,s,o)}}function TT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(r,c,e,s):c})}async function PI(r,e,n=!1){const s=await ic(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return fa._forOperation(r,"link",s)}async function LI(r,e,n=!1){const{auth:s}=r;if(Nn(s.app))return Promise.reject(_r(s));const o="reauthenticate";try{const c=await ic(r,TT(s,o,e,r),n);be(c.idToken,s,"internal-error");const f=ag(c.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(r.uid===m,s,"user-mismatch"),fa._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&mi(s,"user-mismatch"),c}}async function ST(r,e,n=!1){if(Nn(r.app))return Promise.reject(_r(r));const s="signIn",o=await TT(r,s,e),c=await fa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}async function UI(r,e){return ST(Cs(r),e)}async function AT(r){const e=Cs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zI(r,e,n){const s=Cs(r);await Vh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",NI)}async function BI(r,e,n){if(Nn(r.app))return Promise.reject(_r(r));const s=Cs(r),f=await Vh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&AT(r),p}),m=await fa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function HI(r,e,n){return Nn(r.app)?Promise.reject(_r(r)):UI(en(r),No.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&AT(r),s})}async function qI(r,e){const n=en(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:c}=await xI(n.auth,o);c!==r.email&&await r.reload()}function FI(r,e,n,s){return en(r).onIdTokenChanged(e,n,s)}function GI(r,e,n){return en(r).beforeAuthStateChanged(e,n)}function YI(r,e,n,s){return en(r).onAuthStateChanged(e,n,s)}function KI(r){return en(r).signOut()}const Ph="__sak";class bT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const QI=1e3,$I=10;class wT extends bT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);lI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$I):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},QI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wT.type="LOCAL";const XI=wT;class RT extends bT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RT.type="SESSION";const CT=RT;function WI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new lf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,c)),p=await WI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];function ug(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class JI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((m,p)=>{const y=ug("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(w.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Gi(){return window}function ZI(r){Gi().location.href=r}function IT(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function e5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t5(){return navigator?.serviceWorker?.controller||null}function n5(){return IT()?self:null}const xT="firebaseLocalStorageDb",i5=1,Lh="firebaseLocalStorage",NT="fbase_key";class Ec{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(r,e){return r.transaction([Lh],e?"readwrite":"readonly").objectStore(Lh)}function r5(){const r=indexedDB.deleteDatabase(xT);return new Ec(r).toPromise()}function up(){const r=indexedDB.open(xT,i5);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Lh,{keyPath:NT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Lh)?e(s):(s.close(),await r5(),e(await up()))})})}async function S0(r,e,n){const s=cf(r,!0).put({[NT]:e,value:n});return new Ec(s).toPromise()}async function s5(r,e){const n=cf(r,!1).get(e),s=await new Ec(n).toPromise();return s===void 0?null:s.value}function A0(r,e){const n=cf(r,!0).delete(e);return new Ec(n).toPromise()}const a5=800,o5=3;class DT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await up(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>o5)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance(n5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await e5(),!this.activeServiceWorker)return;this.sender=new JI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await up();return await S0(e,Ph,"1"),await A0(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>S0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>s5(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>A0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=cf(o,!1).getAll();return new Ec(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DT.type="LOCAL";const l5=DT;new yc(3e4,6e4);function c5(r,e){return e?gr(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class hg extends lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function u5(r){return ST(r.auth,new hg(r),r.bypassAuthState)}function h5(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),LI(n,new hg(r),r.bypassAuthState)}async function f5(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),PI(n,new hg(r),r.bypassAuthState)}class OT{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u5;case"linkViaPopup":case"linkViaRedirect":return f5;case"reauthViaPopup":case"reauthViaRedirect":return h5;default:mi(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const d5=new yc(2e3,1e4);class ho extends OT{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,d5.get())};e()}}ho.currentPopupAction=null;const m5="pendingRedirect",ph=new Map;class p5 extends OT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await g5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g5(r,e){const n=v5(e),s=_5(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function y5(r,e){ph.set(r._key(),e)}function _5(r){return gr(r._redirectPersistence)}function v5(r){return mh(m5,r.config.apiKey,r.name)}async function E5(r,e,n=!1){if(Nn(r.app))return Promise.reject(_r(r));const s=Cs(r),o=c5(s,e),f=await new p5(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const T5=600*1e3;class S5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!MT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Fi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T5&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(e))}saveEventToCache(e){this.cachedEventUids.add(b0(e)),this.lastProcessedEventTime=Date.now()}}function b0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function MT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function A5(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MT(r);default:return!1}}async function b5(r,e={}){return Cr(r,"GET","/v1/projects",e)}const w5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R5=/^https?/;async function C5(r){if(r.config.emulator)return;const{authorizedDomains:e}=await b5(r);for(const n of e)try{if(I5(n))return}catch{}mi(r,"unauthorized-domain")}function I5(r){const e=lp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!R5.test(n))return!1;if(w5.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const x5=new yc(3e4,6e4);function w0(){const r=Gi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function N5(r){return new Promise((e,n)=>{function s(){w0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w0(),n(Fi(r,"network-request-failed"))},timeout:x5.get()})}if(Gi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gi().gapi?.load)s();else{const o=yI("iframefcb");return Gi()[o]=()=>{gapi.load?s():n(Fi(r,"network-request-failed"))},gT(`${gI()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw gh=null,e})}let gh=null;function D5(r){return gh=gh||N5(r),gh}const O5=new yc(5e3,15e3),M5="__/auth/iframe",k5="emulator/auth/iframe",V5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P5(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?sg(e,k5):`https://${r.config.authDomain}/${M5}`,s={apiKey:e.apiKey,appName:r.name,v:pa},o=j5.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${cc(s).slice(1)}`}async function L5(r){const e=await D5(r),n=Gi().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:P5(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V5,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const f=Fi(r,"network-request-failed"),m=Gi().setTimeout(()=>{c(f)},O5.get());function p(){Gi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{c(f)})}))}const U5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z5=500,B5=600,H5="_blank",q5="http://localhost";class R0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F5(r,e,n,s=z5,o=B5){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...U5,width:s.toString(),height:o.toString(),top:c,left:f},y=ln().toLowerCase();n&&(m=cT(y)?H5:n),oT(y)&&(e=e||q5,p.scrollbars="yes");const T=Object.entries(p).reduce((w,[L,z])=>`${w}${L}=${z},`,"");if(oI(y)&&m!=="_self")return G5(e||"",m),new R0(null);const S=window.open(e||"",m,T);be(S,r,"popup-blocked");try{S.focus()}catch{}return new R0(S)}function G5(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const Y5="__/auth/handler",K5="emulator/auth/handler",Q5=encodeURIComponent("fac");async function C0(r,e,n,s,o,c){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:pa,eventId:o};if(e instanceof ET){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",a4(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(e instanceof vc){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),y=p?`#${Q5}=${encodeURIComponent(p)}`:"";return`${$5(r)}?${cc(m).slice(1)}${y}`}function $5({config:r}){return r.emulator?sg(r,K5):`https://${r.authDomain}/${Y5}`}const Vm="webStorageSupport";class X5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CT,this._completeRedirectFn=E5,this._overrideRedirectResult=y5}async _openPopup(e,n,s,o){Ar(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await C0(e,n,s,lp(),o);return F5(e,c,ug())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await C0(e,n,s,lp(),o);return ZI(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ar(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await L5(e),s=new S5(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vm,{type:Vm},o=>{const c=o?.[0]?.[Vm];c!==void 0&&n(!!c),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=C5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mT()||lT()||og()}}const W5=X5;var I0="@firebase/auth",x0="1.12.0";class J5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Z5(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e9(r){oa(new vs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pT(r)},y=new dI(s,o,c,p);return AI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),oa(new vs("auth-internal",e=>{const n=Cs(e.getProvider("auth").getImmediate());return(s=>new J5(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ui(I0,x0,Z5(r)),Ui(I0,x0,"esm2020")}const t9=300,n9=uE("authIdTokenMaxAge")||t9;let N0=null;const i9=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>n9)return;const o=n?.token;N0!==o&&(N0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function r9(r=Ap()){const e=Fh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=SI(r,{popupRedirectResolver:W5,persistence:[l5,XI,CT]}),s=uE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=i9(c.toString());GI(n,f,()=>f(n.currentUser)),FI(n,m=>f(m))}}const o=oE("auth");return o&&bI(n,`http://${o}`),n}function s9(){return document.getElementsByTagName("head")?.[0]??document}mI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=Fi("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",s9().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e9("Browser");const kT="firebasestorage.googleapis.com",a9="storageBucket",o9=120*1e3,l9=600*1e3;class $i extends Qi{constructor(e,n,s=0){super(jm(e),`Firebase Storage: ${n} (${jm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$i.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ki;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ki||(Ki={}));function jm(r){return"storage/"+r}function c9(){const r="An unknown error occurred, please check the error payload for server response.";return new $i(Ki.UNKNOWN,r)}function u9(){return new $i(Ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function h9(){return new $i(Ki.CANCELED,"User canceled the upload/download.")}function f9(r){return new $i(Ki.INVALID_URL,"Invalid URL '"+r+"'.")}function d9(r){return new $i(Ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function D0(r){return new $i(Ki.INVALID_ARGUMENT,r)}function VT(){return new $i(Ki.APP_DELETED,"The Firebase app was deleted.")}function m9(r){return new $i(Ki.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ui{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ui.makeFromUrl(e,n)}catch{return new ui(e,"")}if(s.path==="")return s;throw d9(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function y(oe){oe.path_=decodeURIComponent(oe.path)}const T="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",L=new RegExp(`^https?://${S}/${T}/b/${o}/o${w}`,"i"),z={bucket:1,path:3},K=n===kT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",ee=new RegExp(`^https?://${K}/${o}/${U}`,"i"),ne=[{regex:m,indices:p,postModify:c},{regex:L,indices:z,postModify:y},{regex:ee,indices:{bucket:1,path:2},postModify:y}];for(let oe=0;oe<ne.length;oe++){const ce=ne[oe],ve=ce.regex.exec(e);if(ve){const I=ve[ce.indices.bucket];let R=ve[ce.indices.path];R||(R=""),s=new ui(I,R),ce.postModify(s);break}}if(s==null)throw f9(e);return s}}class p9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function g9(r,e,n){let s=1,o=null,c=null,f=!1,m=0;function p(){return m===2}let y=!1;function T(...U){y||(y=!0,e.apply(null,U))}function S(U){o=setTimeout(()=>{o=null,r(L,p())},U)}function w(){c&&clearTimeout(c)}function L(U,...ee){if(y){w();return}if(U){w(),T.call(null,U,...ee);return}if(p()||f){w(),T.call(null,U,...ee);return}s<64&&(s*=2);let ne;m===1?(m=2,ne=0):ne=(s+Math.random())*1e3,S(ne)}let z=!1;function K(U){z||(z=!0,w(),!y&&(o!==null?(U||(m=2),clearTimeout(o),S(0)):U||(m=1)))}return S(0),c=setTimeout(()=>{f=!0,K(!0)},n),K}function y9(r){r(!1)}function _9(r){return r!==void 0}function O0(r,e,n,s){if(s<e)throw D0(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw D0(`Invalid value for '${r}'. Expected ${n} or less.`)}function v9(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Uh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Uh||(Uh={}));function E9(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return n||o||c}class T9{constructor(e,n,s,o,c,f,m,p,y,T,S,w=!0,L=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=T,this.connectionFactory_=S,this.retry=w,this.isUsingEmulator=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,K)=>{this.resolve_=z,this.reject_=K,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new ih(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const m=c.getErrorCode()===Uh.NO_ERROR,p=c.getStatus();if(!m||E9(p,this.additionalRetryCodes_)&&this.retry){const T=c.getErrorCode()===Uh.ABORT;s(!1,new ih(!1,null,T));return}const y=this.successCodes_.indexOf(p)!==-1;s(!0,new ih(y,c))})},n=(s,o)=>{const c=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());_9(p)?c(p):c()}catch(p){f(p)}else if(m!==null){const p=c9();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?VT():h9();f(p)}else{const p=u9();f(p)}};this.canceled_?n(!1,new ih(!1,null,!0)):this.backoffId_=g9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&y9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ih{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function S9(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function A9(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function b9(r,e){e&&(r["X-Firebase-GMPID"]=e)}function w9(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function R9(r,e,n,s,o,c,f=!0,m=!1){const p=v9(r.urlParams),y=r.url+p,T=Object.assign({},r.headers);return b9(T,e),S9(T,n),A9(T,c),w9(T,s),new T9(y,r.method,T,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,m)}function C9(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function I9(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class zh{constructor(e,n){this._service=e,n instanceof ui?this._location=n:this._location=ui.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zh(e,n)}get root(){const e=new ui(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return I9(this._location.path)}get storage(){return this._service}get parent(){const e=C9(this._location.path);if(e===null)return null;const n=new ui(this._location.bucket,e);return new zh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw m9(e)}}function M0(r,e){const n=e?.[a9];return n==null?null:ui.makeFromBucketSpec(n,r)}function x9(r,e,n,s={}){r.host=`${e}:${n}`;const o=ma(e);o&&(vp(`https://${r.host}/b`),Ep("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(r._overrideAuthToken=typeof c=="string"?c:hE(c,r.app.options.projectId))}class N9{constructor(e,n,s,o,c,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=kT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=o9,this._maxUploadRetryTime=l9,this._requests=new Set,o!=null?this._bucket=ui.makeFromBucketSpec(o,this._host):this._bucket=M0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ui.makeFromBucketSpec(this._url,e):this._bucket=M0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){O0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){O0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zh(this,e)}_makeRequest(e,n,s,o,c=!0){if(this._deleted)return new p9(VT());{const f=R9(e,this._appId,s,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const k0="@firebase/storage",V0="0.14.0";const jT="storage";function D9(r=Ap(),e){r=en(r);const s=Fh(r,jT).getImmediate({identifier:e}),o=lE("storage");return o&&O9(s,...o),s}function O9(r,e,n,s={}){x9(r,e,n,s)}function M9(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new N9(n,s,o,e,pa)}function k9(){oa(new vs(jT,M9,"PUBLIC").setMultipleInstances(!0)),Ui(k0,V0,""),Ui(k0,V0,"esm2020")}k9();const V9={apiKey:"AIzaSyAGPUHsI-gX67ISkXBhIl6-Lr0Uo9enKX4",authDomain:"yipias-web-f06e1.firebaseapp.com",projectId:"yipias-web-f06e1",storageBucket:"yipias-web-f06e1.firebasestorage.app",messagingSenderId:"454915066576",appId:"1:454915066576:web:eb5a4235d6a8b3ded12cd5"},fg=mE(V9),ra=bC(fg),Kl=r9(fg);D9(fg);const PT=j.createContext(),LT=()=>j.useContext(PT),j9=({children:r})=>{const[e,n]=j.useState(null),[s,o]=j.useState(null),[c,f]=j.useState(!0);j.useEffect(()=>YI(Kl,async y=>{if(y){n(y);const T=await LC($p(ra,"usuarios",y.uid));T.exists()&&o(T.data())}else n(null),o(null);f(!1)}),[]);const m={currentUser:e,userData:s,loading:c};return g.jsx(PT.Provider,{value:m,children:r})},P9=({isOpen:r,onClose:e})=>{const n=s=>{const o=document.getElementById(s);o&&window.scrollTo({top:o.offsetTop-70,behavior:"smooth"}),e()};return g.jsx("div",{className:`mobile-menu ${r?"open":""}`,id:"mobileMenu",children:g.jsxs("ul",{className:"mobile-nav-links",children:[g.jsx("li",{children:g.jsx(_h,{to:"/terminos",onClick:e,children:"Trminos y Condiciones"})}),g.jsx("li",{children:g.jsx(_h,{to:"/privacidad",onClick:e,children:"Polticas de Privacidad"})}),g.jsx("li",{children:g.jsx("button",{onClick:()=>n("destinos"),children:"Algunos destinos"})}),g.jsx("li",{children:g.jsx("button",{onClick:()=>n("servicios"),children:"Nuestros servicios"})}),g.jsx("li",{children:g.jsx("button",{onClick:()=>n("reservas"),children:"Reservas"})}),g.jsx("li",{children:g.jsx("button",{onClick:()=>n("sobre-nosotros"),children:"Sobre nosotros"})}),g.jsx("li",{children:g.jsx("button",{onClick:()=>n("contacto"),children:"Contacto"})})]})})},dg=({onClose:r,onSuccess:e})=>{const[n,s]=j.useState("login"),[o,c]=j.useState(!1),[f,m]=j.useState(!1),[p,y]=j.useState(!1),[T,S]=j.useState(""),[w,L]=j.useState(!1),[z,K]=j.useState({email:"",password:"",nombres:"",telefono:"",dni:"",confirmPassword:""}),[U,ee]=j.useState(""),[ie,ne]=j.useState(""),[oe,ce]=j.useState(!1),[ve,I]=j.useState(!1);j.useEffect(()=>{const C=new URLSearchParams(window.location.search).get("mode");C==="verifyEmail"&&(ne("Correo verificado exitosamente. Ya puedes iniciar sesin."),s("login"),window.history.replaceState({},document.title,window.location.pathname)),C==="resetPassword"&&(ne("Contrasea restablecida. Ahora puedes iniciar sesin."),s("login"),window.history.replaceState({},document.title,window.location.pathname))},[]);const R=V=>{const{name:C,value:Oe}=V.target;K(Pe=>({...Pe,[C]:Oe}))},x=async V=>{V.preventDefault(),ee(""),ce(!0);try{await zI(Kl,T),L(!0),ne("Correo de recuperacin enviado. Revisa tu bandeja de entrada."),ce(!1),setTimeout(()=>{y(!1),L(!1),S(""),ne("")},3e3)}catch(C){console.error("Error:",C),C.code==="auth/user-not-found"?ee("No existe una cuenta con este correo"):ee("Error al enviar correo de recuperacin"),ce(!1)}},k=async V=>{V.preventDefault(),ee(""),ce(!0);try{const Oe=(await HI(Kl,z.email,z.password)).user;if(!Oe.emailVerified){ee("Por favor verifica tu correo electrnico antes de iniciar sesin. Revisa tu bandeja de entrada."),ce(!1);return}const Pe=await Mm(Dm(Gl(ra,"usuarios"),Om("uid","==",Oe.uid)));if(!Pe.empty){const Q=Pe.docs[0].data();ne(`Bienvenido ${Q.nombres}!`),sessionStorage.setItem("user",JSON.stringify(Q)),e&&e(Q),setTimeout(r,1500)}}catch(C){console.error("Error:",C),C.code==="auth/invalid-credential"?ee("Email o contrasea incorrectos"):ee("Error al iniciar sesin")}ce(!1)},D=async V=>{if(V.preventDefault(),ee(""),ce(!0),!ve){ee("Debes aceptar los trminos y condiciones"),ce(!1);return}if(z.password!==z.confirmPassword){ee("Las contraseas no coinciden"),ce(!1);return}if(z.password.length<6){ee("La contrasea debe tener al menos 6 caracteres"),ce(!1);return}if(z.dni.length<8||z.dni.length>12){ee("El DNI debe tener entre 8 y 12 dgitos"),ce(!1);return}if(z.telefono.length<9){ee("El telfono debe tener al menos 9 dgitos"),ce(!1);return}const C=z.nombres.trim();if(!C.includes(" ")){ee("Ingresa tu nombre completo (nombres y apellidos)"),ce(!1);return}try{const Oe=C.indexOf(" "),Pe=C.substring(0,Oe).trim(),Q=C.substring(Oe+1).trim(),se=Dm(Gl(ra,"usuarios"),Om("dni","==",z.dni));if(!(await Mm(se)).empty){ee("Este DNI ya est registrado"),ce(!1);return}const Le=Dm(Gl(ra,"usuarios"),Om("email","==",z.email));if(!(await Mm(Le)).empty){ee("Este email ya est registrado"),ce(!1);return}const $=(await BI(Kl,z.email,z.password)).user;await qI($);const ae={nombres:Pe,apellidos:Q,nombreCompleto:C,email:z.email,telefono:z.telefono,dni:z.dni,rol:"cliente",fechaRegistro:new Date().toISOString(),uid:$.uid,estado:"activo",emailVerified:!1};await UC($p(ra,"usuarios",$.uid),ae),ne("Registro exitoso. Hemos enviado un correo de verificacin a tu email. Por favor verifica antes de iniciar sesin."),setTimeout(()=>{s("login"),K({email:"",password:"",nombres:"",telefono:"",dni:"",confirmPassword:""}),I(!1)},4e3)}catch(Oe){console.error("Error:",Oe),Oe.code==="auth/email-already-in-use"?ee("Este email ya est registrado"):ee("Error al registrarse")}ce(!1)};return p?g.jsx("div",{className:"auth-modal-overlay",onClick:r,children:g.jsxs("div",{className:"auth-modal-card",onClick:V=>V.stopPropagation(),children:[g.jsx("button",{className:"auth-modal-close",onClick:r,children:""}),g.jsx("div",{className:"auth-logo",children:g.jsx("img",{src:"/img/premium.png",alt:"YipiAs"})}),g.jsx("h3",{style:{textAlign:"center",marginBottom:"1rem",color:"var(--text)"},children:"Recuperar Contrasea"}),w?g.jsxs("div",{style:{textAlign:"center",padding:"1rem"},children:[g.jsxs("div",{className:"auth-success",children:[g.jsx(Xu,{size:16,style:{marginRight:"6px"}}),ie]}),g.jsx("button",{className:"auth-submit",style:{marginTop:"1rem"},onClick:()=>{y(!1),L(!1)},children:"Volver al inicio de sesin"})]}):g.jsxs("form",{onSubmit:x,className:"auth-form",children:[g.jsxs("div",{className:"input-group",children:[g.jsx(Em,{size:18,className:"input-icon"}),g.jsx("input",{type:"email",value:T,onChange:V=>S(V.target.value),required:!0,placeholder:"Ingresa tu correo electrnico"})]}),U&&g.jsxs("div",{className:"auth-error",children:[g.jsx(gm,{size:16,style:{marginRight:"6px"}}),U]}),ie&&g.jsxs("div",{className:"auth-success",children:[g.jsx(Xu,{size:16,style:{marginRight:"6px"}}),ie]}),g.jsx("button",{type:"submit",className:"auth-submit",disabled:oe,children:oe?"Enviando...":"Enviar correo de recuperacin"}),g.jsx("button",{type:"button",className:"auth-submit",style:{background:"transparent",color:"var(--primary)",marginTop:"0.5rem"},onClick:()=>y(!1),children:"Volver al inicio de sesin"})]})]})}):g.jsx("div",{className:"auth-modal-overlay",onClick:r,children:g.jsxs("div",{className:"auth-modal-card",onClick:V=>V.stopPropagation(),children:[g.jsx("button",{className:"auth-modal-close",onClick:r,children:""}),g.jsx("div",{className:"auth-logo",children:g.jsx("img",{src:"/img/premium.png",alt:"YipiAs"})}),g.jsxs("div",{className:"auth-slider",children:[g.jsx("div",{className:`slider-bg ${n==="login"?"login-active":"registro-active"}`}),g.jsx("button",{className:`slider-btn ${n==="login"?"active":""}`,onClick:()=>s("login"),children:"Iniciar Sesin"}),g.jsx("button",{className:`slider-btn ${n==="registro"?"active":""}`,onClick:()=>s("registro"),children:"Registrarse"})]}),g.jsxs("div",{className:"conductor-link",children:[g.jsx("span",{children:"Eres conductor? "}),g.jsx("a",{href:"https://wa.me/51904635462?text=Hola!%20Deseo%20ms%20informacin%20para%20ser%20conductor%20de%20YipiAs%20Premium.",target:"_blank",rel:"noopener noreferrer",children:"Haz clic aqu"})]}),n==="login"?g.jsxs("form",{onSubmit:k,className:"auth-form",children:[g.jsxs("div",{className:"input-group",children:[g.jsx(Em,{size:18,className:"input-icon"}),g.jsx("input",{type:"email",name:"email",value:z.email,onChange:R,required:!0,placeholder:"Correo electrnico"})]}),g.jsxs("div",{className:"input-group",style:{position:"relative"},children:[g.jsx(vm,{size:18,className:"input-icon"}),g.jsx("input",{type:o?"text":"password",name:"password",value:z.password,onChange:R,required:!0,placeholder:"Contrasea",style:{paddingRight:"40px"}}),g.jsx("button",{type:"button",onClick:()=>c(!o),className:"password-toggle-btn",children:o?g.jsx(ym,{size:18}):g.jsx(_m,{size:18})})]}),g.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-0.5rem",marginBottom:"0.5rem"},children:g.jsxs("button",{type:"button",onClick:()=>y(!0),className:"forgot-password-btn",children:[g.jsx(yw,{size:14}),"Olvidaste tu contrasea?"]})}),U&&g.jsxs("div",{className:"auth-error",children:[g.jsx(gm,{size:16,style:{marginRight:"6px"}}),U]}),ie&&g.jsxs("div",{className:"auth-success",children:[g.jsx(Xu,{size:16,style:{marginRight:"6px"}}),ie]}),g.jsx("button",{type:"submit",className:"auth-submit",disabled:oe,children:oe?"Ingresando...":"Iniciar Sesin"})]}):g.jsxs("form",{onSubmit:D,className:"auth-form",children:[g.jsxs("div",{className:"input-group",children:[g.jsx(jw,{size:18,className:"input-icon"}),g.jsx("input",{type:"text",name:"nombres",value:z.nombres,onChange:R,required:!0,placeholder:"Nombres y apellidos"})]}),g.jsxs("div",{className:"input-group",children:[g.jsx(Em,{size:18,className:"input-icon"}),g.jsx("input",{type:"email",name:"email",value:z.email,onChange:R,required:!0,placeholder:"Correo electrnico"})]}),g.jsxs("div",{className:"input-group",children:[g.jsx(Nw,{size:18,className:"input-icon"}),g.jsx("input",{type:"tel",name:"telefono",value:z.telefono,onChange:R,required:!0,placeholder:"Ingresa tu telfono",maxLength:"9"})]}),g.jsxs("div",{className:"input-group",children:[g.jsx(Ew,{size:18,className:"input-icon"}),g.jsx("input",{type:"text",name:"dni",value:z.dni,onChange:R,required:!0,placeholder:"Ingresa tu DNI",maxLength:"8"})]}),g.jsxs("div",{className:"input-group",style:{position:"relative"},children:[g.jsx(vm,{size:18,className:"input-icon"}),g.jsx("input",{type:o?"text":"password",name:"password",value:z.password,onChange:R,required:!0,placeholder:"Contrasea (mn. 6 caracteres)",style:{paddingRight:"40px"}}),g.jsx("button",{type:"button",onClick:()=>c(!o),className:"password-toggle-btn",children:o?g.jsx(ym,{size:18}):g.jsx(_m,{size:18})})]}),g.jsxs("div",{className:"input-group",style:{position:"relative"},children:[g.jsx(vm,{size:18,className:"input-icon"}),g.jsx("input",{type:f?"text":"password",name:"confirmPassword",value:z.confirmPassword,onChange:R,required:!0,placeholder:"Confirmar contrasea",style:{paddingRight:"40px"}}),g.jsx("button",{type:"button",onClick:()=>m(!f),className:"password-toggle-btn",children:f?g.jsx(ym,{size:18}):g.jsx(_m,{size:18})})]}),g.jsxs("label",{className:"checkbox-label",children:[g.jsx("input",{type:"checkbox",checked:ve,onChange:V=>I(V.target.checked)}),g.jsx(pw,{size:16,className:`checkbox-icon ${ve?"checked":""}`}),g.jsx("span",{children:"Acepto los trminos y condiciones, junto a las polticas de privacidad"})]}),U&&g.jsxs("div",{className:"auth-error",children:[g.jsx(gm,{size:16,style:{marginRight:"6px"}}),U]}),ie&&g.jsxs("div",{className:"auth-success",children:[g.jsx(Xu,{size:16,style:{marginRight:"6px"}}),ie]}),g.jsx("button",{type:"submit",className:"auth-submit",disabled:oe,children:oe?"Registrando...":"Registrarme"})]})]})})};console.log("HEADER RENDER");const L9=()=>{const[r,e]=j.useState(!1),[n,s]=j.useState(!1),[o,c]=j.useState(!1),{currentUser:f,userData:m}=LT(),p=()=>{e(!r)},y=()=>{s(!0),document.body.style.overflow="hidden"},T=()=>{s(!1),document.body.style.overflow="auto"},S=async()=>{try{await KI(Kl),c(!1)}catch(L){console.error("Error al cerrar sesin:",L)}},w=()=>!m||!m.nombres?"":m.nombres.split(" ")[0];return g.jsxs(g.Fragment,{children:[g.jsxs("nav",{className:"navbar",children:[g.jsx("div",{className:"container",children:g.jsxs("div",{className:"nav-container",children:[g.jsxs("div",{className:"brand-container",children:[g.jsx("img",{src:"/img/YipiAs_logo.png",alt:"Icono YipiAs",className:"brand-icon"}),g.jsx("img",{src:"/img/banner.png",alt:"YipiAs",className:"brand-logo-wide"})]}),g.jsxs("div",{className:"nav-right",children:[f?g.jsxs("div",{className:"user-profile-wrapper",children:[g.jsxs("div",{className:"user-profile",onClick:()=>c(!o),children:[g.jsx(Z_,{size:24,className:"user-icon"}),g.jsx("span",{className:"user-name",children:w()})]}),o&&g.jsx("div",{className:"logout-menu",children:g.jsxs("button",{onClick:S,className:"logout-btn",children:[g.jsx(Cw,{size:16}),g.jsx("span",{children:"Cerrar sesin"})]})})]}):g.jsx("button",{className:"user-btn",onClick:y,title:"Iniciar sesin / Registrarse",children:g.jsx(Z_,{size:28})}),g.jsxs("button",{className:`hamburger-btn ${r?"active":""}`,onClick:p,children:[g.jsx("span",{className:"hamburger-line"}),g.jsx("span",{className:"hamburger-line"}),g.jsx("span",{className:"hamburger-line"})]})]})]})}),g.jsx(P9,{isOpen:r,onClose:()=>e(!1)})]}),n&&g.jsx(dg,{onClose:T,onSuccess:()=>{T()}})]})},U9=()=>{const r=e=>{e.preventDefault();const n=document.getElementById("reservas");n&&window.scrollTo({top:n.offsetTop-70,behavior:"smooth"})};return g.jsx("header",{className:"hero",style:{backgroundImage:"url('/img/piura_fondo.png')"},children:g.jsxs("div",{className:"container hero-content",children:[g.jsx("h1",{children:"Explora Piura en modo Premium"}),g.jsx("p",{className:"lead",children:"Traslados tursticos y en la ciudad. Reserva en segundos."}),g.jsx("a",{className:"btn btn-red",href:"#reservas",onClick:r,children:"Reservar ahora"})]})})},z9=()=>{const r=j.useRef(null),e=j.useRef(null),n=[{img:"catacaos.jpg",titulo:"Catacaos",desc:"Artesanas y gastronoma"},{img:"mancora.jpg",titulo:"Mncora",desc:"Playas, gastronoma y surf"},{img:"sechura.jpeg",titulo:"Sechura",desc:"Desierto y cultura"},{img:"punta-sal.jpg",titulo:"Punta Sal",desc:"Royal Decameron y ms"},{img:"vichayito.jpg",titulo:"Vichayito",desc:"Playas, hoteles y gastronoma"},{img:"zorritos.jpg",titulo:"Zorritos",desc:"Hotelera Playera y ms"},{img:"nuro.png",titulo:"rganos",desc:"El uro y ms playas"},{img:"morropon.jpg",titulo:"Huancabamba",desc:"Canchaque, Morropn y ms"}];return j.useEffect(()=>{const s=r.current;if(!s)return;const o=s.children;if(o.length===0)return;let c=0;const f=o[0]?.offsetWidth+16||276,m=(o.length-3)*f,p=()=>{s&&(c+=f,c>m&&(c=0),s.scrollTo({left:c,behavior:"smooth"}))};e.current=setInterval(p,3e3);const y=()=>{e.current&&clearInterval(e.current)},T=()=>{e.current&&clearInterval(e.current),e.current=setInterval(p,3e3)};return s.addEventListener("mouseenter",y),s.addEventListener("mouseleave",T),()=>{e.current&&clearInterval(e.current),s.removeEventListener("mouseenter",y),s.removeEventListener("mouseleave",T)}},[]),g.jsx("section",{id:"destinos",className:"section",children:g.jsxs("div",{className:"container",children:[g.jsx("h2",{children:"Algunos destinos"}),g.jsx("div",{className:"destinations-scroll",ref:r,"aria-label":"Carrusel de destinos",children:n.map((s,o)=>g.jsxs("div",{className:"dest-card",children:[g.jsx("img",{src:`/img/${s.img}`,alt:s.titulo}),g.jsxs("div",{className:"dest-info",children:[g.jsx("strong",{children:s.titulo}),g.jsx("span",{children:s.desc})]})]},o))})]})})},B9=()=>{const r=[{img:"callcenter.jpg",icon:g.jsx(bw,{size:22}),titulo:"Soporte 24/7",desc:"Optimizamos continuamente nuestro servicio con mejoras y contamos con especialistas a tu disposicin. Atencin las 24 horas del da."},{img:"profesionalidad.jpg",icon:g.jsx(kw,{size:22}),titulo:"Conductores Profesionales",desc:"Nuestros conductores cuentan con evaluaciones psicolgicas y verificaciones de antecedentes."},{img:"experiencia.jpeg",icon:g.jsx(Ow,{size:22}),titulo:"25 Aos de Experiencia",desc:"Trabajamos para tu satisfaccin. Calidad, seguridad y experiencia que nos respaldan con ms de 25 aos en el mercado peruano."},{img:"modernidad.jpg",icon:g.jsx(hw,{size:22}),titulo:"Flota Moderna",desc:"Vehculos de ltima generacin, con un mximo de 5 aos de antigedad y equipados con aire acondicionado."}];return g.jsx("section",{id:"servicios",className:"section servicios",children:g.jsxs("div",{className:"container",children:[g.jsx("h2",{className:"section-title",children:"Nuestros Servicios"}),g.jsx("p",{className:"section-subtitle",children:"Conoce por qu somos la mejor opcin para tus viajes"}),g.jsx("div",{className:"servicios-grid",children:r.map((e,n)=>g.jsxs("div",{className:"servicio-card con-imagen-lateral",children:[g.jsx("div",{className:"servicio-imagen-lateral",children:g.jsx("img",{src:`/img/${e.img}`,alt:e.titulo})}),g.jsxs("div",{className:"servicio-contenido-lateral",children:[g.jsx("div",{className:"servicio-icon-wrapper",children:g.jsx("div",{className:"servicio-icon",children:e.icon})}),g.jsx("h3",{children:e.titulo}),g.jsx("p",{children:e.desc})]})]},n))})]})})},H9=()=>{j.useEffect(()=>{const r=e=>{const n=e.target.closest(".clear-input");if(!n)return;const s=n.getAttribute("data-target");if(!s)return;const o=document.getElementById(s);if(o){if(o.value="",s.includes("HoraInput")){const c=s.replace("Input","Inicio"),f=document.getElementById(c);f&&(f.value="")}o.dispatchEvent(new Event("change",{bubbles:!0})),o.dispatchEvent(new Event("input",{bubbles:!0}))}};return document.addEventListener("click",r),()=>{document.removeEventListener("click",r)}},[])},q9=()=>{j.useEffect(()=>{const r=()=>{const o=new Date,c=o.getFullYear(),f=String(o.getMonth()+1).padStart(2,"0"),m=String(o.getDate()).padStart(2,"0");return`${c}-${f}-${m}`},e=o=>{if(!o)return;const c=r();o.min=c,o.value||(o.value=c),o.addEventListener("keydown",f=>(f.preventDefault(),!1)),o.addEventListener("click",()=>{o.showPicker()})};document.querySelectorAll('input[type="date"]').forEach(e);const s=new MutationObserver(()=>{document.querySelectorAll('input[type="date"]:not([data-fecha-configurado])').forEach(c=>{c.setAttribute("data-fecha-configurado","true"),e(c)})});return s.observe(document.body,{childList:!0,subtree:!0}),()=>{s.disconnect()}},[])};function UT(r){return/^([0-1][0-9]|2[0-3]):([0-5][0-9])$/.test(r)}function F9(r,e){if(!r||!e)return{valido:!1,mensaje:"Por favor selecciona fecha y hora"};if(!UT(e))return{valido:!1,mensaje:"Formato de hora invlido. Use HH:MM (formato 24h)"};const[n,s,o]=r.split("-").map(Number),[c,f]=e.split(":").map(Number),m=new Date(n,s-1,o,c,f,0),p=new Date,y=Math.floor((m-p)/6e4);return console.log("Fecha seleccionada:",m),console.log("Ahora:",p),console.log("Diferencia minutos:",y),y<30?{valido:!1,mensaje:` La hora debe ser al menos 30 minutos mayor a la hora actual.
Faltan ${30-y} minutos.`}:{valido:!0,mensaje:""}}const G9=()=>{const r=j.useCallback(o=>UT(o),[]),e=j.useCallback((o,c)=>{if(!o||!c)return alert("Por favor selecciona fecha y hora"),!1;const f=F9(o,c);return f.valido?!0:(alert(f.mensaje),!1)},[]),n=j.useCallback(o=>o>6?(alert("El nmero mximo de pasajeros es 6"),!1):o<1?(alert("El nmero mnimo de pasajeros es 1"),!1):!0,[]),s=j.useCallback(o=>{for(let[c,f]of Object.entries(o))if(!f||f.trim()==="")return alert(`El campo ${c} es obligatorio`),!1;return!0},[]);return{validarHora:r,validarFechaHoraReserva:e,validarPasajeros:n,validarCampos:s}},Y9=()=>({obtenerUbicacionActual:j.useCallback((e,n,s)=>new Promise((o,c)=>{if(!navigator.geolocation){alert("Tu navegador no soporta geolocalizacin"),c(new Error("Geolocalizacin no soportada"));return}n&&(n.classList.add("loading"),n.style.pointerEvents="none"),navigator.geolocation.getCurrentPosition(async f=>{const m={lat:f.coords.latitude,lng:f.coords.longitude};try{new window.google.maps.Geocoder().geocode({location:m},(y,T)=>{if(n&&(n.classList.remove("loading"),n.style.pointerEvents="auto"),T==="OK"&&y[0]){const S=y[0].formatted_address;e&&(e.value=S),s&&(s.setCenter(m),s.setZoom(15)),o({address:S,location:m})}else alert("No se pudo obtener la direccin de tu ubicacin"),c(new Error("No se pudo obtener la direccin"))})}catch(p){n&&(n.classList.remove("loading"),n.style.pointerEvents="auto"),alert("Error al procesar tu ubicacin"),c(p)}},f=>{n&&(n.classList.remove("loading"),n.style.pointerEvents="auto");let m="Error al obtener tu ubicacin: ";switch(f.code){case f.PERMISSION_DENIED:m+="Permiso denegado. Por favor activa la ubicacin.";break;case f.POSITION_UNAVAILABLE:m+="Informacin de ubicacin no disponible.";break;case f.TIMEOUT:m+="Tiempo de espera agotado.";break;default:m+="Error desconocido."}alert(m),c(f)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),[])}),K9=()=>{const[r,e]=j.useState(!1),[n,s]=j.useState(!1),[o,c]=j.useState(!1),[f,m]=j.useState(!1);return j.useEffect(()=>{const L=sessionStorage.getItem("mostroExplicacionProgramada"),z=sessionStorage.getItem("mostroExplicacionHoras");L&&console.log("Modal programada ya mostrado en esta sesin"),z&&console.log("Modal horas ya mostrado en esta sesin")},[]),{modalExplicacionProgramada:r,modalExplicacionHoras:n,modalConfirmacionProgramada:o,modalConfirmacionHoras:f,mostrarExplicacionProgramada:()=>{sessionStorage.getItem("mostroExplicacionProgramada")||(e(!0),sessionStorage.setItem("mostroExplicacionProgramada","true"))},mostrarExplicacionPorHoras:()=>{sessionStorage.getItem("mostroExplicacionHoras")||(s(!0),sessionStorage.setItem("mostroExplicacionHoras","true"))},mostrarConfirmacionProgramada:()=>{c(!0)},mostrarConfirmacionHoras:()=>{m(!0)},cerrarModales:()=>{e(!1),s(!1),c(!1),m(!1)}}},Q9=()=>({guardarReservaProgramada:async n=>{try{const s={tipoReserva:"programada",fechaReserva:a0(),lugarRecojo:n.lugarRecojo||"",destino:n.destino||"",fechaViaje:n.fechaViaje||"",horaInicio:n.horaInicio||"",horaOriginal:n.horaOriginal||"",pasajeros:n.pasajeros||1,distancia:n.distancia||"",precio:n.precio||"S/ 0.00",recojoLat:n.recojoLat||null,recojoLng:n.recojoLng||null,destinoLat:n.destinoLat||null,destinoLng:n.destinoLng||null,mapsLink:n.mapsLink||null},o=await h0(Gl(ra,"reservas"),s);return console.log(" Reserva programada guardada en Firebase con ID:",o.id),{success:!0,id:o.id}}catch(s){return console.error(" Error al guardar en Firebase:",s),alert("Reserva recibida, pero hubo un problema tcnico. Te contactaremos igualmente."),{success:!1,error:s}}},guardarReservaHoras:async n=>{try{const s={tipoReserva:"horas",fechaReserva:a0(),lugarRecojo:n.lugarRecojo||"",fechaServicio:n.fechaServicio||"",horaInicio:n.horaInicio||"",horaOriginal:n.horaOriginal||"",horasContratadas:n.horasContratadas||1,pasajeros:n.pasajeros||1,precio:n.precio||"S/ 38.00",recojoLat:n.recojoLat||null,recojoLng:n.recojoLng||null,mapsLink:n.mapsLink||null},o=await h0(Gl(ra,"reservas"),s);return console.log(" Reserva por horas guardada en Firebase con ID:",o.id),{success:!0,id:o.id}}catch(s){return console.error(" Error al guardar en Firebase:",s),alert("Reserva recibida, pero hubo un problema tcnico. Te contactaremos igualmente."),{success:!1,error:s}}}}),j0=()=>{const[r,e]=j.useState("AM");return{ampm:r,setAmpm:e,formatearHoraParaFirebase:(s,o)=>{if(!s)return"";const[c,f]=s.split(":");let m=parseInt(c);return o==="PM"&&m<12&&(m+=12),o==="AM"&&m===12&&(m=0),`${m.toString().padStart(2,"0")}:${f}`}}},zT=({value:r,onChange:e,ampm:n,onAmpmChange:s,id:o})=>g.jsx("div",{className:"time-picker-ampm",children:g.jsxs("div",{className:"time-input-group",children:[g.jsx("input",{type:"text",className:"input time-input",placeholder:"HH:MM",maxLength:"5",value:r,onChange:c=>e(c.target.value),id:o}),g.jsxs("div",{className:"ampm-buttons",children:[g.jsx("button",{type:"button",className:`ampm-btn ${n==="AM"?"active":""}`,onClick:()=>s("AM"),children:"AM"}),g.jsx("button",{type:"button",className:`ampm-btn ${n==="PM"?"active":""}`,onClick:()=>s("PM"),children:"PM"})]})]})}),$9=({pickupAddress:r,dropoffAddress:e,setPickupAddress:n,setDropoffAddress:s,onSelectInMap:o,onReservar:c,onUbicacionActual:f,activeMode:m,horaValue:p,onHoraChange:y,ampm:T,onAmpmChange:S,markers:w,setMarkers:L})=>{const z=ie=>{const ne=ie.target.value;n(ne),ne===""&&w?.pickup&&(w.pickup.setMap(null),L(oe=>({...oe,pickup:null})))},K=ie=>{const ne=ie.target.value;s(ne),ne===""&&w?.dropoff&&(w.dropoff.setMap(null),L(oe=>({...oe,dropoff:null})))},U=()=>{n(""),w?.pickup&&(w.pickup.setMap(null),L(ie=>({...ie,pickup:null})))},ee=()=>{s(""),w?.dropoff&&(w.dropoff.setMap(null),L(ie=>({...ie,dropoff:null})))};return g.jsxs("div",{className:"form programada-form",children:[g.jsxs("div",{className:"input-wrapper",children:[g.jsx("label",{children:"Lugar de recojo"}),g.jsx("input",{type:"text",className:"input",placeholder:"Escribe o selecciona en el mapa",value:r,id:"pickup",onChange:z}),g.jsx("span",{className:"clear-input",onClick:U,children:""})]}),g.jsxs("button",{type:"button",className:`select-map-btn ${m==="pickup"?"active-mode":""}`,onClick:()=>o("pickup"),children:[g.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"}),g.jsx("path",{d:"M12 2v2M12 18v2M4 10h2M18 10h2"})]}),g.jsx("span",{children:"Seleccionar en mapa"})]}),g.jsxs("button",{type:"button",className:"current-location-btn",onClick:ie=>f(ie.currentTarget),children:[g.jsxs("svg",{className:"location-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),g.jsx("span",{children:"Usar mi ubicacin actual"})]}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx("label",{children:"Destino final"}),g.jsx("input",{type:"text",className:"input",placeholder:"Escribe o selecciona en el mapa",value:e,id:"dropoff",onChange:K}),g.jsx("span",{className:"clear-input",onClick:ee,children:""})]}),g.jsxs("button",{type:"button",className:`select-map-btn ${m==="dropoff"?"active-mode":""}`,onClick:()=>o("dropoff"),children:[g.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"}),g.jsx("path",{d:"M12 2v2M12 18v2M4 10h2M18 10h2"})]}),g.jsx("span",{children:"Seleccionar en mapa"})]}),g.jsxs("div",{className:"row-grid",children:[g.jsxs("div",{className:"input-wrapper",children:[g.jsx("label",{children:"Fecha del viaje"}),g.jsx("input",{type:"date",className:"input",id:"progFecha"})]}),g.jsx(zT,{value:p,onChange:y,ampm:T,onAmpmChange:S,id:"progHoraInput"}),g.jsx("input",{type:"hidden",id:"progHoraInicio"})]}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx("label",{children:"Nmero de pasajeros (mx. 6)"}),g.jsx("input",{type:"number",min:"1",max:"6",defaultValue:"1",className:"input",id:"progPax"}),g.jsx("span",{className:"clear-input","data-target":"progPax",children:""})]}),g.jsxs("div",{className:"meta",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Distancia estimada:"})," ",g.jsx("span",{id:"progDistance",children:""})]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Precio estimado:"})," ",g.jsx("span",{className:"price",id:"progPrice",children:"S/ 0.00"})]})]}),g.jsx("div",{className:"actions",children:g.jsx("button",{type:"button",className:"btn success btn-block",id:"progReserveBtn",onClick:c,children:"Reservar"})})]})},X9=({horasAddress:r,setHorasAddress:e,onSelectInMap:n,onReservar:s,onUbicacionActual:o,activeMode:c,horaValue:f,onHoraChange:m,ampm:p,onAmpmChange:y,markers:T,setMarkers:S})=>{const w=z=>{const K=z.target.value;e(K),K===""&&T?.horas&&(T.horas.setMap(null),S(U=>({...U,horas:null})))},L=()=>{e(""),T?.horas&&(T.horas.setMap(null),S(z=>({...z,horas:null})))};return g.jsxs("div",{className:"form horas-form",children:[g.jsxs("div",{className:"input-wrapper",children:[g.jsx("label",{children:"Lugar de recojo"}),g.jsx("input",{type:"text",className:"input",placeholder:"Escribe o selecciona en el mapa",value:r,id:"horasRecojo",onChange:w}),g.jsx("span",{className:"clear-input",onClick:L,children:""})]}),g.jsxs("button",{type:"button",className:`select-map-btn ${c==="horas"?"active-mode":""}`,onClick:()=>n("horas"),children:[g.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"}),g.jsx("path",{d:"M12 2v2M12 18v2M4 10h2M18 10h2"})]}),g.jsx("span",{children:"Seleccionar en mapa"})]}),g.jsxs("button",{type:"button",className:"current-location-btn",onClick:z=>o(z.currentTarget),children:[g.jsxs("svg",{className:"location-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),g.jsx("span",{children:"Usar mi ubicacin actual"})]}),g.jsxs("div",{className:"row-grid",children:[g.jsxs("div",{className:"input-wrapper",children:[g.jsx("label",{children:"Fecha del servicio"}),g.jsx("input",{type:"date",className:"input",id:"horasFecha"})]}),g.jsx(zT,{value:f,onChange:m,ampm:p,onAmpmChange:y,id:"horasHoraInput"}),g.jsx("input",{type:"hidden",id:"horasHoraInicio"})]}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx("label",{children:"Horas a contratar"}),g.jsxs("select",{className:"input",id:"horasCantidad",children:[g.jsx("option",{value:"1",selected:!0,children:"1 hora"}),g.jsx("option",{value:"2",children:"2 horas"}),g.jsx("option",{value:"3",children:"3 horas"}),g.jsx("option",{value:"4",children:"4 horas"}),g.jsx("option",{value:"5",children:"5 horas"}),g.jsx("option",{value:"6",children:"6 horas"}),g.jsx("option",{value:"7",children:"7 horas"}),g.jsx("option",{value:"8",children:"8 horas"}),g.jsx("option",{value:"9",children:"9 horas"}),g.jsx("option",{value:"10",children:"10 horas"}),g.jsx("option",{value:"11",children:"11 horas"}),g.jsx("option",{value:"12",children:"12 horas"})]})]}),g.jsxs("div",{className:"input-wrapper",children:[g.jsx("label",{children:"Nmero de pasajeros (mx. 6)"}),g.jsx("input",{type:"number",min:"1",max:"6",defaultValue:"1",className:"input",id:"horasPax"}),g.jsx("span",{className:"clear-input","data-target":"horasPax",children:""})]}),g.jsx("div",{className:"meta",children:g.jsxs("div",{children:[g.jsx("strong",{children:"Precio estimado:"})," ",g.jsx("span",{className:"price",id:"horasPrice",children:"S/ 38.00"})]})}),g.jsx("div",{className:"actions",children:g.jsx("button",{type:"button",className:"btn success btn-block",id:"horasReserveBtn",onClick:s,children:"Reservar"})})]})},mg="51904635462",W9="AIzaSyCP3jgrVjb4nKEoiJM9-yPaM30hPgKmWls",J9=({onMapReady:r,onMapClick:e,selectedInput:n})=>{const s=j.useRef(null),o=j.useRef(null),c=j.useRef(null),f=j.useRef(null);return j.useEffect(()=>{if(window.initMap=function(){if(!o.current)return;const m={lat:-5.1945,lng:-80.6328},p=new window.google.maps.Map(o.current,{center:m,zoom:11,styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]}],mapTypeControl:!1,fullscreenControl:!0,streetViewControl:!1});s.current=p,window.map=p,navigator.geolocation?navigator.geolocation.getCurrentPosition(y=>{const T={lat:y.coords.latitude,lng:y.coords.longitude};p.setCenter(T),p.setZoom(15),f.current&&f.current.setMap(null),f.current=new window.google.maps.Marker({position:T,map:p,title:"Tu ubicacin",icon:{url:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png",scaledSize:new window.google.maps.Size(30,30)},label:{}})},y=>{console.log("No se pudo obtener la ubicacin:",y),p.setCenter(m)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):(console.log("Geolocalizacin no soportada"),p.setCenter(m)),r&&r(p)},document.querySelector('script[src*="maps.googleapis"]'))window.google&&window.initMap();else{const m=document.createElement("script");m.src=`https://maps.googleapis.com/maps/api/js?key=${W9}&libraries=places&callback=initMap`,m.async=!0,m.defer=!0,document.head.appendChild(m)}return()=>{f.current&&f.current.setMap(null)}},[]),j.useEffect(()=>{if(!(!s.current||!window.google))return c.current&&window.google.maps.event.removeListener(c.current),n?(s.current.setOptions({draggableCursor:"crosshair"}),c.current=s.current.addListener("click",m=>{const p=m.latLng.lat(),y=m.latLng.lng(),T={lat:p,lng:y};new window.google.maps.Geocoder().geocode({location:T},(w,L)=>{if(L==="OK"&&w[0]){const z=w[0].formatted_address,K=w[0].name||null;e&&e(n,z,T,K)}else alert("No se pudo obtener la direccin")}),s.current.setOptions({draggableCursor:null})})):s.current&&s.current.setOptions({draggableCursor:null}),()=>{c.current&&window.google.maps.event.removeListener(c.current)}},[n,e]),g.jsx("div",{ref:o,style:{width:"100%",height:"100%"}})},Z9=({onClose:r})=>g.jsx("div",{className:"modal",style:{display:"block"},onClick:r,children:g.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"modal-header",children:[g.jsx("span",{className:"modal-close",onClick:r,children:""}),g.jsx("div",{className:"modal-icon",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),g.jsx("h3",{children:"Reserva de un punto a punto"})]}),g.jsxs("div",{className:"modal-body",children:[g.jsx("p",{children:"Este tipo de reserva te permite programar un viaje con:"}),g.jsx("p",{className:"modal-mensaje",children:" Destino especfico (puede ser fuera de Piura)"}),g.jsx("p",{className:"modal-mensaje",children:" Fecha y hora exacta"}),g.jsx("p",{className:"modal-mensaje",children:" Tarifa segn kilometraje"}),g.jsx("p",{className:"modal-consulta",children:"El precio se calcula en base a la distancia y nmero de pasajeros."}),g.jsx("p",{className:"modal-consulta",children:"Mnimo 30 minutos de anticipacin."}),g.jsx("button",{className:"btn modal-close-btn",onClick:r,children:"Entendido"})]})]})}),ex=({onClose:r})=>g.jsx("div",{className:"modal",style:{display:"block"},onClick:r,children:g.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"modal-header",children:[g.jsx("span",{className:"modal-close",onClick:r,children:""}),g.jsx("div",{className:"modal-icon",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),g.jsx("h3",{children:"Reserva por horas"})]}),g.jsxs("div",{className:"modal-body",children:[g.jsx("p",{children:"Ideal para recorridos dentro de la ciudad:"}),g.jsx("p",{className:"modal-mensaje",children:" Contratas el vehculo por horas"}),g.jsx("p",{className:"modal-mensaje",children:" Vlido solo en zonas urbanas"}),g.jsx("p",{className:"modal-mensaje",children:" Mximo 20 km por hora"}),g.jsx("p",{className:"modal-consulta",children:"Pasados los 30 minutos se considera hora completa."}),g.jsx("p",{className:"modal-consulta",children:"Kilmetro adicional: S/3.00"}),g.jsx("button",{className:"btn modal-close-btn",onClick:r,children:"Entendido"})]})]})}),tx=({onClose:r})=>{const e=()=>{window.open(`https://wa.me/${mg.replace(/\D/g,"")}?text=${encodeURIComponent("Enva este mensaje para confirmar tu reserva.")}`,"_blank"),r()};return g.jsx("div",{className:"modal",style:{display:"block"},onClick:r,children:g.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),children:[g.jsxs("div",{className:"modal-header",children:[g.jsx("span",{className:"modal-close",onClick:r,children:""}),g.jsx("div",{className:"modal-icon",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),g.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),g.jsx("h3",{children:"Reserva confirmada!"})]}),g.jsxs("div",{className:"modal-body",children:[g.jsx("p",{children:"Tu reserva se ha realizado correctamente."}),g.jsx("p",{className:"modal-mensaje",children:"Nos estaremos poniendo en contacto contigo en la brevedad del tiempo para confirmar los detalles."}),g.jsx("p",{className:"modal-consulta",children:"Tienes alguna consulta? Escrbenos por WhatsApp:"}),g.jsx("p",{className:"modal-consulta",children:"La tarifa no incluye peajes, estacionamiento ni paradas adicionales."}),g.jsx("p",{className:"modal-consulta",children:"El tiempo de cortesa es de 5 minutos, pasado el tiempo se genera un cargo adicional."}),g.jsx("p",{className:"modal-consulta",children:"Cada pasajero, incluidos nios, ocupan un asiento y deben ser declarados al momento de la reserva."}),g.jsxs("button",{className:"modal-whatsapp-btn",onClick:e,children:[g.jsx("img",{src:"/img/whatsapp-icon.png",alt:"WhatsApp",className:"modal-whatsapp-icon"}),"Contactar por WhatsApp"]})]})]})})},nx=({onClose:r})=>{const e=()=>{window.open(`https://wa.me/${mg.replace(/\D/g,"")}?text=${encodeURIComponent("Enva este mensaje para confirmar tu reserva.")}`,"_blank"),r()};return g.jsx("div",{className:"modal",style:{display:"block"},onClick:r,children:g.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),children:[g.jsxs("div",{className:"modal-header",children:[g.jsx("span",{className:"modal-close",onClick:r,children:""}),g.jsx("div",{className:"modal-icon",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),g.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),g.jsx("h3",{children:"Reserva confirmada!"})]}),g.jsxs("div",{className:"modal-body",children:[g.jsx("p",{children:"Tu reserva por horas se ha realizado correctamente."}),g.jsx("p",{className:"modal-mensaje",children:"Nos estaremos poniendo en contacto contigo en la brevedad del tiempo para confirmar los detalles."}),g.jsx("p",{className:"modal-consulta",children:"Tienes alguna consulta? Escrbenos por WhatsApp:"}),g.jsxs("button",{className:"modal-whatsapp-btn",onClick:e,children:[g.jsx("img",{src:"/img/whatsapp-icon.png",alt:"WhatsApp",className:"modal-whatsapp-icon"}),"Contactar por WhatsApp"]})]})]})})},Pm=[[0,10,13],[1,10,13],[2,10,13],[3,10,13],[4,15,18],[5,19,23],[6,23,27],[7,27,31],[8,31,35],[9,35,39],[10,38,42],[11,41,45],[12,43,48],[13,45,50],[14,47,52],[15,40,45],[16,43,48],[17,46,51],[18,48,53],[19,51,56],[20,51,56],[21,54,61],[22,56,63],[23,59,66],[24,61,68],[25,64,71],[26,67,74],[27,69,76],[28,72,79],[29,74,81],[30,77,84],[31,75,85],[32,78,88],[33,80,90],[34,83,93],[35,85,95],[36,88,98],[37,90,100],[38,92,102],[39,95,105],[40,97,117],[41,94,114],[42,97,117],[43,99,119],[44,101,121],[45,104,124],[46,106,126],[47,108,128],[48,111,131],[49,113,133],[50,115,135],[51,111,131],[52,113,133],[53,115,135],[54,118,138],[55,120,140],[56,122,142],[57,124,144],[58,126,146],[59,128,148],[60,131,151],[61,133,153],[62,135,155],[63,137,157],[64,139,159],[65,141,161],[66,144,164],[67,146,166],[68,148,168],[69,150,170],[70,152,172],[71,154,174],[72,157,177],[73,159,179],[74,161,181],[75,163,183],[76,165,185],[77,168,188],[78,170,190],[79,172,192],[80,174,194],[81,176,196],[82,178,198],[83,181,201],[84,183,203],[85,185,205],[86,187,207],[87,189,209],[88,191,211],[89,194,214],[90,196,216],[91,198,218],[92,200,220],[93,202,222],[94,205,225],[95,207,227],[96,209,229],[97,211,231],[98,213,233],[99,215,235],[100,218,238],[101,207,227],[102,209,229],[103,211,231],[104,213,233],[105,215,235],[106,217,237],[107,219,239],[108,221,241],[109,223,243],[110,225,245],[111,227,247],[112,229,249],[113,231,251],[114,233,253],[115,236,256],[116,238,258],[117,240,260],[118,242,262],[119,244,264],[120,246,266],[121,248,268],[122,250,270],[123,252,272],[124,254,274],[125,256,276],[126,258,278],[127,260,280],[128,262,282],[129,264,284],[130,266,286],[131,268,288],[132,270,290],[133,272,292],[134,274,294],[135,276,296],[136,279,299],[137,281,301],[138,283,303],[139,285,305],[140,287,307],[141,289,309],[142,291,311],[143,293,313],[144,295,315],[145,297,317],[146,299,319],[147,301,321],[148,303,323],[149,305,325],[150,307,327],[151,290,310],[152,292,312],[153,294,314],[154,296,316],[155,298,318],[156,300,320],[157,301,321],[158,303,323],[159,305,325],[160,307,327],[161,309,329],[162,311,331],[163,313,333],[164,315,335],[165,317,337],[166,319,339],[167,321,341],[168,323,343],[169,324,344],[170,326,346],[171,328,348],[172,330,350],[173,332,352],[174,334,354],[175,336,356],[176,338,358],[177,340,360],[178,342,362],[179,344,364],[180,346,366],[181,348,368],[182,349,369],[183,351,371],[184,353,373],[185,355,375],[186,357,377],[187,359,379],[188,361,381],[189,363,383],[190,365,385],[191,367,387],[192,369,389],[193,371,391],[194,372,392],[195,374,394],[196,376,396],[197,378,398],[198,380,400],[199,382,402],[200,384,414],[201,386,416],[202,388,418],[203,390,420],[204,392,422],[205,394,424],[206,396,426],[207,397,427],[208,399,429],[209,401,431],[210,403,433],[211,405,435],[212,407,437],[213,409,439],[214,411,441],[215,413,443],[216,415,445],[217,417,447],[218,419,449],[219,420,450],[220,422,452],[221,424,454],[222,426,456],[223,428,458],[224,430,460],[225,432,462],[226,434,464],[227,436,466],[228,438,468],[229,440,470],[230,442,472],[231,444,474],[232,445,475],[233,447,477],[234,449,479],[235,451,481],[236,453,483],[237,455,485],[238,457,487],[239,459,489],[240,461,491],[241,463,493],[242,465,495],[243,467,497],[244,468,498],[245,470,500],[246,472,502],[247,474,504],[248,476,506],[249,478,508],[250,480,510],[251,482,512],[252,484,514],[253,486,516],[254,488,518],[255,490,520],[256,492,522],[257,493,523],[258,495,525],[259,497,527],[260,499,529],[261,501,531],[262,503,533],[263,505,535],[264,507,537],[265,509,539],[266,511,541],[267,513,543],[268,515,545],[269,516,546],[270,518,548],[271,520,550],[272,522,552],[273,524,554],[274,526,556],[275,528,558],[276,530,560],[277,532,562],[278,534,564],[279,536,566],[280,538,568],[281,540,570],[282,541,571],[283,543,573],[284,545,575],[285,547,577],[286,549,579],[287,551,581],[288,553,583],[289,555,585],[290,557,587],[291,559,589],[292,561,591],[293,563,593],[294,564,594],[295,566,596],[296,568,598],[297,570,600],[298,572,602],[299,574,604],[300,576,606],[301,578,608],[302,580,610],[303,582,612],[304,584,614],[305,586,616],[306,588,618],[307,589,619],[308,591,621],[309,593,623],[310,595,625],[311,597,627],[312,599,629],[313,601,631],[314,603,633],[315,605,635],[316,607,637],[317,609,639],[318,611,641],[319,612,642],[320,614,644],[321,616,646],[322,618,648],[323,620,650],[324,622,652],[325,624,654],[326,626,656],[327,628,658],[328,630,660],[329,632,662],[330,634,664],[331,636,666],[332,637,667],[333,639,669],[334,641,671],[335,643,673],[336,645,675],[337,647,677],[338,649,679],[339,651,681],[340,653,683],[341,655,685],[342,657,687],[343,659,689],[344,660,690],[345,662,692],[346,664,694],[347,666,696],[348,668,698],[349,670,700],[350,672,702],[351,674,704],[352,676,706],[353,678,708],[354,680,710],[355,682,712],[356,684,714],[357,685,715],[358,687,717],[359,689,719],[360,691,721],[361,693,723],[362,695,725],[363,697,727],[364,699,729],[365,701,731],[366,703,733],[367,705,735],[368,707,737],[369,708,738],[370,710,740],[371,712,742],[372,714,744],[373,716,746],[374,718,748],[375,720,750],[376,722,752],[377,724,754],[378,726,756],[379,728,758],[380,730,760],[381,732,762],[382,733,763],[383,735,765],[384,737,767],[385,739,769],[386,741,771],[387,743,773],[388,745,775],[389,747,777],[390,749,779],[391,751,781],[392,753,783],[393,755,785],[394,756,786],[395,758,788],[396,760,790],[397,762,792],[398,764,794],[399,766,796],[400,768,798],[401,770,800],[402,772,802],[403,774,804],[404,776,806],[405,778,808],[406,780,810],[407,781,811],[408,783,813],[409,785,815],[410,787,817],[411,789,819],[412,791,821],[413,793,823],[414,795,825],[415,797,827],[416,799,829],[417,801,831],[418,803,833],[419,804,834],[420,806,836],[421,808,838],[422,810,840],[423,812,842],[424,814,844],[425,816,846],[426,818,848],[427,820,850],[428,822,852],[429,824,854],[430,826,856],[431,828,858],[432,829,859],[433,831,861],[434,833,863],[435,835,865],[436,837,867],[437,839,869],[438,841,871],[439,843,873],[440,845,875],[441,847,877],[442,849,879],[443,851,881],[444,852,882],[445,854,884],[446,856,886],[447,858,888],[448,860,890],[449,862,892],[450,864,894],[451,866,896],[452,868,898],[453,870,900],[454,872,902],[455,874,904],[456,876,906],[457,877,907],[458,879,909],[459,881,911],[460,883,913],[461,885,915],[462,887,917],[463,889,919],[464,891,921],[465,893,923],[466,895,925],[467,897,927],[468,899,929],[469,900,930],[470,902,932],[471,904,934],[472,906,936],[473,908,938],[474,910,940],[475,912,942],[476,914,944],[477,916,946],[478,918,948],[479,920,950],[480,922,952],[481,924,954],[482,925,955],[483,927,957],[484,929,959],[485,931,961],[486,933,963],[487,935,965],[488,937,967],[489,939,969],[490,941,971],[491,943,973],[492,945,975],[493,947,977],[494,948,978],[495,950,980],[496,952,982],[497,954,984],[498,956,986],[499,958,988],[500,960,990],[501,962,992],[502,964,994],[503,966,996],[504,968,998],[505,970,1e3],[506,972,1002],[507,973,1003],[508,975,1005],[509,977,1007],[510,979,1009],[511,981,1011],[512,983,1013],[513,985,1015],[514,987,1017],[515,989,1019],[516,991,1021],[517,993,1023],[518,995,1025],[519,996,1026],[520,998,1028],[521,1e3,1030],[522,1002,1032],[523,1004,1034],[524,1006,1036],[525,1008,1038],[526,1010,1040],[527,1012,1042],[528,1014,1044],[529,1016,1046],[530,1018,1048],[531,1020,1050],[532,1021,1051],[533,1023,1053],[534,1025,1055],[535,1027,1057],[536,1029,1059],[537,1031,1061],[538,1033,1063],[539,1035,1065],[540,1037,1067],[541,1039,1069],[542,1041,1071],[543,1043,1073],[544,1044,1074],[545,1046,1076],[546,1048,1078],[547,1050,1080],[548,1052,1082],[549,1054,1084],[550,1056,1086],[551,1058,1088],[552,1060,1090],[553,1062,1092],[554,1064,1094],[555,1066,1096],[556,1068,1098],[557,1069,1099],[558,1071,1101],[559,1073,1103],[560,1075,1105],[561,1077,1107],[562,1079,1109],[563,1081,1111],[564,1083,1113],[565,1085,1115],[566,1087,1117],[567,1089,1119],[568,1091,1121],[569,1092,1122],[570,1094,1124],[571,1096,1126],[572,1098,1128],[573,1100,1130],[574,1102,1132],[575,1104,1134],[576,1106,1136],[577,1108,1138],[578,1110,1140],[579,1112,1142],[580,1114,1144],[581,1116,1146],[582,1117,1147],[583,1119,1149],[584,1121,1151],[585,1123,1153],[586,1125,1155],[587,1127,1157],[588,1129,1159],[589,1131,1161],[590,1133,1163],[591,1135,1165],[592,1137,1167],[593,1139,1169],[594,1140,1170],[595,1142,1172],[596,1144,1174],[597,1146,1176],[598,1148,1178],[599,1150,1180],[600,1152,1182],[601,1154,1184],[602,1156,1186],[603,1158,1188],[604,1160,1190],[605,1162,1192],[606,1164,1194],[607,1165,1195],[608,1167,1197],[609,1169,1199],[610,1171,1201],[611,1173,1203],[612,1175,1205],[613,1177,1207],[614,1179,1209],[615,1181,1211],[616,1183,1213],[617,1185,1215],[618,1187,1217],[619,1188,1218],[620,1190,1220],[621,1192,1222],[622,1194,1224],[623,1196,1226],[624,1198,1228],[625,1200,1230],[626,1202,1232],[627,1204,1234],[628,1206,1236],[629,1208,1238],[630,1210,1240],[631,1212,1242],[632,1213,1243],[633,1215,1245],[634,1217,1247],[635,1219,1249],[636,1221,1251],[637,1223,1253],[638,1225,1255],[639,1227,1257],[640,1229,1259],[641,1231,1261],[642,1233,1263],[643,1235,1265],[644,1236,1266],[645,1238,1268],[646,1240,1270],[647,1242,1272],[648,1244,1274],[649,1246,1276],[650,1248,1278],[651,1250,1280],[652,1252,1282],[653,1254,1284],[654,1256,1286],[655,1258,1288],[656,1260,1290],[657,1261,1291],[658,1263,1293],[659,1265,1295],[660,1267,1297],[661,1269,1299],[662,1271,1301],[663,1273,1303],[664,1275,1305],[665,1277,1307],[666,1279,1309],[667,1281,1311],[668,1283,1313],[669,1284,1314],[670,1286,1316],[671,1288,1318],[672,1290,1320],[673,1292,1322],[674,1294,1324],[675,1296,1326],[676,1298,1328],[677,1300,1330],[678,1302,1332],[679,1304,1334],[680,1306,1336],[681,1308,1338],[682,1309,1339],[683,1311,1341],[684,1313,1343],[685,1315,1345],[686,1317,1347],[687,1319,1349],[688,1321,1351],[689,1323,1353],[690,1325,1355],[691,1327,1357],[692,1329,1359],[693,1331,1361],[694,1332,1362],[695,1334,1364],[696,1336,1366],[697,1338,1368],[698,1340,1370],[699,1342,1372],[700,1344,1374],[701,1346,1376],[702,1348,1378],[703,1350,1380],[704,1352,1382],[705,1354,1384],[706,1356,1386],[707,1357,1387],[708,1359,1389],[709,1361,1391],[710,1363,1393],[711,1365,1395],[712,1367,1397],[713,1369,1399],[714,1371,1401],[715,1373,1403],[716,1375,1405],[717,1377,1407],[718,1379,1409],[719,1380,1410],[720,1382,1412],[721,1384,1414],[722,1386,1416],[723,1388,1418],[724,1390,1420],[725,1392,1422],[726,1394,1424],[727,1396,1426],[728,1398,1428],[729,1400,1430],[730,1402,1432],[731,1404,1434],[732,1405,1435],[733,1407,1437],[734,1409,1439],[735,1411,1441],[736,1413,1443],[737,1415,1445],[738,1417,1447],[739,1419,1449],[740,1421,1451],[741,1423,1453],[742,1425,1455],[743,1427,1457],[744,1428,1458],[745,1430,1460],[746,1432,1462],[747,1434,1464],[748,1436,1466],[749,1438,1468],[750,1440,1470],[751,1442,1472],[752,1444,1474],[753,1446,1476],[754,1448,1478],[755,1450,1480],[756,1452,1482],[757,1453,1483],[758,1455,1485],[759,1457,1487],[760,1459,1489],[761,1461,1491],[762,1463,1493],[763,1465,1495],[764,1467,1497],[765,1469,1499],[766,1471,1501],[767,1473,1503],[768,1475,1505],[769,1476,1506],[770,1478,1508],[771,1480,1510],[772,1482,1512],[773,1484,1514],[774,1486,1516],[775,1488,1518],[776,1490,1520],[777,1492,1522],[778,1494,1524],[779,1496,1526],[780,1498,1528],[781,1500,1530],[782,1501,1531],[783,1503,1533],[784,1505,1535],[785,1507,1537],[786,1509,1539],[787,1511,1541],[788,1513,1543],[789,1515,1545],[790,1517,1547],[791,1519,1549],[792,1521,1551],[793,1523,1553],[794,1524,1554],[795,1526,1556],[796,1528,1558],[797,1530,1560],[798,1532,1562],[799,1534,1564],[800,1536,1566],[801,1538,1568],[802,1540,1570],[803,1542,1572],[804,1544,1574],[805,1546,1576],[806,1548,1578],[807,1549,1579],[808,1551,1581],[809,1553,1583],[810,1555,1585],[811,1557,1587],[812,1559,1589],[813,1561,1591],[814,1563,1593],[815,1565,1595],[816,1567,1597],[817,1569,1599],[818,1571,1601],[819,1572,1602],[820,1574,1604],[821,1576,1606],[822,1578,1608],[823,1580,1610],[824,1582,1612],[825,1584,1614],[826,1586,1616],[827,1588,1618],[828,1590,1620],[829,1592,1622],[830,1594,1624],[831,1596,1626],[832,1597,1627],[833,1599,1629],[834,1601,1631],[835,1603,1633],[836,1605,1635],[837,1607,1637],[838,1609,1639],[839,1611,1641],[840,1613,1643],[841,1615,1645],[842,1617,1647],[843,1619,1649],[844,1620,1650],[845,1622,1652],[846,1624,1654],[847,1626,1656],[848,1628,1658],[849,1630,1660],[850,1632,1662],[851,1634,1664],[852,1636,1666],[853,1638,1668],[854,1640,1670],[855,1642,1672],[856,1644,1674],[857,1645,1675],[858,1647,1677],[859,1649,1679],[860,1651,1681],[861,1653,1683],[862,1655,1685],[863,1657,1687],[864,1659,1689],[865,1661,1691],[866,1663,1693],[867,1665,1695],[868,1667,1697],[869,1668,1698],[870,1670,1700],[871,1672,1702],[872,1674,1704],[873,1676,1706],[874,1678,1708],[875,1680,1710],[876,1682,1712],[877,1684,1714],[878,1686,1716],[879,1688,1718],[880,1690,1720],[881,1692,1722],[882,1693,1723],[883,1695,1725],[884,1697,1727],[885,1699,1729],[886,1701,1731],[887,1703,1733],[888,1705,1735],[889,1707,1737],[890,1709,1739],[891,1711,1741],[892,1713,1743],[893,1715,1745],[894,1716,1746],[895,1718,1748],[896,1720,1750],[897,1722,1752],[898,1724,1754],[899,1726,1756],[900,1728,1758],[901,1730,1760],[902,1732,1762],[903,1734,1764],[904,1736,1766],[905,1738,1768],[906,1740,1770],[907,1741,1771],[908,1743,1773],[909,1745,1775],[910,1747,1777],[911,1749,1779],[912,1751,1781],[913,1753,1783],[914,1755,1785],[915,1757,1787],[916,1759,1789],[917,1761,1791],[918,1763,1793],[919,1764,1794],[920,1766,1796],[921,1768,1798],[922,1770,1800],[923,1772,1802],[924,1774,1804],[925,1776,1806],[926,1778,1808],[927,1780,1810],[928,1782,1812],[929,1784,1814],[930,1786,1816],[931,1788,1818],[932,1789,1819],[933,1791,1821],[934,1793,1823],[935,1795,1825],[936,1797,1827],[937,1799,1829],[938,1801,1831],[939,1803,1833],[940,1805,1835],[941,1807,1837],[942,1809,1839],[943,1811,1841],[944,1812,1842],[945,1814,1844],[946,1816,1846],[947,1818,1848],[948,1820,1850],[949,1822,1852],[950,1824,1854],[951,1826,1856],[952,1828,1858],[953,1830,1860],[954,1832,1862],[955,1834,1864],[956,1836,1866],[957,1837,1867],[958,1839,1869],[959,1841,1871],[960,1843,1873],[961,1845,1875],[962,1847,1877],[963,1849,1879],[964,1851,1881],[965,1853,1883],[966,1855,1885],[967,1857,1887],[968,1859,1889],[969,1860,1890],[970,1862,1892],[971,1864,1894],[972,1866,1896],[973,1868,1898],[974,1870,1900],[975,1872,1902],[976,1874,1904],[977,1876,1906],[978,1878,1908],[979,1880,1910],[980,1882,1912],[981,1884,1914],[982,1885,1915],[983,1887,1917],[984,1889,1919],[985,1891,1921],[986,1893,1923],[987,1895,1925],[988,1897,1927],[989,1899,1929],[990,1901,1931],[991,1903,1933],[992,1905,1935],[993,1907,1937],[994,1908,1938],[995,1910,1940],[996,1912,1942],[997,1914,1944],[998,1916,1946],[999,1918,1948],[1e3,1920,1950]],ix=[[1,38,43],[2,77,82],[3,108,113],[4,143,148],[5,179,184],[6,207,212],[7,242,247],[8,276,281],[9,300,305],[10,333,338],[11,366,371],[12,384,389]];function rx(r){return r-Math.floor(r)>=.5?Math.ceil(r):Math.floor(r)}function P0(r,e){if(e>6)throw new Error("El nmero mximo de pasajeros es 6");const n=e<=4?1:2,s=rx(r);if(s>1e3)return Pm[Pm.length-1][n];const o=Pm.find(c=>c[0]===s);return o?o[n]:null}function sx(r,e){if(e>6)throw new Error("El nmero mximo de pasajeros es 6");const n=e<=4?1:2,s=ix.find(o=>o[0]===r);return s?s[n]:null}const ax=()=>{H9(),q9(),G9();const{obtenerUbicacionActual:r}=Y9(),e=K9(),{guardarReservaProgramada:n,guardarReservaHoras:s}=Q9(),{currentUser:o}=LT(),[c,f]=j.useState(""),[m,p]=j.useState(null),[y,T]=j.useState(null),[S,w]=j.useState(!1),[L,z]=j.useState(""),[K,U]=j.useState(""),[ee,ie]=j.useState(""),[ne,oe]=j.useState(null),[ce,ve]=j.useState(null),[I,R]=j.useState(null),[x,k]=j.useState({pickup:null,dropoff:null,horas:null}),{ampm:D,setAmpm:V,formatearHoraParaFirebase:C}=j0(),{ampm:Oe,setAmpm:Pe}=j0(),[Q,se]=j.useState(""),[ge,Le]=j.useState(""),Me=j.useRef(null),O=j.useRef(null),$=j.useRef({pickup:null,dropoff:null,horas:null}),ae=()=>{O.current&&(O.current.setMap(null),O.current=null)},le=()=>{console.log(" Limpiando todo al cambiar de pestaa"),z(""),U(""),ie(""),oe(null),ve(null),R(null),se(""),Le(""),V("AM"),Pe("AM"),Object.values(x).forEach(de=>{de&&de.setMap(null)}),k({pickup:null,dropoff:null,horas:null}),ae(),["pickup","dropoff","horasRecojo","progHoraInput","horasHoraInput"].forEach(de=>{const Se=document.getElementById(de);Se&&(Se.value="")});const Ce=document.getElementById("progDistance"),Ie=document.getElementById("progPrice"),Re=document.getElementById("horasPrice");Ce&&(Ce.textContent=""),Ie&&(Ie.textContent="S/ 0.00"),Re&&(Re.textContent="S/ 38.00")},Ae=pe=>{if(!o){w(!0),document.body.style.overflow="hidden";return}le(),f(pe),pe==="programada"?e.mostrarExplicacionProgramada():e.mostrarExplicacionPorHoras()},Te=(pe,Ce,Ie,Re=null)=>{if(!Me.current||!window.google)return;console.log(` Agregando marcador tipo: ${pe}`,Ce),x[pe]&&(console.log(` Eliminando marcador anterior tipo: ${pe}`),x[pe].setMap(null));const Se=Re||(pe==="pickup"?"Punto de recojo":pe==="dropoff"?"Destino final":"Punto de recojo (horas)"),He={url:pe==="pickup"?"https://maps.google.com/mapfiles/ms/icons/green-dot.png":pe==="dropoff"?"https://maps.google.com/mapfiles/ms/icons/red-dot.png":"https://maps.google.com/mapfiles/ms/icons/blue-dot.png",scaledSize:new window.google.maps.Size(40,40)},Bt={text:pe==="pickup"?"A":pe==="dropoff"?"B":"H",color:"white",fontSize:"14px",fontWeight:"bold"},cn={position:Ce,map:Me.current,title:Se,icon:He,label:Bt},mt=new window.google.maps.Marker(cn);k(On=>({...On,[pe]:mt})),Me.current.panTo(Ce),Me.current.setZoom(15)},Be=(pe,Ce)=>{if(!Me.current||!window.google||!pe||!Ce)return;new window.google.maps.DirectionsService().route({origin:pe,destination:Ce,travelMode:window.google.maps.TravelMode.DRIVING,provideRouteAlternatives:!0},(Re,de)=>{if(de==="OK"){let Se=Re.routes[0],He=Re.routes[0].legs[0].distance.value;Re.routes.forEach(un=>{const $n=un.legs[0].distance.value;$n<He&&(He=$n,Se=un)}),O.current=new window.google.maps.DirectionsRenderer({map:Me.current,suppressMarkers:!0,polylineOptions:{strokeColor:"#0d6efd",strokeWeight:6,strokeOpacity:1}}),O.current.setDirections({...Re,routes:[Se]});const Bt=He/1e3,cn=document.getElementById("progPax");let mt=cn&&parseInt(cn.value)||1;mt>6&&(mt=6),mt<1&&(mt=1);const On=document.getElementById("progDistance");On&&(On.textContent=Bt.toFixed(2)+" km");try{const un=P0(Bt,mt),$n=document.getElementById("progPrice");$n&&un&&($n.textContent=`S/ ${un}.00`,console.log(` Ruta ms corta: ${Bt}km, Pasajeros: ${mt}, Tarifa: S/ ${un}.00`))}catch(un){console.log("Error calculando tarifa:",un)}}else console.log(" Error calculando ruta:",de)})};j.useEffect(()=>{c==="programada"&&ne&&ce&&(console.log(" Trazando ruta por cambio en ubicaciones"),ae(),Be(ne,ce))},[ne,ce,c]),j.useEffect(()=>{if(c!=="programada")return;const pe=document.getElementById("progPax"),Ce=document.getElementById("progDistance"),Ie=document.getElementById("progPrice");if(!pe||!Ce||!Ie)return;const Re=()=>{const de=Ce.textContent;if(!de||de==="")return;const Se=de.match(/([\d.]+)/);if(!Se)return;const He=parseFloat(Se[0]);let Bt=parseInt(pe.value)||1;Bt>6&&(Bt=6),Bt<1&&(Bt=1);try{const cn=P0(He,Bt);cn&&(Ie.textContent=`S/ ${cn}.00`,console.log(` Tiempo real - Km: ${He}, Pasajeros: ${Bt}, Tarifa: S/ ${cn}.00`))}catch(cn){console.log("Error actualizando precio:",cn)}};return pe.addEventListener("change",Re),pe.addEventListener("input",Re),()=>{pe.removeEventListener("change",Re),pe.removeEventListener("input",Re)}},[c]),j.useEffect(()=>{if(c!=="porhoras")return;const pe=document.getElementById("horasPax"),Ce=document.getElementById("horasCantidad"),Ie=document.getElementById("horasPrice");if(!pe||!Ce||!Ie)return;const Re=()=>{const de=parseInt(Ce.value);let Se=parseInt(pe.value)||1;Se>6&&(Se=6),Se<1&&(Se=1);try{const He=sx(de,Se);He&&(Ie.textContent=`S/ ${He}.00`,console.log(` Tiempo real - Horas: ${de}, Pasajeros: ${Se}, Tarifa: S/ ${He}.00`))}catch(He){console.log("Error actualizando precio:",He)}};return pe.addEventListener("change",Re),pe.addEventListener("input",Re),Ce.addEventListener("change",Re),Re(),()=>{pe.removeEventListener("change",Re),pe.removeEventListener("input",Re),Ce.removeEventListener("change",Re)}},[c]),j.useEffect(()=>{if(!Me.current||!window.google)return;$.current.pickup&&window.google.maps.event.clearInstanceListeners($.current.pickup),$.current.dropoff&&window.google.maps.event.clearInstanceListeners($.current.dropoff),$.current.horas&&window.google.maps.event.clearInstanceListeners($.current.horas);const pe=document.getElementById("pickup");if(pe){const Re=new window.google.maps.places.Autocomplete(pe,{fields:["place_id","geometry","formatted_address","name"],componentRestrictions:{country:"pe"},types:["geocode","establishment"],bounds:new window.google.maps.LatLngBounds(new window.google.maps.LatLng(-5.5,-81.5),new window.google.maps.LatLng(-4.5,-80)),strictBounds:!0});Re.addListener("place_changed",()=>{const de=Re.getPlace();if(de?.geometry){const Se={lat:de.geometry.location.lat(),lng:de.geometry.location.lng()},He=de.name||de.formatted_address;z(He),oe(Se),Te("pickup",Se,He,de.name)}}),$.current.pickup=Re}const Ce=document.getElementById("dropoff");if(Ce){const Re=new window.google.maps.places.Autocomplete(Ce,{fields:["place_id","geometry","formatted_address","name"],componentRestrictions:{country:"pe"},types:["geocode","establishment"]});Re.addListener("place_changed",()=>{const de=Re.getPlace();if(de?.geometry){const Se={lat:de.geometry.location.lat(),lng:de.geometry.location.lng()},He=de.name||de.formatted_address;U(He),ve(Se),Te("dropoff",Se,He,de.name)}}),$.current.dropoff=Re}const Ie=document.getElementById("horasRecojo");if(Ie){const Re=new window.google.maps.places.Autocomplete(Ie,{fields:["place_id","geometry","formatted_address","name"],componentRestrictions:{country:"pe"},types:["geocode","establishment"],bounds:new window.google.maps.LatLngBounds(new window.google.maps.LatLng(-5.5,-81.5),new window.google.maps.LatLng(-4.5,-80)),strictBounds:!0});Re.addListener("place_changed",()=>{const de=Re.getPlace();if(de?.geometry){const Se={lat:de.geometry.location.lat(),lng:de.geometry.location.lng()},He=de.name||de.formatted_address;ie(He),R(Se),Te("horas",Se,He,de.name)}}),$.current.horas=Re}return()=>{$.current.pickup&&window.google.maps.event.clearInstanceListeners($.current.pickup),$.current.dropoff&&window.google.maps.event.clearInstanceListeners($.current.dropoff),$.current.horas&&window.google.maps.event.clearInstanceListeners($.current.horas)}},[Me.current,c]);const Tt=pe=>{Me.current=pe},ct=(pe,Ce,Ie,Re=null)=>{x[pe]&&x[pe].setMap(null),pe==="pickup"?(z(Ce),oe(Ie),Te("pickup",Ie,Ce,Re)):pe==="dropoff"?(U(Ce),ve(Ie),Te("dropoff",Ie,Ce,Re)):pe==="horas"&&(ie(Ce),R(Ie),Te("horas",Ie,Ce,Re)),p(null),T(null)},pi=pe=>{p(pe),T(pe)},Ir=async pe=>{const Ce=document.getElementById("pickup");try{const Ie=await r(Ce,pe,Me.current);Ie&&(z(Ie.address),oe(Ie.location),Te("pickup",Ie.location,Ie.address))}catch(Ie){console.log("Error en ubicacin actual:",Ie)}},xr=async pe=>{const Ce=document.getElementById("horasRecojo");try{const Ie=await r(Ce,pe,Me.current);Ie&&(ie(Ie.address),R(Ie.location),Te("horas",Ie.location,Ie.address))}catch(Ie){console.log("Error en ubicacin actual:",Ie)}},Nr=async()=>{const pe=document.getElementById("progFecha")?.value,Ce=parseInt(document.getElementById("progPax")?.value)||1;if(Ce<1||Ce>6){alert("El nmero de pasajeros debe ser entre 1 y 6");return}if(!ne||!ce){alert("Por favor selecciona punto de recojo y destino final");return}const Ie=C(Q,D),Re=document.getElementById("progDistance")?.textContent||"",de=document.getElementById("progPrice")?.textContent||"S/ 0.00",Se=`https://www.google.com/maps/dir/${ne.lat},${ne.lng}/${ce.lat},${ce.lng}`,He={tipoReserva:"programada",lugarRecojo:L,destino:K,fechaViaje:pe,horaInicio:Ie,horaOriginal:`${Q} ${D}`,pasajeros:Ce,distancia:Re,precio:de,recojoLat:ne.lat,recojoLng:ne.lng,destinoLat:ce.lat,destinoLng:ce.lng,mapsLink:Se};(await n(He)).success&&(e.mostrarConfirmacionProgramada(),le())},Dn=async()=>{const pe=document.getElementById("horasFecha")?.value,Ce=parseInt(document.getElementById("horasPax")?.value)||1,Ie=parseInt(document.getElementById("horasCantidad")?.value)||1;if(Ce<1||Ce>6){alert("El nmero de pasajeros debe ser entre 1 y 6");return}if(!I){alert("Por favor selecciona punto de recojo");return}const Re=C(ge,Oe),de=document.getElementById("horasPrice")?.textContent||"S/ 38.00",Se=`https://www.google.com/maps/search/?api=1&query=${I.lat},${I.lng}`,He={tipoReserva:"horas",lugarRecojo:ee,fechaServicio:pe,horaInicio:Re,horaOriginal:`${ge} ${Oe}`,horasContratadas:Ie,pasajeros:Ce,precio:de,recojoLat:I.lat,recojoLng:I.lng,mapsLink:Se};(await s(He)).success&&(e.mostrarConfirmacionHoras(),le())};return g.jsxs("section",{id:"reservas",className:"section",children:[g.jsxs("div",{className:"container",children:[g.jsx("h2",{className:"section-title",children:"Reservas"}),g.jsx("p",{className:"section-subtitle reveal",children:"Las reservas pueden realizarse en cualquier momento."}),g.jsxs("div",{className:"tab-container reveal",children:[g.jsx("button",{className:`tab-btn ${c==="programada"?"active":""}`,onClick:()=>Ae("programada"),children:"Reserva de punto a punto"}),g.jsx("button",{className:`tab-btn ${c==="porhoras"?"active":""}`,onClick:()=>Ae("porhoras"),children:"Reserva por horas"})]}),g.jsxs("div",{className:"grid",children:[g.jsx("div",{className:"col form-col",children:c==="programada"?g.jsx($9,{pickupAddress:L,dropoffAddress:K,setPickupAddress:z,setDropoffAddress:U,onSelectInMap:pi,onReservar:Nr,onUbicacionActual:Ir,activeMode:y,horaValue:Q,onHoraChange:se,ampm:D,onAmpmChange:V,markers:x,setMarkers:k}):c==="porhoras"?g.jsx(X9,{horasAddress:ee,setHorasAddress:ie,onSelectInMap:pi,onReservar:Dn,onUbicacionActual:xr,activeMode:y,horaValue:ge,onHoraChange:Le,ampm:Oe,onAmpmChange:Pe,markers:x,setMarkers:k}):g.jsx("div",{className:"form",style:{padding:"2rem",textAlign:"center"},children:g.jsx("p",{children:"Selecciona un tipo de reserva para comenzar"})})}),g.jsx("div",{className:"col map-col",children:g.jsx("div",{className:"map",children:g.jsx(J9,{onMapReady:Tt,onMapClick:ct,selectedInput:m})})})]})]}),S&&g.jsx(dg,{onClose:()=>{w(!1),document.body.style.overflow="auto"},onSuccess:()=>{w(!1),document.body.style.overflow="auto"}}),e.modalExplicacionProgramada&&g.jsx(Z9,{onClose:e.cerrarModales}),e.modalExplicacionHoras&&g.jsx(ex,{onClose:e.cerrarModales}),e.modalConfirmacionProgramada&&g.jsx(tx,{onClose:e.cerrarModales}),e.modalConfirmacionHoras&&g.jsx(nx,{onClose:e.cerrarModales})]})},ox=()=>(j.useEffect(()=>{const r=new IntersectionObserver(n=>{n.forEach(s=>{s.isIntersecting&&s.target.classList.add("active")})},{threshold:.2,rootMargin:"0px 0px -50px 0px"}),e=document.querySelectorAll(".reveal");return e.forEach(n=>r.observe(n)),()=>{e.forEach(n=>r.unobserve(n))}},[]),g.jsx("section",{id:"sobre-nosotros",className:"section about-section",children:g.jsxs("div",{className:"container",children:[g.jsx("div",{className:"about-logo reveal",children:g.jsx("img",{src:"/img/premium.png",alt:"YipiAs",className:"about-logo-img"})}),g.jsx("h2",{className:"about-title reveal",children:"SOBRE NOSOTROS"}),g.jsx("div",{className:"about-divider reveal"}),g.jsxs("div",{className:"about-content reveal",children:[g.jsxs("p",{className:"about-text",children:["Somos una empresa dedicada al servicio de ",g.jsx("span",{className:"about-highlight",children:"transporte seguro y confiable"}),", orientada a personas que llegan a Piura con el propsito de disfrutar de sus playas, su reconocido arte culinario y su valioso patrimonio histrico."]}),g.jsxs("p",{className:"about-text",children:["Nuestra empresa se distingue por ofrecer un servicio de ",g.jsx("span",{className:"about-highlight",children:"alta calidad"}),", respaldado por una flota de vehculos modernos, as como por choferes debidamente calificados, comprometidos con la seguridad, puntualidad y comodidad de nuestros usuarios."]}),g.jsxs("p",{className:"about-text",children:["Operamos formalmente bajo el ",g.jsx("span",{className:"about-highlight",children:"RUC N. 20610695257"}),", registrados legalmente como Plataformas y Soluciones S.A.C. Emitimos facturas y boletas."]})]}),g.jsxs("div",{className:"about-legal reveal",children:[g.jsxs("div",{className:"legal-item",children:[g.jsx("span",{className:"legal-label",children:"RUC:"}),g.jsx("span",{className:"legal-value",children:"20610695257"})]}),g.jsxs("div",{className:"legal-item",children:[g.jsx("span",{className:"legal-label",children:"Razn Social:"}),g.jsx("span",{className:"legal-value",children:"Plataformas y Soluciones S.A.C"})]}),g.jsxs("div",{className:"legal-item",children:[g.jsx("span",{className:"legal-label",children:"Marca:"}),g.jsx("span",{className:"legal-value",children:"YipiAs Per"})]})]}),g.jsxs("div",{className:"about-contact reveal",children:[g.jsxs("div",{className:"contact-item",children:[g.jsx("svg",{className:"contact-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.362 1.903.7 2.81a2 2 0 0 1-.45 2.11L8 10a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.907.338 1.85.573 2.81.7A2 2 0 0 1 22 16.92z"})}),g.jsx("span",{children:"+51 904 635 462"})]}),g.jsxs("div",{className:"contact-item",children:[g.jsxs("svg",{className:"contact-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),g.jsx("polyline",{points:"22,6 12,13 2,6"})]}),g.jsx("span",{children:"soporte@yipias.com"})]})]}),g.jsxs("div",{className:"about-copyright reveal",children:[" ",new Date().getFullYear()," YipiAs  Transporte Turstico Autorizado"]})]})})),lx=()=>g.jsx("footer",{id:"contacto",className:"footer",children:g.jsxs("div",{className:"container",children:[g.jsx("div",{children:"Contacto: +51 904 635 462  Email: soporte@yipias.com"}),g.jsxs("div",{className:"muted",children:[" ",new Date().getFullYear()," YipiAs"]})]})}),cx=()=>g.jsx("a",{href:`https://wa.me/${mg.replace(/\D/g,"")}?text=${encodeURIComponent("Hola! Deseo ms informacin")}`,className:"whatsapp-float",target:"_blank",rel:"noopener noreferrer",children:g.jsx("img",{src:"/img/whatsapp-icon.png",alt:"WhatsApp",className:"whatsapp-icon"})}),ux=()=>{const r=mp(),[e,n]=j.useState(!1),s=o=>{n(o.target.checked),o.target.checked&&setTimeout(()=>{r("/")},500)};return g.jsx("main",{className:"terminos-page",style:{paddingTop:"30px"},children:g.jsxs("div",{className:"container terminos-container",children:[g.jsx("h1",{children:"TRMINOS Y CONDICIONES  YipiAs Premium"}),g.jsx("div",{className:"fecha",children:"ltima actualizacin: 15/02/2026"}),g.jsxs("p",{children:["Los presentes Trminos y Condiciones regulan el acceso y uso de los servicios ofrecidos por ",g.jsx("strong",{children:"YipiAs Premium"}),", marca operada por ",g.jsx("strong",{children:"Plataformas y Soluciones Digitales S.A.C."}),", Repblica del Per (en adelante, YIPIAS). RUC 20610695257  email corporativo ",g.jsx("strong",{children:"soporte@yipias.com"}),"."]}),g.jsx("p",{children:"El uso de la plataforma implica la aceptacin plena, expresa y sin reservas de todas las disposiciones aqu contenidas."}),g.jsx("h2",{children:"1. NATURALEZA DEL SERVICIO Y POSICIONAMIENTO"}),g.jsx("p",{children:"YipiAs es una plataforma tecnolgica de soluciones de movilidad ejecutiva y corporativa, orientada a estndares superiores de calidad, puntualidad, seguridad y confidencialidad."}),g.jsxs("div",{className:"legal-block",children:[g.jsx("p",{children:g.jsx("strong",{children:"YipiAs:"})}),g.jsxs("ul",{children:[g.jsx("li",{children:"No opera como empresa de taxi tradicional."}),g.jsx("li",{children:"No funciona bajo el modelo de aplicacin masiva de transporte urbano."}),g.jsx("li",{children:'No es una app de "carreras inmediatas" de bajo costo.'})]})]}),g.jsxs("div",{className:"legal-block",children:[g.jsx("p",{children:g.jsx("strong",{children:"YipiAs:"})}),g.jsxs("ul",{children:[g.jsx("li",{children:"Establece estndares operativos."}),g.jsx("li",{children:"Define condiciones de servicio."}),g.jsx("li",{children:"Gestiona reservas y pagos."}),g.jsx("li",{children:"Supervisa cumplimiento."}),g.jsx("li",{children:"Mantiene protocolos de calidad ejecutiva."})]})]}),g.jsx("p",{children:"El traslado es ejecutado materialmente por conductores afiliados previamente verificados, quienes actan bajo su responsabilidad operativa conforme a la normativa vigente en el Per."}),g.jsx("h3",{children:"1.1 Cmo funciona YipiAs Premium  Para pasajeros"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Solicita tu viaje:"})," Solo desde yipias.com, acepta los Trminos y Condiciones. Elige inmediato o programado."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Reserva validada:"})," Nuestro equipo revisa tu solicitud y asigna un conductor que cumpla estndares de seguridad, limpieza y presentacin."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Pago seguro:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Anticipado: transferencia o billetera digital (YAPE/PLIN)"}),g.jsx("li",{children:"En efectivo: al conductor, quien registrar tu pago en la plataforma."})]})]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Disfruta el viaje:"})," Puntualidad, trato cordial y aire acondicionado operativo garantizados."]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Comprobante:"})," Recibe tu boleta o factura electrnica segn tu forma de pago."]})]}),g.jsx("p",{children:"Nuestros conductores: Seleccionados para asegurar seguridad, confort y confiabilidad en cada traslado."}),g.jsx("h2",{children:"2.0 REGISTRO Y CUENTA DE USUARIO"}),g.jsxs("p",{children:[g.jsx("strong",{children:"2.1 Cuenta Personal e Intransferible"}),"  Cada usuario debe registrarse con datos reales, exactos y actualizados. La cuenta es personal e intransferible. El titular asume responsabilidad total por toda reserva realizada desde su cuenta."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"2.2 Capacidad Legal"}),"  Solo pueden registrarse mayores de 18 aos. Los menores debern viajar bajo supervisin de adulto responsable."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"2.3 Facultades de YipiAs"}),"  YipiAs podr suspender o cancelar cuentas cuando exista informacin falsa, se incumplan normas de conducta o se detecte uso indebido."]}),g.jsx("h2",{children:"3. CDIGO DE CONDUCTA Y ESTNDAR EJECUTIVO"}),g.jsx("p",{children:"YipiAs promueve un modelo de movilidad ejecutiva basado en respeto, formalidad y trato profesional."}),g.jsxs("p",{children:[g.jsx("strong",{children:"3.1 Trato Respetuoso"}),"  El usuario deber mantener conducta adecuada hacia conductor y unidad."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"3.2 Tolerancia Cero"}),"  No se permitir discriminacin, acoso, agresividad o intoxicacin que comprometa seguridad. La infraccin podr generar suspensin definitiva sin reembolso."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"3.3 Uso Lcito"}),"  Queda prohibido utilizar el servicio para actividades ilcitas. El conductor podr cancelar el servicio sin derecho a reembolso si detecta riesgo legal o de seguridad."]}),g.jsx("h2",{children:"4. MODALIDADES DE SERVICIO"}),g.jsxs("p",{children:[g.jsx("strong",{children:"4.1 Servicio por Trayecto"}),"  Traslado entre origen y destino determinados."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"4.2 Servicio por Tiempo"}),"  Disponibilidad del conductor por horas contratadas."]}),g.jsx("h2",{children:"5. POLTICA DE RESERVAS Y HORARIOS"}),g.jsxs("p",{children:[g.jsx("strong",{children:"5.1 Anticipacin"}),"  Reserva mnima: 30 minutos previos al servicio."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"5.2 Horario Ordinario de atencin"}),"  24/7 los 365 das del ao. 6:00 a.m.  12:00 a.m."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"5.3 Horario Extraordinario"}),"  12:00 a.m.  6:00 a.m. Incrementos de tarifa segn demanda en fechas festivas o en circunstancias de trfico de horas punta. Servicio sujeto a disponibilidad operativa."]}),g.jsx("h2",{children:"6. TARIFAS Y PAGOS"}),g.jsx("p",{children:"Modalidades: Pago anticipado, pago inmediato o prepago corporativo. YipiAs no otorga crditos."}),g.jsxs("p",{children:[g.jsx("strong",{children:"6.1 Medios Aceptados"}),"  Transferencia bancaria, YAPE, PLIN, efectivo (monto exacto)."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"6.2 Facturacin"}),"  Comprobantes electrnicos emitidos dentro de 24 horas."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"6.3 No Pago"}),"  Bloqueo inmediato, gestin de cobranza y suspensin hasta cancelacin total."]}),g.jsx("h2",{children:"7. GESTIN DE TIEMPOS"}),g.jsxs("p",{children:[g.jsx("strong",{children:"7.1 Punto a Punto"}),"  5 minutos de cortesa. S/ 0.70 por minuto adicional. 15 minutos sin presentarse = No Show."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"7.2 Servicios por Horas"}),"  20 km por hora incluidos. S/ 3.00 por km adicional. Excesos menores a 30 min = media hora. Mayores a 30 min = hora completa."]}),g.jsx("h2",{children:"8. PASAJEROS, EQUIPAJE Y MASCOTAS"}),g.jsx("p",{children:"Capacidad determinada por cinturones de seguridad. Equipaje incluido si cabe en maletera. Mascotas permitidas con aviso previo. El usuario asume daos o limpieza adicional."}),g.jsx("h2",{children:"9. CANCELACIONES Y PENALIDADES"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Ms de 2 horas: 0%"}),g.jsx("li",{children:"12 horas: 10%"}),g.jsx("li",{children:"Menos de 1 hora: 20%"}),g.jsx("li",{children:"No Show: 50%"})]}),g.jsx("p",{children:"YipiAs podr cancelar por fuerza mayor con reembolso total o re-agendamiento."}),g.jsx("h2",{children:"10. RESPONSABILIDAD Y SEGUROS"}),g.jsx("p",{children:"Las unidades cuentan con SOAT vigente. YipiAs acta como facilitador tecnolgico. No responde por factores externos (trfico, clima, bloqueos), conducta del usuario o fuerza mayor. La responsabilidad total de YIPIAS no exceder el monto pagado por el servicio que origine la reclamacin."}),g.jsx("h2",{children:"11. SERVICIOS CORPORATIVOS"}),g.jsx("p",{children:"YipiAs podr celebrar contratos especficos con empresas para la prestacin de servicios de movilidad ejecutiva y empresarial..."}),g.jsx("h2",{children:"12. PROHIBICIN DE DESINTERMEDIACIN"}),g.jsx("p",{children:"Est prohibido contratar directamente con conductores afiliados fuera de la plataforma. El incumplimiento podr generar suspensin y acciones legales."}),g.jsx("h2",{children:"13. PROPIEDAD INTELECTUAL"}),g.jsx("p",{children:"Todos los contenidos, marcas, diseos y software pertenecen a YipiAs y estn protegidos por ley."}),g.jsx("h2",{children:"14. PROTECCIN DE DATOS"}),g.jsx("p",{children:"El tratamiento de datos personales se rige por la Poltica de Privacidad publicada por YipiAs, conforme a la Ley N. 29733."}),g.jsx("h2",{children:"15. FUERZA MAYOR"}),g.jsx("p",{children:"YipiAs no ser responsable por manifestaciones, desastres naturales, bloqueos de vas, disposiciones gubernamentales o fallas tcnicas externas."}),g.jsx("h2",{children:"16. MODIFICACIONES"}),g.jsx("p",{children:"YipiAs podr modificar estos Trminos cuando lo considere necesario. Las modificaciones entrarn en vigor 5 das hbiles despus de su publicacin."}),g.jsx("h2",{children:"17. LEY APLICABLE Y JURISDICCIN"}),g.jsx("p",{children:"Los presentes Trminos se rigen por las leyes de la Repblica del Per. Toda controversia ser sometida a los jueces y tribunales competentes de la ciudad de Piura."}),g.jsx("hr",{}),g.jsxs("div",{className:"contacto-final",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"CONTACTO"}),g.jsx("br",{}),"Correo: soporte@yipias.com",g.jsx("br",{}),"WhatsApp: +51 904-635-462"]}),g.jsx("p",{children:" 2026 YipiAs PREMIUM. Todos los derechos reservados."})]}),g.jsxs("div",{className:"footer-checkbox",children:[g.jsx("input",{type:"checkbox",id:"volverCheckbox",checked:e,onChange:s}),g.jsx("label",{htmlFor:"volverCheckbox",children:"He ledo y acepto los Trminos y Condiciones. Al marcar, ser redirigido al inicio."})]})]})})},hx=()=>{const r=mp(),[e,n]=j.useState(!1),s=o=>{n(o.target.checked),o.target.checked&&setTimeout(()=>{r("/")},500)};return g.jsx("main",{className:"privacidad-page",children:g.jsxs("div",{className:"container privacidad-container",children:[g.jsx("h1",{children:"POLTICA DE PRIVACIDAD"}),g.jsx("div",{className:"fecha",children:"YipiAs Premium  ltima actualizacin: 15/02/2026"}),g.jsx("div",{className:"legal-block",children:g.jsxs("p",{children:[g.jsx("strong",{children:"Responsable del tratamiento:"}),g.jsx("br",{}),"Plataformas y Soluciones Digitales S.A.C.",g.jsx("br",{}),"RUC: 20610695257",g.jsx("br",{}),"Marca: YipiAs Premium",g.jsx("br",{}),"Correo: soporte@yipias.com"]})}),g.jsx("h2",{children:"1. DATOS PERSONALES RECOPILADOS"}),g.jsx("p",{children:"YIPIAS recopila nicamente datos necesarios para la operacin de los servicios:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Nombre completo"}),g.jsx("li",{children:"Documento de identidad (DNI u otro equivalente)"}),g.jsx("li",{children:"Nmero de telfono"}),g.jsx("li",{children:"Correo electrnico"}),g.jsx("li",{children:"Direccin de origen y destino"}),g.jsx("li",{children:"Informacin de ubicacin durante el servicio"}),g.jsx("li",{children:"Historial de servicios"}),g.jsx("li",{children:"Datos de facturacin"})]}),g.jsx("p",{children:"En caso de usuarios corporativos:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Empresa"}),g.jsx("li",{children:"Cargo"}),g.jsx("li",{children:"Datos de contacto laboral"})]}),g.jsx("h2",{children:"2. FINALIDAD DEL TRATAMIENTO"}),g.jsx("p",{children:"Los datos se usan exclusivamente para:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Gestin y coordinacin de los traslados"}),g.jsx("li",{children:"Facturacin electrnica"}),g.jsx("li",{children:"Atencin de solicitudes y reclamos"}),g.jsx("li",{children:"Seguridad y prevencin de fraudes"}),g.jsx("li",{children:"Supervisin de conductores y cumplimiento operativo"})]}),g.jsx("p",{children:"No se usarn para fines publicitarios ni comerciales, salvo autorizacin expresa posterior."}),g.jsx("h2",{children:"3. BASE LEGAL"}),g.jsx("p",{children:"El tratamiento de datos se realiza sobre la base de:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Consentimiento del titular"}),g.jsx("li",{children:"Ejecucin del servicio contratado"}),g.jsx("li",{children:"Cumplimiento de obligaciones legales y tributarias"})]}),g.jsx("h2",{children:"4. CONSERVACIN DE DATOS"}),g.jsx("p",{children:"Los datos se conservarn:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Mientras exista relacin contractual activa"}),g.jsx("li",{children:"Durante los plazos exigidos por ley"}),g.jsx("li",{children:"Hasta que el titular solicite su cancelacin, siempre que no exista obligacin legal de conservarlos"})]}),g.jsx("h2",{children:"5. TRANSFERENCIA DE DATOS"}),g.jsx("p",{children:"Los datos podrn compartirse solo con:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Conductores afiliados (solo lo necesario para la prestacin del servicio)"}),g.jsx("li",{children:"Proveedores tecnolgicos para hosting, facturacin electrnica o soporte operativo"}),g.jsx("li",{children:"Autoridades competentes cuando la ley lo exija"})]}),g.jsx("p",{children:"No se cedern datos a terceros con fines publicitarios."}),g.jsx("h2",{children:"6. DERECHOS DEL TITULAR (ARCO)"}),g.jsx("p",{children:"El titular puede ejercer:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Acceso"}),g.jsx("li",{children:"Rectificacin"}),g.jsx("li",{children:"Cancelacin"}),g.jsx("li",{children:"Oposicin"})]}),g.jsxs("p",{children:["Para ello debe enviar solicitud al correo: ",g.jsx("strong",{children:"soporte@yipias.com"}),g.jsx("br",{}),"Indicando nombre completo y nmero de documento."]}),g.jsx("h2",{children:"7. MEDIDAS DE SEGURIDAD"}),g.jsx("p",{children:"YIPIAS aplica medidas tcnicas y organizativas razonables para proteger los datos contra:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Acceso no autorizado"}),g.jsx("li",{children:"Uso indebido"}),g.jsx("li",{children:"Prdida o alteracin"})]}),g.jsx("h2",{children:"8. MODIFICACIONES"}),g.jsxs("p",{children:["YIPIAS puede actualizar esta Poltica cuando lo considere necesario.",g.jsx("br",{}),"Las modificaciones se publicarn en la plataforma y entrarn en vigor desde su publicacin."]}),g.jsx("h2",{children:"9. LEY APLICABLE"}),g.jsx("p",{children:"La presente Poltica se rige por las leyes de la Repblica del Per."}),g.jsx("hr",{}),g.jsxs("div",{className:"contacto-final",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"CONTACTO"}),g.jsx("br",{}),"Correo: soporte@yipias.com",g.jsx("br",{}),"WhatsApp: +51 904-635-462"]}),g.jsx("p",{children:" 2026 YipiAs Premium. Todos los derechos reservados."})]}),g.jsxs("div",{className:"footer-checkbox",children:[g.jsx("input",{type:"checkbox",id:"privacidadCheckbox",checked:e,onChange:s}),g.jsx("label",{htmlFor:"privacidadCheckbox",children:"He ledo y acepto la Poltica de Privacidad y autorizo el tratamiento de mis datos personales exclusivamente para fines operativos segn la Ley N. 29733."})]})]})})},fx=()=>{const{pathname:r}=wr();return j.useEffect(()=>{window.scrollTo(0,0)},[r]),null},dx=({onFinish:r})=>{const[e,n]=j.useState(!1);return j.useEffect(()=>{const s=setTimeout(()=>{n(!0)},4500),o=setTimeout(()=>{r()},5500);return()=>{clearTimeout(s),clearTimeout(o)}},[r]),g.jsx("div",{className:`splash-screen ${e?"fade-out":""}`,children:g.jsxs("div",{className:"splash-content",children:[g.jsx("img",{src:"/img/premium.png",alt:"YipiAs",className:"splash-logo"}),g.jsx("div",{className:"splash-loader"}),g.jsx("p",{className:"splash-text",children:"Cargando..."})]})})};function mx(){const[r,e]=j.useState(!1),[n,s]=j.useState(!0),o=()=>{s(!1)};return g.jsxs(g.Fragment,{children:[n&&g.jsx(dx,{onFinish:o})," ",g.jsx(fx,{}),g.jsx(L9,{onOpenAuth:()=>e(!0)}),g.jsxs(wb,{children:[g.jsx(rh,{path:"/",element:g.jsxs("div",{className:"App",children:[g.jsx(U9,{}),g.jsx(z9,{}),g.jsx("hr",{}),g.jsx(B9,{}),g.jsx(ax,{}),g.jsx(ox,{}),g.jsx(cx,{})]})}),g.jsx(rh,{path:"/terminos",element:g.jsx(ux,{})}),g.jsx(rh,{path:"/privacidad",element:g.jsx(hx,{})})]}),g.jsx(lx,{}),r&&g.jsx(dg,{onClose:()=>{e(!1),document.body.style.overflow="auto"}})]})}IA.createRoot(document.getElementById("root")).render(g.jsx(EA.StrictMode,{children:g.jsx($b,{children:g.jsx(j9,{children:g.jsx(mx,{})})})}));
